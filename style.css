/* ==============================
  🎯 CSS 시스테매틱 모듈 구조
  ============================== */
@layer reset, design-system, layout, components, utilities;

/* ==============================
  🔄 CSS Reset & Base
  ============================== */
@layer reset {
  *, 
  *::before, 
  *::after { 
    margin: 0;
    padding: 0;
    box-sizing: border-box;
  }

  html {
    font-size: 1rem;
    line-height: 1.15;
    -webkit-text-size-adjust: 100%;
    
    @media (prefers-reduced-motion: no-preference) {
      scroll-behavior: smooth;
    }
  }

  button {
    all: unset;
  }
}

/* ==============================
  🎨 디자인 시스템 토큰
  ============================== */
@layer design-system {
  :root {
    /* === 🧮 기본 계산 단위 === */
    --base-unit: 1rem;
    
    --scale-xs: 0.25; 
    --scale-sm: 0.5; 
    --scale-md: 1; 
    --scale-lg: 1.5; 
    --scale-xl: 2; 
    --scale-2xl: 3; 
    --scale-3xl: 4;
    
    --unit-xs: calc(var(--base-unit) * var(--scale-xs)); 
    --unit-sm: calc(var(--base-unit) * var(--scale-sm)); 
    --unit-md: var(--base-unit); 
    --unit-lg: calc(var(--base-unit) * var(--scale-lg)); 
    --unit-xl: calc(var(--base-unit) * var(--scale-xl)); 
    --unit-2xl: calc(var(--base-unit) * var(--scale-2xl)); 
    --unit-3xl: calc(var(--base-unit) * var(--scale-3xl));

    /* === 🎯 타이포그래피 시스템 === */
    --font-family: 'Pretendard GOV', sans-serif;
    --font-size-base: 2.5rem;
    --font-size-scale: 1;
    --font-weight: 600;
    --line-height-label: 1;
    
    --font-size: calc(var(--font-size-base) * var(--font-size-scale));
    --font-size-xl: calc(var(--font-size-base) * var(--font-size-scale) * 1.125);
    --font-size-lg: calc(var(--font-size-base) * var(--font-size-scale) * 0.72);
    --font-size-md: calc(var(--font-size-base) * var(--font-size-scale) * 0.52);
    --font-size-sm: calc(var(--font-size-base) * var(--font-size-scale) * 0.44);
    --font-size-xs: calc(var(--font-size-base) * var(--font-size-scale) * 0.36);

    --icon-size: var(--font-size);

    /* === 🎨 개발중인 디자인시스템 === */
    
    /* ========================================
     🎯 시스템 (Systems)
     ======================================== */
    /* 버튼 시스템 속성 */
    --button-width: 16rem; 
    --button-height: 16rem;
    --button-z-index: 0; 
    --background-z-index: -1; 
    --content-icon-z-index-pressed: 1;
    
    /* 테두리 스타일 (상태별) */
    --border-style-default: solid; 
    --border-style-pressed: solid; 
    --border-style-disabled: dashed; 
    --border-style-pointed: dashed;
    
    /* 테마/팔레트 독립적 속성 */
    --border-color-pointed: var(--color-system-01);
    
    /* 버튼 수정자 공통 속성 */
    --button-cursor-disabled: not-allowed;
    --content-icon-display-pressed-toggle: flex;
    --content-icon-display-default: none;

    /* ========================================
     🎨 팔레트 (Palettes)
     ======================================== */
    /* 원시 팔레트 (Primitive Palette) */
    /* Brown 계열 (6개) */
    --color-brown-01: #4C3F37FF;
    --color-brown-02: #8C532CFF;
    --color-brown-03: #A4693FFF;
    --color-brown-04: #C4895FFF;
    --color-brown-05: #EB9B63FF;
    --color-brown-06: #EEDCD2FF;
    
    /* Yellow 계열 (4개) */
    --color-yellow-01: #241F00FF;
    --color-yellow-02: #807000FF;
    --color-yellow-03: #FFE100FF;
    --color-yellow-04: #FFEF80FF;
    
    /* Gray 계열 (14개) */
    --color-gray-01: #000000FF;
    --color-gray-02: #1F1F1FFF;
    --color-gray-03: #252525FF;
    --color-gray-04: #4C4C4CFF;
    --color-gray-05: #606060FF;
    --color-gray-06: #737373FF;
    --color-gray-07: #757575FF;
    --color-gray-08: #8C8C8CFF;
    --color-gray-09: #BFBFBFFF;
    --color-gray-10: #DBDBDBFF;
    --color-gray-11: #E8E8E8FF;
    --color-gray-12: #F2F2F2FF;
    --color-gray-13: #FAFAFAFF;
    --color-gray-14: #FFFFFFFF;
    
    /* System 계열 (5개) */
    --color-system-01: #FF00E1FF;
    --color-system-02: #B81A00FF;
    --color-system-03: #751200FF;
    --color-system-04: #FF4800FF;
    --color-system-05: #00000099;

    /* 참조 팔레트 (Reference Palette) */
    /* Body 참조 팔레트 */
    --body1-background: var(--color-gray-13);
    --body1-border: var(--color-gray-09);
    --body1-content-primary: var(--color-brown-02);
    --body1-content-secondary: var(--color-gray-02);
    
    --body2-background: var(--color-gray-03);
    --body2-primary1: var(--color-brown-05);
    --body2-primary2: var(--color-brown-03);
    --body2-secondary1: var(--color-gray-14);
    --body2-secondary2: var(--color-gray-08);
    
    --body2-progress-background-standby: var(--color-gray-01);
    --body2-progress-content-complete: var(--color-gray-01);
    
    --body3-background: var(--color-gray-12);
    --body3-content: var(--color-gray-02);

    /* 버튼 팔레트 (Light 테마) */
    /* Primary1 팔레트 */
    --primary1-background-color-default: var(--color-brown-03);
    --primary1-background-color-pressed: var(--color-brown-06);
    --primary1-background-color-disabled: transparent;
    
    --primary1-border-color-default: var(--color-brown-03);
    --primary1-border-color-pressed: var(--color-brown-02);
    --primary1-border-color-disabled: var(--color-brown-02);
    
    --primary1-content-color-default: var(--color-gray-14); 
    --primary1-content-color-pressed: var(--color-brown-02); 
    --primary1-content-color-disabled: var(--color-brown-02);
    
    /* Primary2 팔레트 */
    --primary2-background-color-default: var(--color-gray-11);
    --primary2-background-color-pressed: var(--color-brown-03);
    --primary2-background-color-disabled: transparent;
    
    --primary2-border-color-default: var(--color-gray-09);
    --primary2-border-color-pressed: var(--color-brown-03);
    --primary2-border-color-disabled: var(--color-gray-06);
    
    --primary2-content-color-default: var(--color-gray-03); 
    --primary2-content-color-pressed: var(--color-gray-14); 
    --primary2-content-color-disabled: var(--color-gray-06);
    
    /* Primary3 팔레트 (이중 배경 시스템) */
    /* Background1 (이중 배경) */
    --primary3-background1-color-default: var(--color-gray-14);
    --primary3-background1-color-pressed: var(--color-gray-14);
    --primary3-background1-color-disabled: var(--color-gray-14);
    
    /* Border (테두리) */
    --primary3-border-color-default: var(--color-gray-09);
    --primary3-border-color-pressed: var(--color-brown-03);
    --primary3-border-color-disabled: var(--color-gray-09);
    
    /* Background2 (그라데이션 레이어) - Default */
    --primary3-background2-color-default-g000: #E8E8E800;
    --primary3-background2-color-default-g015: #E8E8E8E6;
    --primary3-background2-color-default-g043: #E8E8E8FF;
    --primary3-background2-color-default-g100: #E8E8E8FF;
    
    /* Background2 (그라데이션 레이어) - Pressed */
    --primary3-background2-color-pressed-g000: #A4693F00;
    --primary3-background2-color-pressed-g015: #A4693FE6;
    --primary3-background2-color-pressed-g043: #A4693FFF;
    --primary3-background2-color-pressed-g100: #A4693FFF;
    
    /* Background2 (그라데이션 레이어) - Disabled */
    --primary3-background2-color-disabled-g000: #E8E8E800;
    --primary3-background2-color-disabled-g015: #E8E8E8E6;
    --primary3-background2-color-disabled-g043: #E8E8E8FF;
    --primary3-background2-color-disabled-g100: #E8E8E8FF;
    
    /* Content2 (background2 내부 HTML 요소) */
    --primary3-content2-color-default1: var(--color-gray-03);
    --primary3-content2-color-default2: var(--color-gray-12);
    --primary3-content2-color-pressed1: var(--color-gray-14);
    --primary3-content2-color-pressed2: var(--color-gray-01);
    --primary3-content2-color-disabled1: var(--color-gray-03);
    --primary3-content2-color-disabled2: var(--color-gray-12);
    
    /* Content3 (별도 특별 HTML 요소) */
    --primary3-content3-color-disabled: var(--color-system-02);
    
    /* Secondary1 팔레트 */
    --secondary1-background-color-default: var(--color-gray-07);
    --secondary1-background-color-pressed: var(--color-gray-11);
    --secondary1-background-color-disabled: transparent;
    
    --secondary1-border-color-default: var(--color-gray-07);
    --secondary1-border-color-pressed: var(--color-gray-09);
    --secondary1-border-color-disabled: var(--color-gray-06);
    
    --secondary1-content-color-default: var(--color-gray-14); 
    --secondary1-content-color-pressed: var(--color-gray-03); 
    --secondary1-content-color-disabled: var(--color-gray-06);
    
    /* Secondary2 팔레트 */
    --secondary2-background-color-default: var(--color-gray-11);
    --secondary2-background-color-pressed: var(--color-gray-07);
    --secondary2-background-color-disabled: transparent;
    
    --secondary2-border-color-default: var(--color-gray-09);
    --secondary2-border-color-pressed: var(--color-gray-07);
    --secondary2-border-color-disabled: var(--color-gray-06);
    
    --secondary2-content-color-default: var(--color-gray-03); 
    --secondary2-content-color-pressed: var(--color-gray-14); 
    --secondary2-content-color-disabled: var(--color-gray-06);
    
    /* Secondary3 팔레트 (이중 배경 시스템 - 아이콘 전용) */
    /* Background1 (기본 버튼 배경) */
    --secondary3-background1-color-default: var(--color-gray-14);
    --secondary3-background1-color-pressed: var(--color-gray-07);
    --secondary3-background1-color-disabled: transparent;
    
    /* Border1 */
    --secondary3-border-color-default: var(--color-gray-09);
    --secondary3-border-color-pressed: var(--color-gray-07);
    --secondary3-border-color-disabled: var(--color-gray-06);
    
    /* Content1 (background1 내부 HTML 요소) */
    --secondary3-content1-color-default: var(--color-gray-01);
    --secondary3-content1-color-pressed: var(--color-gray-14);
    --secondary3-content1-color-disabled: var(--color-gray-06);
    
    /* Background2 (아이콘 전용 배경) */
    --secondary3-background2-color-default: var(--color-gray-01);
    
    /* Content2 (background2 내부 HTML 요소 - 아이콘) */
    --secondary3-content2-color-default: var(--color-gray-14);
  }

  .dark {
    /* Body 참조 팔레트 (Dark 테마) */
    --body1-background: var(--color-gray-01);
    --body1-border: var(--color-gray-07);
    --body1-content-primary: var(--color-yellow-03);
    --body1-content-secondary: var(--color-gray-14);
    
    --body2-background: var(--color-gray-03);
    --body2-primary1: var(--color-brown-05);
    --body2-primary2: var(--color-yellow-02);
    --body2-secondary1: var(--color-gray-14);
    --body2-secondary2: var(--color-gray-14);
    
    --body2-progress-background-standby: var(--color-gray-01);
    --body2-progress-content-complete: var(--color-gray-01);
    
    --body3-background: var(--color-gray-03);
    --body3-content: var(--color-gray-14);

    /* 버튼 팔레트 (Dark 테마) */
    /* Primary1 팔레트 */
    --primary1-background-color-default: var(--color-yellow-03);
    --primary1-background-color-pressed: var(--color-yellow-01);
    --primary1-background-color-disabled: transparent;
    
    --primary1-border-color-default: var(--color-yellow-03);
    --primary1-border-color-pressed: var(--color-yellow-04);
    --primary1-border-color-disabled: var(--color-yellow-03);
    
    --primary1-content-color-default: var(--color-gray-01); 
    --primary1-content-color-pressed: var(--color-yellow-04); 
    --primary1-content-color-disabled: var(--color-yellow-03);
    
    /* Primary2 팔레트 */
    --primary2-background-color-default: var(--color-gray-03);
    --primary2-background-color-pressed: var(--color-yellow-03);
    --primary2-background-color-disabled: transparent;
    
    --primary2-border-color-default: var(--color-gray-07);
    --primary2-border-color-pressed: var(--color-yellow-03);
    --primary2-border-color-disabled: var(--color-gray-07);
    
    --primary2-content-color-default: var(--color-gray-12); 
    --primary2-content-color-pressed: var(--color-gray-01); 
    --primary2-content-color-disabled: var(--color-gray-07);
    
    /* Primary3 팔레트 (이중 배경 시스템) */
    /* Background1 (이중 배경) */
    --primary3-background1-color-default: var(--color-gray-14);
    --primary3-background1-color-pressed: var(--color-gray-01);
    --primary3-background1-color-disabled: var(--color-gray-14);
    
    /* Border (테두리) */
    --primary3-border-color-default: var(--color-gray-07);
    --primary3-border-color-pressed: var(--color-yellow-03);
    --primary3-border-color-disabled: var(--color-gray-07);
    
    /* Background2 (그라데이션 레이어) - Default */
    --primary3-background2-color-default-g000: #00000000;
    --primary3-background2-color-default-g015: #000000E6;
    --primary3-background2-color-default-g043: #000000FF;
    --primary3-background2-color-default-g100: #000000FF;
    
    /* Background2 (그라데이션 레이어) - Pressed */
    --primary3-background2-color-pressed-g000: #FFE10000;
    --primary3-background2-color-pressed-g015: #FFE100E6;
    --primary3-background2-color-pressed-g043: #FFE100FF;
    --primary3-background2-color-pressed-g100: #FFE100FF;
    
    /* Background2 (그라데이션 레이어) - Disabled */
    --primary3-background2-color-disabled-g000: #00000000;
    --primary3-background2-color-disabled-g015: #000000E6;
    --primary3-background2-color-disabled-g043: #000000FF;
    --primary3-background2-color-disabled-g100: #000000FF;
    
    /* Content2 (background2 내부 HTML 요소) */
    --primary3-content2-color-default1: var(--color-gray-03);
    --primary3-content2-color-default2: var(--color-gray-12);
    --primary3-content2-color-pressed1: var(--color-gray-14);
    --primary3-content2-color-pressed2: var(--color-gray-01);
    --primary3-content2-color-disabled1: var(--color-gray-03);
    --primary3-content2-color-disabled2: var(--color-gray-12);
    
    /* Content3 (별도 특별 HTML 요소) */
    --primary3-content3-color-disabled: var(--color-system-04);
    
    /* Secondary1 팔레트 */
    --secondary1-background-color-default: var(--color-gray-07);
    --secondary1-background-color-pressed: var(--color-gray-03);
    --secondary1-background-color-disabled: transparent;
    
    --secondary1-border-color-default: var(--color-gray-07);
    --secondary1-border-color-pressed: var(--color-gray-07);
    --secondary1-border-color-disabled: var(--color-gray-07);
    
    --secondary1-content-color-default: var(--color-gray-14); 
    --secondary1-content-color-pressed: var(--color-gray-12); 
    --secondary1-content-color-disabled: var(--color-gray-07);
    
    /* Secondary2 팔레트 */
    --secondary2-background-color-default: var(--color-gray-03);
    --secondary2-background-color-pressed: var(--color-gray-07);
    --secondary2-background-color-disabled: transparent;
    
    --secondary2-border-color-default: var(--color-gray-07);
    --secondary2-border-color-pressed: var(--color-gray-07);
    --secondary2-border-color-disabled: var(--color-gray-07);
    
    --secondary2-content-color-default: var(--color-gray-12); 
    --secondary2-content-color-pressed: var(--color-gray-14); 
    --secondary2-content-color-disabled: var(--color-gray-07);
    --secondary2-border-color-pointed: var(--color-system-01);
    
    /* Secondary3 팔레트 (이중 배경 시스템 - 아이콘 전용) */
    /* Background1 (기본 버튼 배경) */
    --secondary3-background1-color-default: var(--color-gray-14);
    --secondary3-background1-color-pressed: var(--color-gray-07);
    --secondary3-background1-color-disabled: transparent;
    
    /* Border1 */
    --secondary3-border-color-default: var(--color-gray-09);
    --secondary3-border-color-pressed: var(--color-gray-07);
    --secondary3-border-color-disabled: var(--color-gray-07);
    
    /* Content1 (background1 내부 HTML 요소) */
    --secondary3-content1-color-default: var(--color-gray-01);
    --secondary3-content1-color-pressed: var(--color-gray-14);
    --secondary3-content1-color-disabled: var(--color-gray-07);
    
    /* Background2 (아이콘 전용 배경) */
    --secondary3-background2-color-default: var(--color-gray-01);
    
    /* Content2 (background2 내부 HTML 요소 - 아이콘) */
    --secondary3-content2-color-default: var(--color-gray-14);
  }

  .large {
    --font-size-scale: 1.2;
  }

  /* ========================================
   🎨 아이콘 시스템 (JavaScript 연동)
   ======================================== */
  .icon {
    display: flex;
    width: var(--icon-size);
    height: var(--icon-size);
    align-items: center;
    justify-content: center;

    & svg {
      display: block;
      width: 100%;
      height: 100%;
      fill: currentColor;
    }
  }

  /* ========================================
   🎯 버튼 컴포넌트 시스템 (JavaScript 연동)
   ======================================== */
  .button {
    position: relative;
    display: flex;
    box-sizing: border-box;
    width: var(--button-width);
    height: var(--button-height);
    justify-content: center;
    align-items: center;
    z-index: var(--button-z-index);
    cursor: pointer;
    will-change: transform;
    contain: layout style;
    
    & .background.dynamic {
      position: relative;
      display: flex;
      box-sizing: border-box;
      width: 100%;
      height: 100%;
      background: var(--primary1-background-color-default);
      outline: 0 var(--border-style-default) var(--primary1-border-color-default); 
      flex-flow: column nowrap;
      justify-content: center;
      align-items: center;
      z-index: var(--background-z-index);

      & .content {
        color: var(--primary1-content-color-default);
        &.icon {          
          &.pressed { 
          position: absolute;
            display: var(--content-icon-display-default); 
            z-index: var(--content-icon-z-index-pressed); 
          }
        }
        
        &.label { 
        display: flex;
        width: fit-content;
        height: fit-content;
        font: var(--font-weight) var(--font-size)/var(--line-height-label) var(--font-family);
        align-items: center;
        justify-content: center;
        text-align: center;
      }
    }
    }

    &[aria-disabled="true"] {
      cursor: var(--button-cursor-disabled);
      & .background.dynamic {
        color: var(--primary1-content-color-disabled);
        background: var(--primary1-background-color-disabled);
        outline: 0 var(--border-style-disabled) var(--primary1-border-color-disabled);
      }
    }

    &:hover, 
    &:focus-visible { 
      outline: 0 var(--border-style-pointed) var(--border-color-pointed); 
    }
  }

  /* === 🏠 안내페이지 스타일 === */
  :root {
    /* 페이지 UI 색상 (Light 테마) */
    --page-background-primary: var(--color-gray-13); 
    --page-background-secondary: var(--color-gray-14); 
    --page-background-tertiary: var(--color-gray-11); 
    --page-text-primary: var(--color-gray-03); 
    --page-text-secondary: var(--color-gray-05); 
    --page-text-tertiary: var(--color-gray-08); 
    --page-text-muted: var(--color-gray-09); 
    --page-border-primary: var(--color-gray-10); 
    --page-border-secondary: var(--color-gray-11); 
    --page-accent-primary: var(--color-system-01); 
    --page-accent-secondary: var(--color-brown-03);

    /* 커스텀 팔레트 기본값 (Light 테마 - Primary1 기반) */
    --custom-content-color-default: var(--color-gray-14);
    --custom-content-color-pressed: var(--color-brown-02);
    --custom-content-color-disabled: var(--color-brown-02);

    --custom-background-color-default: var(--color-brown-03);
    --custom-background-color-pressed: var(--color-brown-06);
    --custom-background-color-disabled: transparent;
    
    --custom-border-color-default: var(--color-brown-03);
    --custom-border-color-pressed: var(--color-brown-02);
    --custom-border-color-disabled: var(--color-brown-02);
    --custom-border-color-pointed: var(--color-system-01);
  }

  .dark {
    /* 페이지 UI 색상 (Dark 테마) */
    --page-background-primary: var(--color-gray-02); 
    --page-background-secondary: var(--color-gray-03); 
    --page-background-tertiary: var(--color-gray-04); 
    --page-text-primary: var(--color-gray-14); 
    --page-text-secondary: var(--color-gray-09); 
    --page-text-tertiary: var(--color-gray-08); 
    --page-text-muted: var(--color-gray-05); 
    --page-border-primary: var(--color-gray-04); 
    --page-border-secondary: var(--color-gray-05);

    /* 커스텀 팔레트 기본값 (Dark 테마 - Primary1 기반) */
    --custom-content-color-default: var(--color-gray-01);
    --custom-content-color-pressed: var(--color-yellow-04);
    --custom-content-color-disabled: var(--color-yellow-03);

    --custom-background-color-default: var(--color-yellow-03);
    --custom-background-color-pressed: var(--color-yellow-01);
    --custom-background-color-disabled: transparent;
    
    --custom-border-color-default: var(--color-yellow-03);
    --custom-border-color-pressed: var(--color-yellow-04);
    --custom-border-color-disabled: var(--color-yellow-03);
  }
}

/* ==============================
  🏗️ 레이아웃 시스템
  ============================== */
@layer layout {
  /* === 🏗️ HTML 구조와 연동된 레이아웃 시스템 === */
  body[data-system-version] {
    display: flex;
    padding: 0;
    background: var(--page-background-primary);
    color: var(--page-text-primary);
    font: 1em/1.4 var(--font-family);
    flex-flow: column nowrap;
    gap: 1rem;

    & header, 
    & footer {
      display: flex;
      padding: var(--unit-lg);
      background: var(--page-background-secondary);
      text-align: center;
      flex: 0 0 auto;
      flex-flow: column nowrap;
      gap: var(--unit-md);
    }

    & header {
      color: var(--page-text-primary);
      border-bottom: var(--unit-xs) solid var(--page-border-primary);
    }

    & footer {
      color: var(--page-text-tertiary);
      border-top: var(--unit-xs) solid var(--page-border-primary);
      font-size: var(--font-size-xs);

      & ul {
        padding: 0;
        list-style: none;
      }
      
      & li {
        display: inline-block;
      }
      
      & a {
        color: var(--page-text-secondary);
        text-decoration: none;
        
        &:hover {
          color: var(--page-text-primary);
          text-decoration: underline;
        }
      }
    }

    & main#main-content {
      display: flex;
      width: 100%;    
      padding: 0 1rem;
      flex: 1;
      flex-flow: row nowrap;
      gap: 1rem;

      & aside#control-panel { 
        display: flex;
        width: 25rem;
        flex: 0 0 auto;
        flex-flow: column nowrap;
        gap: 1rem;
      }
      
      & div#demo-area { 
        display: flex; 
        width: 100%; 
        padding: 0; 
        flex: 1; 
        flex-flow: column nowrap; 
        justify-content: space-evenly; 
        gap: 1rem; 
      }
    }

    /* === 📝 타이포그래피 === */
    & h1 { 
      color: var(--page-text-primary); 
      font: 700 var(--font-size-xl) var(--font-family); 
    }
    
    & h2 { 
      color: var(--page-text-primary); 
      font: 600 var(--font-size-lg) var(--font-family); 
    }
    
    & h3 { 
      color: var(--page-text-primary); 
      font: 600 var(--font-size-md)/1.6 var(--font-family); 
    }
    
    & h4 { 
      color: var(--page-text-primary); 
      font: 600 var(--font-size-sm)/1.6 var(--font-family); 
      text-align: left; 
    }
    
    & p { 
      color: var(--page-text-secondary); 
      font: var(--font-size-md)/1.5 var(--font-family); 
    }
    
    & kbd { 
      background: var(--page-background-tertiary); 
      border: 0.125rem solid var(--page-border-secondary); 
      color: var(--page-text-primary); 
      font: 0.8em var(--font-family); 
    }
    
    & strong { 
      color: var(--page-text-primary); 
      font: 600 1em var(--font-family); 
    }

    & ul { 
      padding: 0 0 0 1rem; 
      
      & li { 
        line-height: 1.6; 
      } 
    }
  }
}

/* ==============================
  🧩 컴포넌트 시스템
  ============================== */
@layer components {
  /* === 🎪 Showcase 컨테이너 === */
  .showcase {
    display: flex; 
    background: var(--page-background-secondary); 
    border: var(--unit-xs) solid var(--page-border-primary); 
    border-radius: calc(var(--unit-xs) * 3); 
    flex-flow: column nowrap;

    &.sidebar { 
      padding: var(--unit-sm); 
      gap: var(--unit-xs); 
      font: 0.85em/1.3 var(--font-family); 
      text-align: center; 
    }
    
    &.sidebar.guide { 
      padding: var(--unit-xs); 
      gap: calc(var(--unit-xs) / 2); 
      font: 0.8em/1.2 var(--font-family); 
      text-align: left; 
      width: 100%; 
      
      & h3 { 
        text-align: center; 
      } 
      
      & h4 { 
        text-align: left; 
      } 
      
      & ul { 
        padding: 0 0 0 1.2rem; 
        text-align: left; 
        
        & li { 
          text-align: left; 
          line-height: 1.5; 
        } 
      } 
    }
    
    &.content { 
      padding: var(--unit-lg); 
      gap: var(--unit-sm); 
    }
    
    &.content.palette { 
      flex-flow: row wrap; 
      justify-content: center; 
      align-items: center; 
      gap: var(--unit-lg); 
    }
        
        &.theme {
          flex-flow: row nowrap;
          justify-content: center;
          align-items: center;
          gap: var(--unit-md);
        }

        &.scale {
          flex-flow: column nowrap;
          gap: var(--unit-sm);
    }
  }

  /* === 🎮 인터랙티브 컨트롤 === */
  .scaling {
            display: flex;
            align-items: center;
            gap: var(--unit-xs);

            & label {
              padding: 0;
              color: var(--page-text-secondary);
              font: 500 0.9rem var(--font-family);
      min-width: 6rem; 
      text-align: right; 
            }

            & input[type="range"] {
              height: 0.375rem;
              border: none;
              outline: 0;
              background: var(--page-background-tertiary);
              border-radius: 0.1875rem;
              flex: 1;
              cursor: pointer;

              &::-webkit-slider-thumb {
                width: 1rem;
                height: 1rem;
                appearance: none;
                background: var(--page-accent-primary);
                border: 2px solid var(--page-background-primary);
                border-radius: 50%;
                box-shadow: 0 2px 4px #00000033;
                cursor: pointer;
              }

              &::-moz-range-thumb {
                width: 1rem;
                height: 1rem;
                background: var(--page-accent-primary);
                border: 2px solid var(--page-background-primary);
                border-radius: 50%;
                box-shadow: 0 2px 4px #00000033;
                cursor: pointer;
              }

              &:focus {
        outline: 2px solid var(--color-system-01); 
                outline-offset: 2px;
              }
            }

    &.reset { 
      padding: var(--unit-xs) var(--unit-sm); 
      background: var(--page-background-tertiary); 
      color: var(--page-text-primary); 
      border: 1px solid var(--page-border-primary); 
      border-radius: calc(var(--unit-xs) * 2); 
      font: 500 0.85rem var(--font-family); 
      cursor: pointer; 
      transition: all 0.2s ease; 
      
      &:hover { 
        background: var(--page-background-primary); 
        border-color: var(--page-accent-primary); 
        color: var(--page-accent-primary); 
      } 
      
      &:focus { 
        outline: 2px solid var(--color-system-01); 
        outline-offset: 2px; 
      } 
    }
  }

  .size.value { 
              min-width: 4rem;
              font-size: 0.85rem;
              font-weight: 600;
              color: var(--page-accent-primary);
              text-align: center;
  }


  /* === 🎨 커스텀 팔레트 생성기 UI === */
  .palette-input-group {
    display: flex; 
    align-items: center; 
    gap: var(--unit-xs); 
    margin-bottom: var(--unit-xs);
    
    & label { 
      min-width: 5rem; 
      font-size: 0.75rem; 
      font-weight: 600; 
      color: var(--page-text-secondary); 
      text-align: right; 
    }
    
    & input[type="text"], 
    & input[type="color"] { 
      padding: calc(var(--unit-xs) / 2); 
      border: 1px solid var(--page-border-primary); 
      border-radius: calc(var(--unit-xs) / 2); 
      font: 500 0.75rem var(--font-family); 
      background: var(--page-background-secondary); 
      color: var(--page-text-primary); 
    }
    
    & input[type="color"] { 
      width: 2rem; 
      height: 1.5rem; 
      padding: 0; 
      border: none; 
      border-radius: calc(var(--unit-xs) / 2); 
      cursor: pointer; 
    }
    
    & .hex-input { 
      flex: 1; 
      font-family: 'Courier New', monospace; 
      font-size: 0.7rem; 
    }
    
    /* === 🎨 커스텀 컬러피커 === */
    & .custom-color-picker {
      position: relative;
      display: flex;
      align-items: center;
      
      & .color-display {
        width: 2rem;
        height: 1.5rem;
        border: 1px solid var(--page-border-primary);
        border-radius: calc(var(--unit-xs) / 2);
        cursor: pointer;
        box-shadow: inset 0 0 0 1px rgba(0,0,0,0.1);
      }
      
      & .color-picker-panel {
        position: absolute;
        top: 100%;
        left: 0;
        z-index: 1000;
        display: none;
        background: var(--page-background-secondary);
        border: 1px solid var(--page-border-primary);
        border-radius: calc(var(--unit-xs) * 2);
        padding: var(--unit-sm);
        box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        
        &.active {
          display: block;
        }
        
        & .canvas-container {
          position: relative;
          margin-bottom: calc(var(--unit-xs) * 1.5);
          text-align: center;
          
          & .color-canvas-3d {
            width: 600px;
            height: 600px;
            border: 2px solid var(--page-border-primary);
            border-radius: calc(var(--unit-xs) * 1.5);
            cursor: grab;
            display: block;
            margin: 0 auto;
            
            &:active {
              cursor: grabbing;
            }
          }
          
          & .sphere-info {
            margin-top: var(--unit-xs);
            text-align: center;
            
            & small {
              color: var(--page-text-tertiary);
              font-size: 0.95rem;
              font-style: italic;
              font-weight: 500;
            }
          }
        }
        
        & .color-input-group {
          display: flex;
          align-items: center;
          justify-content: center;
          gap: calc(var(--unit-xs) * 1.5);
          margin-top: calc(var(--unit-xs) * 1.5);
          
          & label {
            font-size: 1.05rem;
            font-weight: 600;
            color: var(--page-text-secondary);
          }
          
          & .panel-hex-input {
            flex: 1;
            max-width: 12rem;
            padding: calc(var(--unit-xs) * 0.75);
            border: 2px solid var(--page-border-primary);
            border-radius: calc(var(--unit-xs) * 0.75);
            font: 600 0.975rem 'Courier New', monospace;
            background: var(--page-background-primary);
            color: var(--page-text-primary);
            text-align: center;
            
            &:focus {
              outline: 1px solid var(--page-accent-primary);
              background: var(--page-background-secondary);
            }
            
            &::placeholder {
              color: var(--page-text-tertiary);
              font-size: 0.6rem;
            }
          }
        }
      }
    }
  }

  .palette-colors-section { 
    margin: var(--unit-sm) 0; 
    
    & h4 { 
      margin-bottom: var(--unit-xs); 
      font-size: 0.8rem; 
      color: var(--page-accent-primary); 
    } 
  }

  .palette-controls {
    display: flex; 
    flex-direction: column; 
    gap: calc(var(--unit-xs) / 2); 
    margin: var(--unit-sm) 0;
    
    & button { 
      padding: var(--unit-xs) var(--unit-sm); 
      background: var(--page-background-tertiary); 
      border: 1px solid var(--page-border-primary); 
      border-radius: calc(var(--unit-xs) / 2); 
      font: 500 0.75rem var(--font-family); 
      color: var(--page-text-primary); 
      cursor: pointer; 
      transition: all 0.2s ease; 
      
      &:hover { 
        background: var(--page-accent-primary); 
        color: var(--page-background-primary); 
        border-color: var(--page-accent-primary); 
      } 
      
      &:focus { 
        outline: 2px solid var(--color-system-01); 
        outline-offset: 2px; 
      } 
    }
  }

}

/* ==============================
  🛠️ 유틸리티 클래스
  ============================== */
@layer utilities {
  /* 향후 유틸리티 클래스들이 필요할 때 추가 */
}
