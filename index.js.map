{
  "version": 3,
  "sources": ["../src/app.js", "../src/modules/color/converter.js", "../src/modules/color/topology.js", "../src/modules/ui/color-sphere-ui.js", "../src/modules/color/mechanics.js", "../src/assets/icons/index.js", "../src/modules/utils/svg-loader.js", "../src/modules/utils/css-injector.js", "../src/modules/button/constants.js", "../src/modules/button/palette-manager.js", "../src/modules/button/style-manager.js", "../src/modules/button/button-system.js", "../src/modules/managers/theme-manager.js", "../src/modules/managers/large-mode-manager.js", "../src/modules/managers/size-control-manager.js", "../src/modules/managers/custom-palette-manager.js", "../src/index.js"],
  "sourcesContent": [
    "/* ==============================\n  üì¶ Î™®Îìà Import\n  ============================== */\nconst { ColorConverter, Topology, Mechanics, AppUtils, ButtonSystem, ThemeManager, LargeTextManager, SizeControlManager, CustomPaletteManager } = window;\n\n/* ==============================\n  üöÄ ÏãúÏä§ÌÖú Ï¥àÍ∏∞Ìôî Î∞è Î¨¥Í≤∞ÏÑ± Í≤ÄÏ¶ù\n  ============================== */\n\nconst initializeApp = async () => {\n  // HTML Íµ¨Ï°∞ Í≤ÄÏ¶ù\n  const requiredElements = ['#main-header', '#main-content', '#control-panel', '#demo-area'];\n  const missingElements = requiredElements.filter(selector => !document.querySelector(selector));\n  if (missingElements.length > 0) {\n    // HTML Íµ¨Ï°∞ Ïò§Î•ò Í∞êÏßÄÎê®\n  }\n  \n  // CSS Î≥ÄÏàò Í≤ÄÏ¶ù\n  const testElement = document.createElement('div');\n  document.body.appendChild(testElement);\n  const computedStyle = getComputedStyle(testElement);\n  const criticalVars = ['--primary1-background-color-default', '--color-system-01', '--font-family'];\n  const missingVars = criticalVars.filter(varName => !computedStyle.getPropertyValue(varName));\n  document.body.removeChild(testElement);\n  if (missingVars.length > 0) {\n    // CSS Î≥ÄÏàò Ïò§Î•ò Í∞êÏßÄÎê®\n  }\n  \n  // Manager Ï¥àÍ∏∞Ìôî (Ï¢ÖÏÜçÏÑ± ÏàúÏÑú)\n  try {\n    ThemeManager.init();\n    LargeTextManager.init();\n    SizeControlManager.init();\n    CustomPaletteManager.init();\n    await ButtonSystem.init();\n  } catch (error) {\n    // ÏãúÏä§ÌÖú Ï¥àÍ∏∞Ìôî Ïã§Ìå®\n    throw error;\n  }\n  \n/* ==============================\n  üéÆ Í∏ÄÎ°úÎ≤å Ïù¥Î≤§Ìä∏ ÏãúÏä§ÌÖú\n  ============================== */\n\n  // ÏúàÎèÑÏö∞ Î¶¨ÏÇ¨Ïù¥Ï¶à Ïãú Î≤ÑÌäº Ïä§ÌÉÄÏùº Ïû¨Í≥ÑÏÇ∞ (Ïì∞Î°úÌãÄÎßÅ)\n  let resizeScheduled = false;\n  window.addEventListener(\"resize\", () => {\n    if (resizeScheduled) return;\n    resizeScheduled = true;\n    requestAnimationFrame(() => {\n      ButtonSystem.StyleManager.applyDynamicStyles();\n      resizeScheduled = false;\n    });\n  });\n\n  // ÌÜ†Í∏Ä Î≤ÑÌäº ÌÅ¥Î¶≠ Ï≤òÎ¶¨\n  document.addEventListener('click', (event) => {\n    const button = event.target?.closest?.('.button');\n    if (!button || button.getAttribute('aria-disabled') === 'true' || \n        button.dataset.isToggleButton !== 'true') return;\n\n    const wasPressed = button.classList.contains('pressed');\n    const iconPressed = button.querySelector('.content.icon.pressed');\n\n    if (wasPressed) {\n      if (iconPressed) iconPressed.style.display = 'none';\n      requestAnimationFrame(() => {\n        button.classList.remove('pressed');\n        button.setAttribute('aria-pressed', 'false');\n        if (iconPressed) iconPressed.style.removeProperty('display');\n      });\n    } else {\n      if (iconPressed) iconPressed.style.removeProperty('display');\n      button.classList.add('pressed');\n      button.setAttribute('aria-pressed', 'true');\n      \n      // ÏÉÅÌÉú Î≥ÄÍ≤Ω ÌõÑ Î™ÖÎèÑÎåÄÎπÑ ÏóÖÎç∞Ïù¥Ìä∏\n      ButtonSystem.StyleManager.scheduleContrastUpdate();\n    }\n  }, false);\n\n  // ÎπÑÌôúÏÑ± Î≤ÑÌäº Ïù¥Î≤§Ìä∏ Ï∞®Îã®\n  const blockDisabledButtonEvents = (event) => {\n    const disabledButton = event.target?.closest?.('.button[aria-disabled=\"true\"]');\n    if (disabledButton) {\n      event.preventDefault();\n      event.stopPropagation();\n      if (typeof event.stopImmediatePropagation === 'function') event.stopImmediatePropagation();\n      return true;\n    }\n    return false;\n  };\n\n  document.addEventListener('click', blockDisabledButtonEvents, true);\n\n  // ÌÇ§Î≥¥Îìú ÏûÖÎ†• Ï≤òÎ¶¨ (ÎπÑÌôúÏÑ± Î≤ÑÌäº)\n  document.addEventListener('keydown', (event) => {\n    const disabledButton = event.target?.closest?.('.button[aria-disabled=\"true\"]');\n    if (disabledButton && (event.key === ' ' || event.key === 'Enter' || event.key === 'NumpadEnter')) {\n      event.preventDefault();\n      event.stopPropagation();\n      return;\n    }\n\n    const enabledButton = event.target?.closest?.('.button');\n    if (enabledButton && enabledButton.getAttribute('aria-disabled') !== 'true') {\n      if (event.key === 'Enter' || event.key === 'NumpadEnter' || event.key === ' ') {\n        event.preventDefault();\n        event.stopPropagation();\n        \n        const isToggleButton = enabledButton.classList.contains('toggle');\n        \n        if (isToggleButton) {\n          const clickEvent = new MouseEvent('click', {\n            bubbles: true,\n            cancelable: true,\n            button: 0\n          });\n          enabledButton.dispatchEvent(clickEvent);\n        } else {\n          enabledButton.classList.add('pressed');\n        setTimeout(() => {\n          enabledButton.classList.remove('pressed');\n          const clickEvent = new MouseEvent('click', {\n            bubbles: true,\n            cancelable: true,\n            button: 0\n          });\n          enabledButton.dispatchEvent(clickEvent);\n        }, 100);\n        }\n      }\n    }\n  }, true);\n\n  // Î∞©Ìñ•ÌÇ§ ÎÑ§ÎπÑÍ≤åÏù¥ÏÖò (Ï¥àÏ†ê Ïù¥Îèô)\n  document.addEventListener('keydown', (event) => {\n    const focusedButton = document.activeElement;\n    const isArrowKey = ['ArrowDown', 'ArrowUp', 'ArrowRight', 'ArrowLeft', 'Home', 'End'].includes(event.key);\n    \n    if ((!focusedButton || !focusedButton.classList.contains('button')) && isArrowKey) {\n      event.preventDefault();\n      const firstButton = document.querySelector('.button');\n      if (firstButton) {\n        firstButton.focus();\n      }\n      return;\n    }\n\n    if (!focusedButton || !focusedButton.classList.contains('button')) {\n      return;\n    }\n\n    let targetButton = null;\n    const allButtons = Array.from(document.querySelectorAll('.button')).filter(btn => \n      btn.offsetParent !== null\n    );\n\n    switch (event.key) {\n      case 'ArrowRight':\n        event.preventDefault();\n        const currentIndex = allButtons.indexOf(focusedButton);\n        const nextIndex = (currentIndex + 1) % allButtons.length;\n        targetButton = allButtons[nextIndex];\n        break;\n        \n      case 'ArrowLeft':\n        event.preventDefault();\n        const currentIndex2 = allButtons.indexOf(focusedButton);\n        const prevIndex = currentIndex2 === 0 ? allButtons.length - 1 : currentIndex2 - 1;\n        targetButton = allButtons[prevIndex];\n        break;\n\n      case 'ArrowDown':\n          event.preventDefault();\n        const currentContainer = focusedButton.closest('.showcase');\n        const currentIndexForDown = allButtons.indexOf(focusedButton);\n        \n        for (let i = 1; i < allButtons.length; i++) {\n          const nextIndex = (currentIndexForDown + i) % allButtons.length;\n          const nextButton = allButtons[nextIndex];\n          const nextContainer = nextButton.closest('.showcase');\n          \n          if (nextContainer !== currentContainer) {\n            targetButton = nextButton;\n            break;\n          }\n        }\n          break;\n          \n      case 'ArrowUp':\n          event.preventDefault();\n        const currentContainerUp = focusedButton.closest('.showcase');\n        const currentIndexUp = allButtons.indexOf(focusedButton);\n        \n        for (let i = 1; i < allButtons.length; i++) {\n          const prevIndex = (currentIndexUp - i + allButtons.length) % allButtons.length;\n          const prevButton = allButtons[prevIndex];\n          const prevContainer = prevButton.closest('.showcase');\n          \n          if (prevContainer !== currentContainerUp) {\n            const buttonsInPrevContainer = allButtons.filter(btn => btn.closest('.showcase') === prevContainer);\n            targetButton = buttonsInPrevContainer[0];\n            break;\n          }\n        }\n          break;\n        \n      case 'Home':\n        event.preventDefault();\n        targetButton = allButtons[0];\n        break;\n        \n      case 'End':\n        event.preventDefault();\n        targetButton = allButtons[allButtons.length - 1];\n        break;\n    }\n\n    if (targetButton) {\n      targetButton.focus();\n    }\n  }, true);\n\n  // ÎßàÏö∞Ïä§ Îã§Ïö¥ - pressed ÏÉÅÌÉú Ï∂îÍ∞Ä\n  document.addEventListener('mousedown', (event) => {\n    const button = event.target?.closest?.('.button');\n    if (button && button.getAttribute('aria-disabled') !== 'true' && !button.classList.contains('toggle')) {\n      button.classList.add('pressed');\n    }\n  }, true);\n\n  // ÎßàÏö∞Ïä§ ÏóÖ - pressed ÏÉÅÌÉú Ï†úÍ±∞ Î∞è Î™ÖÎèÑÎåÄÎπÑ ÏóÖÎç∞Ïù¥Ìä∏\n  document.addEventListener('mouseup', (event) => {\n    const button = event.target?.closest?.('.button');\n    if (button && button.classList.contains('pressed') && !button.classList.contains('toggle')) {\n      button.classList.remove('pressed');\n      \n      // ÏÉÅÌÉú Î≥ÄÍ≤Ω ÌõÑ Î™ÖÎèÑÎåÄÎπÑ ÏóÖÎç∞Ïù¥Ìä∏\n      ButtonSystem.StyleManager.scheduleContrastUpdate();\n    }\n  }, true);\n\n  // ÎßàÏö∞Ïä§ ÏòÅÏó≠ Î≤óÏñ¥ÎÇ® - pressed ÏÉÅÌÉú Ï†úÍ±∞\n  document.addEventListener('mouseleave', (event) => {\n    if (event.target && typeof event.target.closest === 'function') {\n      const button = event.target?.closest?.('.button');\n      if (button && button.classList.contains('pressed') && !button.classList.contains('toggle')) {\n      button.classList.remove('pressed');\n        \n      // ÏÉÅÌÉú Î≥ÄÍ≤Ω ÌõÑ ÏóÖÎç∞Ïù¥Ìä∏\n      ButtonSystem.StyleManager.scheduleUpdate();\n      }\n    }\n  }, true);\n\n  // ÌÑ∞Ïπò ÏãúÏûë - pressed ÏÉÅÌÉú Ï∂îÍ∞Ä\n  document.addEventListener('touchstart', (event) => {\n    const button = event.target?.closest?.('.button');\n    if (button && button.getAttribute('aria-disabled') !== 'true' && !button.classList.contains('toggle')) {\n      button.classList.add('pressed');\n    }\n  }, { passive: true });\n\n  // ÌÑ∞Ïπò Ï¢ÖÎ£å - pressed ÏÉÅÌÉú Ï†úÍ±∞\n  document.addEventListener('touchend', (event) => {\n    const button = event.target?.closest?.('.button');\n    if (button && button.classList.contains('pressed') && !button.classList.contains('toggle')) {\n      button.classList.remove('pressed');\n      \n      // ÏÉÅÌÉú Î≥ÄÍ≤Ω ÌõÑ Î™ÖÎèÑÎåÄÎπÑ ÏóÖÎç∞Ïù¥Ìä∏\n      ButtonSystem.StyleManager.scheduleContrastUpdate();\n    }\n  }, { passive: true });\n\n  // ÌÑ∞Ïπò Ï∑®ÏÜå - pressed ÏÉÅÌÉú Ï†úÍ±∞\n  document.addEventListener('touchcancel', (event) => {\n    const button = event.target?.closest?.('.button');\n    if (button && button.classList.contains('pressed') && !button.classList.contains('toggle')) {\n      button.classList.remove('pressed');\n      \n      // ÏÉÅÌÉú Î≥ÄÍ≤Ω ÌõÑ Î™ÖÎèÑÎåÄÎπÑ ÏóÖÎç∞Ïù¥Ìä∏\n      ButtonSystem.StyleManager.scheduleContrastUpdate();\n    }\n  }, { passive: true });\n\n  // Ï†ÑÏó≠ Í∞ùÏ≤¥ ÎÖ∏Ï∂ú (ÎîîÎ≤ÑÍπÖ Î∞è ÌïòÏúÑ Ìò∏ÌôòÏÑ±)\n  window.AppUtils = AppUtils;\n  window.ButtonSystem = ButtonSystem;\n  window.ThemeManager = ThemeManager;\n  window.LargeTextManager = LargeTextManager;\n  window.SizeControlManager = SizeControlManager;\n  window.CustomPaletteManager = CustomPaletteManager;\n};\n\n// DOM Î°úÎìú ÏôÑÎ£å ÌõÑ Ï¥àÍ∏∞Ìôî Ïã§Ìñâ\nif (document.readyState === 'loading') {\n  window.addEventListener('DOMContentLoaded', initializeApp);\n} else {\n  initializeApp();\n}\n",
    "/* ==============================\n  üé® ÏÉâÏÉÅ Ïª®Î≤ÑÌÑ∞ Î™®Îìà\n  ============================== */\n\nexport const ColorConverter = {\n  // 8ÏûêÎ¶¨ Ìó•Ïä§ÏΩîÎìú Î≥ÄÌôò\n  rgbaToHex(r, g, b, a = 255) {\n    return chroma.rgb(r, g, b).alpha(a / 255).hex('rgba').toUpperCase();\n  },\n  // RGBA ÏßÅÏ†ë ÏÉùÏÑ± (ÌååÏã± Ïò§Î≤ÑÌó§Îìú ÏóÜÏùå)\n  rgba(r, g, b, a = 255) {\n    return { r, g, b, a };\n  },\n  // 8ÏûêÎ¶¨ Ìó•Ïä§ÏΩîÎìú ÌååÏã±\n  hexToRgba(hex) {\n    const color = chroma(hex);\n    const rgb = color.rgb();\n    return {\n      r: rgb[0],\n      g: rgb[1],\n      b: rgb[2],\n      a: Math.round(color.alpha() * 255)\n    };\n  },\n  // HSV ‚Üí RGB Î≥ÄÌôò\n  hsvToRgb(h, s, v) {\n    const rgb = chroma.hsv(h, s, v).rgb();\n    return {\n      r: rgb[0],\n      g: rgb[1],\n      b: rgb[2]\n    };\n  },\n  // HSV ‚Üí 8ÏûêÎ¶¨ Ìó•Ïä§ÏΩîÎìú Î≥ÄÌôò\n  hsvToHex(h, s, v, a = 255) {\n    return chroma.hsv(h, s, v).alpha(a / 255).hex('rgba').toUpperCase();\n  },\n  // RGB ‚Üí HSL Î≥ÄÌôò\n  rgbToHsl(r, g, b) {\n    const hsl = chroma.rgb(r, g, b).hsl();\n    return {\n      h: Math.round(hsl[0] || 0),\n      s: Math.round(hsl[1] * 100),\n      l: Math.round(hsl[2] * 100)\n    };\n  },\n  // HSL ‚Üí RGB Î≥ÄÌôò\n  hslToRgb(h, s, l) {\n    const rgb = chroma.hsl(h, s, l).rgb();\n    return {\n      r: rgb[0],\n      g: rgb[1],\n      b: rgb[2]\n    };\n  },\n  // HSL ‚Üí 8ÏûêÎ¶¨ Ìó•Ïä§ÏΩîÎìú Î≥ÄÌôò\n  hslToHex(h, s, l, a = 255) {\n    return chroma.hsl(h, s, l).alpha(a / 255).hex('rgba').toUpperCase();\n  }\n};\n",
    "/* ==============================\n  üåê ÌÜµÌï© ÏúÑÏÉÅ ÏãúÏä§ÌÖú Î™®Îìà\n  ============================== */\n\nexport const Topology = {\n  // Ï¢åÌëúÍ≥Ñ ÏÉÅÏàò Ï†ïÏùò\n  COORDINATE_SYSTEM: {\n    SPHERICAL: {\n      NORTH_POLE: { theta: 0, phi: 0 },\n      SOUTH_POLE: { theta: Math.PI, phi: 0 },\n      EQUATOR: { theta: Math.PI/2, phi: 0 }\n    },\n    \n    CARTESIAN: {\n      ORIGIN: { x: 0, y: 0, z: 0 },\n      NORTH_POLE: { x: 0, y: 0, z: 1 },\n      SOUTH_POLE: { x: 0, y: 0, z: -1 }\n    },\n    \n    POLAR_COLORS: {\n      NORTH_POLE: { r: 255, g: 255, b: 255 },\n      SOUTH_POLE: { r: 0, g: 0, b: 0 }\n    },\n\n    SCREEN: {\n      CENTER: { x: 0, y: 0 },\n      UNIT_RADIUS: 1\n    },\n  },\n\n  // Íµ¨Î©¥ Ï¢åÌëú(theta, phi) ‚Üí RGB ÏÉâÏÉÅ Í≥ÑÏÇ∞\n  calculateColor(theta, phi) {\n    const hue = ((phi + Math.PI) / (2 * Math.PI)) * 360;\n    const h6 = Math.floor(hue / 60) % 6;\n    const f = (hue % 60) / 60;\n    \n    const getHueColor = () => {\n      switch(h6) {\n        case 0: return { r: 255, g: Math.round(f * 255), b: 0 };\n        case 1: return { r: Math.round((1-f) * 255), g: 255, b: 0 };\n        case 2: return { r: 0, g: 255, b: Math.round(f * 255) };\n        case 3: return { r: 0, g: Math.round((1-f) * 255), b: 255 };\n        case 4: return { r: Math.round(f * 255), g: 0, b: 255 };\n        case 5: return { r: 255, g: 0, b: Math.round((1-f) * 255) };\n      }\n    };\n    \n    const thetaDeg = theta * 180 / Math.PI;\n    const lightnessRatio = thetaDeg < 90 ? 1.0 - ((thetaDeg - 3) / 84) * 0.5 : 0.5 - ((thetaDeg - 93) / 84) * 0.5;\n    const { r: baseR, g: baseG, b: baseB } = getHueColor();\n    const totalSaturation = Math.sin(theta);\n    const gray = Math.round(lightnessRatio * 255);\n    \n    return {\n      r: Math.round(gray + (baseR - gray) * totalSaturation),\n      g: Math.round(gray + (baseG - gray) * totalSaturation),\n      b: Math.round(gray + (baseB - gray) * totalSaturation)\n    };\n  },\n\n  // ÎåÄÏ≤¥ ÏÉâÏÉÅ Í≥ÑÏÇ∞ (Í∑πÏßÄÎ∞© Î∞è Ï†ÅÎèÑ ÏµúÏ†ÅÌôî)\n  calculateColor2(theta, phi) {\n    const thetaDeg = theta * 180 / Math.PI;\n    const isPolarRegion = (thetaDeg < 3 || thetaDeg > 177);\n    const isEquatorRegion = (Math.abs(thetaDeg - 90) < 3);\n    \n    if (isPolarRegion) {\n      return thetaDeg < 3 ? this.COORDINATE_SYSTEM.POLAR_COLORS.NORTH_POLE : this.COORDINATE_SYSTEM.POLAR_COLORS.SOUTH_POLE;\n    }\n    \n    const hue = ((phi + Math.PI) / (2 * Math.PI)) * 360;\n    const h6 = Math.floor(hue / 60) % 6;\n    const f = (hue % 60) / 60;\n    \n    const getHueColor = () => {\n      switch(h6) {\n        case 0: return { r: 255, g: Math.round(f * 255), b: 0 };\n        case 1: return { r: Math.round((1-f) * 255), g: 255, b: 0 };\n        case 2: return { r: 0, g: 255, b: Math.round(f * 255) };\n        case 3: return { r: 0, g: Math.round((1-f) * 255), b: 255 };\n        case 4: return { r: Math.round(f * 255), g: 0, b: 255 };\n        case 5: return { r: 255, g: 0, b: Math.round((1-f) * 255) };\n      }\n    };\n    \n    if (isEquatorRegion) {\n      return getHueColor();\n    }\n    \n    const lightnessRatio = thetaDeg < 90 ? 1.0 - ((thetaDeg - 3) / 84) * 0.5 : 0.5 - ((thetaDeg - 93) / 84) * 0.5;\n    const { r: baseR, g: baseG, b: baseB } = getHueColor();\n    const totalSaturation = Math.sin(theta);\n    const gray = Math.round(lightnessRatio * 255);\n    \n    return {\n      r: Math.round(gray + (baseR - gray) * totalSaturation),\n      g: Math.round(gray + (baseG - gray) * totalSaturation),\n      b: Math.round(gray + (baseB - gray) * totalSaturation)\n    };\n  }\n};\n",
    "/* ==============================\n  üé® ÏÉâÏÉÅ Íµ¨Ï≤¥ UI Ïª®Ìä∏Î°§Îü¨\n  ============================== */\n\nexport const ColorSphereUI = {\n  // ÌôïÎåÄ/Ï∂ïÏÜå Ïä¨ÎùºÏù¥Îçî ÏÑ§Ï†ï\n  setupZoomSlider(sphereState, canvas) {\n    const zoomSlider = document.getElementById('zoom-slider');\n    const zoomValue = document.querySelector('.zoom-value');\n    \n    if (!zoomSlider || !zoomValue) return;\n    \n    zoomSlider.addEventListener('input', (e) => {\n      sphereState.zoom = parseFloat(e.target.value);\n      // MechanicsÎäî windowÏóêÏÑú Í∞ÄÏ†∏Ïò¥\n      window.Mechanics.RenderColorSphere(canvas.getContext('2d'), sphereState);\n      zoomValue.textContent = `${Math.round(sphereState.zoom * 100)}%`;\n    });\n    \n    zoomSlider.value = sphereState.zoom;\n    zoomValue.textContent = `${Math.round(sphereState.zoom * 100)}%`;\n  },\n\n  // ÏÉâÏÉÅ Ï†ïÎ≥¥ ÏóÖÎç∞Ïù¥Ìä∏ ÏÑ§Ï†ï\n  setupColorInfoUpdate(sphereState, canvas) {\n    const colorHex = document.querySelector('.color-hex');\n    const colorRgb = document.querySelector('.color-rgb');\n    const colorHsl = document.querySelector('.color-hsl');\n    \n    if (!colorHex || !colorRgb || !colorHsl) return;\n    \n    const updateColorInfo = () => {\n      const hex = `#${sphereState.selectedColor.r.toString(16).padStart(2, '0')}${sphereState.selectedColor.g.toString(16).padStart(2, '0')}${sphereState.selectedColor.b.toString(16).padStart(2, '0')}`.toUpperCase();\n      const rgb = `rgb(${sphereState.selectedColor.r}, ${sphereState.selectedColor.g}, ${sphereState.selectedColor.b})`;\n      const hslString = `hsl(${Math.round((sphereState.selectedColor.r + sphereState.selectedColor.g + sphereState.selectedColor.b) / 3 * 360 / 255)}, 50%, 50%)`;\n      \n      colorHex.textContent = hex;\n      colorRgb.textContent = rgb;\n      colorHsl.textContent = hslString;\n    };\n    \n    updateColorInfo();\n    \n    setInterval(() => {\n      if (sphereState.selectedColor) {\n        updateColorInfo();\n      }\n    }, 100);\n  }\n};\n\n",
    "/* ==============================\n  üåç Ïó≠Ìïô ÏãúÏä§ÌÖú Î™®Îìà\n  ============================== */\n\nimport { Topology } from './topology.js';\nimport { ColorSphereUI } from '../ui/color-sphere-ui.js';\n\nexport const Mechanics = {\n  // Ï†ÑÏó≠ ÌÜµÌï© ÏÉâÍµ¨Ï≤¥ ÏÉÅÌÉú\n  UnifiedSphereState: {\n    dragging: false,\n    v0: null,\n    Q: [1, 0, 0, 0],  // Î∂ÅÍ∑πÏ†ê Ï§ëÏã¨ Ï†ïÎ†¨\n    last: [0, 0],\n    zoom: 1.0,\n    selectedColor: { r: 0, g: 0, b: 0 },  // Î†åÎçîÎßÅ ÏÉâÍµ¨Ï≤¥Ïùò ÌëúÎ©¥ Ï§ëÏã¨Ï†ê ÏÉâÏÉÅ\n    isDragging: false\n  },\n\n  // ÏÉâÍµ¨Ï≤¥ Ï¥àÍ∏∞Ìôî Ìï®Ïàò\n  initializeColorSphere(selector = '#color-sphere-canvas', onUpdate = null) {\n    const canvas = document.querySelector(selector);\n    if (!canvas) return;\n    \n    const ctx = canvas.getContext('2d');\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n    this.RenderColorSphere(ctx, this.UnifiedSphereState);\n    \n    this.setupCanvasInteraction(canvas, this.UnifiedSphereState, onUpdate);\n    ColorSphereUI.setupZoomSlider(this.UnifiedSphereState, canvas);\n    ColorSphereUI.setupColorInfoUpdate(this.UnifiedSphereState, canvas);\n  },\n\n  // ÏßÅÍµêÏ¢åÌëú ‚Üí Íµ¨Î©¥Ï¢åÌëú Î≥ÄÌôò\n  cartesianToSpherical(x, y, z) {\n    const r = Math.sqrt(x * x + y * y + z * z);\n    return { r, theta: Math.acos(Math.max(-1, Math.min(1, z / r))), phi: Math.atan2(y, x) };\n  },\n  \n  // Íµ¨Î©¥Ï¢åÌëú ‚Üí ÏßÅÍµêÏ¢åÌëú Î≥ÄÌôò\n  sphericalToCartesian(r, theta, phi) {\n    return { x: r * Math.sin(theta) * Math.cos(phi), y: r * Math.sin(theta) * Math.sin(phi), z: r * Math.cos(theta) };\n  },\n  \n  // ÌôîÎ©¥Ï¢åÌëú ‚Üí Íµ¨Î©¥ÌëúÎ©¥ Ï¢åÌëú Î≥ÄÌôò\n  screenToSphericalSurface(screenX, screenY, radius) {\n    if (Math.sqrt(screenX * screenX + screenY * screenY) > radius) return null;    \n    const cartesian = { x: screenX/radius, y: screenY/radius, z: Math.sqrt(radius * radius - screenX * screenX - screenY * screenY)/radius };\n    return { screen: { x: screenX, y: screenY }, cartesian, spherical: this.cartesianToSpherical(cartesian.x, cartesian.y, cartesian.z) };\n  },\n\n  // ÎßàÏö∞Ïä§ ÌÅ¥Î¶≠ ‚Üí Íµ¨Î©¥ Ï¢åÌëú\n  mouseClickToSphericalCoordinates(screenX, screenY, canvas) {\n    const rect = canvas.getBoundingClientRect();\n    return this.screenToSphericalSurface(screenX - rect.width / 2, screenY - rect.height / 2, Math.min(rect.width, rect.height) / 2);\n  },\n\n  // ÏÉâÏÉÅ ‚Üí Íµ¨Î©¥ Ï¢åÌëú Î≥ÄÌôò\n  colorToCoordinate(hexColor) {\n    for (let theta = 0; theta <= Math.PI; theta += 0.05) {\n      for (let phi = -Math.PI; phi <= Math.PI; phi += 0.05) {\n        const color = Topology.calculateColor(theta, phi);\n        if (chroma.rgb(color.r, color.g, color.b).hex() === chroma(hexColor).hex()) return { theta, phi };\n      }\n    }\n  },\n\n  // Î≤°ÌÑ∞ Ï†ïÍ∑úÌôî\n  normalize(v) {\n    const length = Math.sqrt(v.reduce((sum, val) => sum + val * val, 0));\n    if (length === 0) throw new Error('ÏòÅÎ≤°ÌÑ∞Îäî Ï†ïÍ∑úÌôîÌï† Ïàò ÏóÜÏäµÎãàÎã§');\n    return v.map(val => val / length);\n  },\n  \n  // Ï∂ïÍ≥º Í∞ÅÎèÑÎ°úÎ∂ÄÌÑ∞ ÏøºÌÑ∞ÎãàÏñ∏ ÏÉùÏÑ±\n  fromAxisAngle(axis, angle) {\n    const s = Math.sin(angle * 0.5);\n    return [axis[0] * s, axis[1] * s, axis[2] * s, Math.cos(angle * 0.5)];\n  },\n  \n  // ÏøºÌÑ∞ÎãàÏñ∏ Í≥±ÏÖà\n  multiply(q1, q2) {\n    return [\n      q1[3] * q2[0] + q1[0] * q2[3] + q1[1] * q2[2] - q1[2] * q2[1],\n      q1[3] * q2[1] - q1[0] * q2[2] + q1[1] * q2[3] + q1[2] * q2[0],\n      q1[3] * q2[2] + q1[0] * q2[1] - q1[1] * q2[0] + q1[2] * q2[3],\n      q1[3] * q2[3] - q1[0] * q2[0] - q1[1] * q2[1] - q1[2] * q2[2]\n    ];\n  },\n  \n  // ÏøºÌÑ∞ÎãàÏñ∏ÏúºÎ°ú Î≤°ÌÑ∞ ÌöåÏ†Ñ\n  rotateVector(q, v) {\n    return this.multiply(this.multiply(q, [v[0], v[1], v[2], 0]), [-q[0], -q[1], -q[2], q[3]]).slice(0, 3);\n  },\n  \n  // Íµ¨Î©¥ ÏÑ†Ìòï Î≥¥Í∞Ñ (SLERP)\n  slerp(q1, q2, t) {\n    const dot = q1[0] * q2[0] + q1[1] * q2[1] + q1[2] * q2[2] + q1[3] * q2[3];\n    const theta0 = Math.acos(Math.abs(dot));\n    const theta = theta0 * t;\n    const sinTheta0 = Math.sin(theta0);\n    const s0 = Math.cos(theta) - dot * Math.sin(theta) / sinTheta0;\n    const s1 = Math.sin(theta) / sinTheta0;\n    return [s0 * q1[0] + s1 * q2[0], s0 * q1[1] + s1 * q2[1], s0 * q1[2] + s1 * q2[2], s0 * q1[3] + s1 * q2[3]];\n  },\n  \n  // ÎìúÎûòÍ∑∏ ÌöåÏ†Ñ Í≥ÑÏÇ∞\n  fromDragRotation(dx, dy, sensitivity = 0.005) {\n    return Math.sqrt(dx * dx + dy * dy) * sensitivity < 1e-6 ? [1, 0, 0, 0] : this.fromAxisAngle(this.normalize([dy, -dx, 0]), Math.sqrt(dx * dx + dy * dy) * sensitivity);\n  },\n  \n  // ÌÅ¥Î¶≠ ÌöåÏ†Ñ Í≥ÑÏÇ∞\n  fromClickRotation(screenX, screenY) {\n    return Math.sqrt(screenX * screenX + screenY * screenY) * Math.PI * 0.5 < 1e-6 ? [1, 0, 0, 0] : this.fromAxisAngle(this.normalize([screenY, -screenX, 0]), Math.sqrt(screenX * screenX + screenY * screenY) * Math.PI * 0.5);\n  },\n  \n  // 3D Íµ¨Ï≤¥ Î†åÎçîÎßÅ\n  RenderColorSphere(ctx, sphereState) {\n    const width = ctx.canvas.width;\n    const height = ctx.canvas.height;\n    const centerX = width / 2;\n    const centerY = height / 2;\n    const radius = (Math.min(width, height) / 2 - 20) * sphereState.zoom;\n    \n    ctx.clearRect(0, 0, width, height);\n    \n    const imageData = ctx.createImageData(width, height);\n    const data = imageData.data;\n    \n    for (let y = 0; y < height; y++) {\n      for (let x = 0; x < width; x++) {\n        const dx = x - centerX;\n        const dy = y - centerY;\n        \n        if (dx * dx + dy * dy <= radius * radius) {\n          const screenX = dx / radius;\n          const screenY = dy / radius;\n          const screenZ = Math.sqrt(Math.max(0, 1 - screenX * screenX - screenY * screenY));\n          \n          const rotatedVector = this.rotateVector(sphereState.Q, [screenX, screenY, screenZ]);\n          const color = Topology.calculateColor(Math.acos(Math.max(-1, Math.min(1, rotatedVector[2]))), Math.atan2(rotatedVector[1], rotatedVector[0]));\n          \n          const index = (y * width + x) * 4;\n          data[index] = color.r;\n          data[index + 1] = color.g;\n          data[index + 2] = color.b;\n          data[index + 3] = 255;\n        }\n      }\n    }\n    \n    ctx.putImageData(imageData, 0, 0);\n    \n    if (sphereState.selectedColor) {\n      const { r, g, b } = sphereState.selectedColor;\n      ctx.fillStyle = `rgb(${r}, ${g}, ${b})`;\n      ctx.beginPath();\n      ctx.arc(centerX, centerY, 4, 0, 2 * Math.PI);\n      ctx.fill();\n      \n      const brightness = (r * 0.299 + g * 0.587 + b * 0.114);\n      ctx.strokeStyle = brightness > 127 ? 'rgba(0,0,0,0.8)' : 'rgba(255,255,255,0.8)';\n      ctx.lineWidth = 2;\n      ctx.stroke();\n    }\n  },\n  \n  // 3D Ï∫îÎ≤ÑÏä§ ÏÉÅÌò∏ÏûëÏö© ÏÑ§Ï†ï (ÎìúÎûòÍ∑∏, ÌÅ¥Î¶≠, Ìú†)\n  setupCanvasInteraction(canvas, sphereState, onUpdate) {\n    let dragStartPos = null;\n    let hasDragged = false;\n    let ctx = canvas.getContext('2d');\n    \n    canvas.addEventListener('pointerdown', (e) => {\n      e.preventDefault();\n      e.stopPropagation();\n      sphereState.dragging = true;\n      sphereState.last = [e.clientX, e.clientY];\n      sphereState.isDragging = true;\n      dragStartPos = [e.clientX, e.clientY];\n      hasDragged = false;\n      canvas.setPointerCapture(e.pointerId);\n      canvas.style.cursor = 'grabbing';\n    }, { passive: false });\n    \n    canvas.addEventListener('pointermove', (e) => {\n      if (!sphereState.dragging) return;\n      \n      e.preventDefault();\n      e.stopPropagation();\n      const dx = e.clientX - sphereState.last[0];\n      const dy = e.clientY - sphereState.last[1];\n      sphereState.last = [e.clientX, e.clientY];\n      \n      if (!hasDragged && dragStartPos) {\n        if (Math.hypot(e.clientX - dragStartPos[0], e.clientY - dragStartPos[1]) > 3) hasDragged = true;\n      }\n      \n      const dq = this.fromDragRotation(dx, dy, 1 / (0.45 * Math.min(canvas.clientWidth, canvas.clientHeight)));\n      \n      if (dq[0] !== 1) {\n        sphereState.Q = this.multiply(sphereState.Q, dq);\n      }\n      \n      if (onUpdate) onUpdate(canvas);\n      \n      this.RenderColorSphere(ctx, sphereState);\n    });\n    \n    canvas.addEventListener('pointerup', (e) => {\n      e.preventDefault();\n      e.stopPropagation();\n      sphereState.dragging = false;\n      sphereState.isDragging = false;\n      canvas.releasePointerCapture(e.pointerId);\n      canvas.style.cursor = 'grab';\n      \n      requestAnimationFrame(() => {\n        this.RenderColorSphere(ctx, sphereState);\n      });\n    });\n    \n    canvas.addEventListener('click', (e) => {\n      e.preventDefault();\n      e.stopPropagation();\n      if (!hasDragged) {\n        const rect = canvas.getBoundingClientRect();\n        const x = e.clientX - rect.left;\n        const y = e.clientY - rect.top;\n        \n        const coordinates = this.mouseClickToSphericalCoordinates(x, y, canvas);\n        if (coordinates) {\n          const targetVector = [coordinates.cartesian.x, coordinates.cartesian.y, coordinates.cartesian.z];\n          const currentVector = [0, 0, 1];\n          \n          const axis = [\n            currentVector[1] * targetVector[2] - currentVector[2] * targetVector[1],\n            currentVector[2] * targetVector[0] - currentVector[0] * targetVector[2],\n            currentVector[0] * targetVector[1] - currentVector[1] * targetVector[0]\n          ];\n          \n          const angle = Math.acos(Math.max(-1, Math.min(1, currentVector[0] * targetVector[0] + currentVector[1] * targetVector[1] + currentVector[2] * targetVector[2])));\n          \n          if (angle > 0.01) {\n            this.animateToQuaternion(sphereState, this.fromAxisAngle(this.normalize(axis), angle), canvas);\n          }\n        }\n      }\n      \n      hasDragged = false;\n      dragStartPos = null;\n    });\n    \n    canvas.addEventListener('wheel', (e) => {\n      e.preventDefault();\n      e.stopPropagation();\n      \n      const picker = canvas.closest('.custom-color-picker');\n      if (!picker) return;\n      \n      const panelHexInput = picker.querySelector('.panel-hex-input');\n      if (!panelHexInput) return;\n      \n      const currentHex = panelHexInput.value.replace('#', '');\n      if (currentHex.length >= 6) {\n        let alpha = currentHex.length === 8 ? parseInt(currentHex.substr(6, 2), 16) : 255;\n        \n        const alphaChange = e.deltaY > 0 ? -4 : 4;\n        alpha = Math.max(0, Math.min(255, alpha + alphaChange));\n        \n        const newHex = currentHex.substr(0, 6) + alpha.toString(16).padStart(2, '0').toUpperCase();\n        panelHexInput.value = '#' + newHex;\n        \n        panelHexInput.dispatchEvent(new Event('input', { bubbles: true }));\n        \n        setTimeout(() => {\n          if (window.ButtonSystem && window.ButtonSystem.StyleManager) {\n            window.ButtonSystem.StyleManager.scheduleUpdate();\n          }\n        }, 100);\n      }\n    });\n  },\n  \n  // ÌÅ¥Î¶≠ ÌöåÏ†Ñ Ïï†ÎãàÎ©îÏù¥ÏÖò (Î∂ÄÎìúÎü¨Ïö¥ Ï†ÑÌôò)\n  animateToQuaternion(sphereState, targetQ, canvas) {\n    const startQ = [...sphereState.Q];\n    const startTime = performance.now();\n    const ctx = canvas.getContext('2d');\n    \n    const animate = (currentTime) => {\n      const progress = Math.min((currentTime - startTime) / 1000, 1);\n      sphereState.Q = this.slerp(startQ, targetQ, 1 - Math.pow(1 - progress, 3));\n      this.RenderColorSphere(ctx, sphereState);\n      if (progress < 1) requestAnimationFrame(animate);\n    };\n    requestAnimationFrame(animate);\n  }\n};\n",
    "/* ==============================\n  üé® ÏïÑÏù¥ÏΩò Ï§ëÏïô Í¥ÄÎ¶¨ ÏãúÏä§ÌÖú\n  ÏûêÎèô ÏÉùÏÑ±Îê® - ÏßÅÏ†ë ÏàòÏ†ïÌïòÏßÄ ÎßàÏÑ∏Ïöî!\n  Ïä§ÌÅ¨Î¶ΩÌä∏: npm run update-icons\n  ============================== */\n\n// ÏïÑÏù¥ÏΩò Í≤ΩÎ°ú Ï†ïÏùò (ÏûêÎèô ÏÉùÏÑ±Îê®)\nexport const iconPaths = {\n  \"add\": \"add.svg\",\n  \"arrow-left\": \"arrow-left.svg\",\n  \"arrow-right\": \"arrow-right.svg\",\n  \"cancel\": \"cancel.svg\",\n  \"contrast\": \"contrast.svg\",\n  \"delete\": \"delete.svg\",\n  \"done\": \"done.svg\",\n  \"exit\": \"exit.svg\",\n  \"extention\": \"extention.svg\",\n  \"favicon\": \"favicon.svg\",\n  \"help\": \"help.svg\",\n  \"home\": \"home.svg\",\n  \"info\": \"info.svg\",\n  \"large\": \"large.svg\",\n  \"lowpos\": \"lowpos.svg\",\n  \"minus\": \"minus.svg\",\n  \"ok\": \"ok.svg\",\n  \"order\": \"order.svg\",\n  \"pay\": \"pay.svg\",\n  \"placeholder\": \"placeholder.svg\",\n  \"plus\": \"plus.svg\",\n  \"print\": \"print.svg\",\n  \"reset\": \"reset.svg\",\n  \"restart\": \"restart.svg\",\n  \"soldout-large\": \"soldout-large.svg\",\n  \"soldout-small\": \"soldout-small.svg\",\n  \"step\": \"step.svg\",\n  \"takein\": \"takein.svg\",\n  \"takeout\": \"takeout.svg\",\n  \"time\": \"time.svg\",\n  \"toggle\": \"toggle.svg\",\n  \"volume\": \"volume.svg\",\n  \"warning\": \"warning.svg\"\n};\n\n// ÏÑ†ÌÉùÏûê ÎßµÌïë (ÌäπÏàòÌïú Í≤ΩÏö∞Îßå Ï†ïÏùò, ÎÇòÎ®∏ÏßÄÎäî Í∏∞Î≥∏ ÏÑ†ÌÉùÏûê ÏÇ¨Ïö©)\nexport const iconSelectors = {\n  default: '.content.icon:not(.pressed)',\n  toggle: '.content.icon.pressed',\n  contrast: '[data-icon=\"contrast\"]',\n  large: '[data-icon=\"large\"]'\n};\n\n// Í∏∞Î≥∏ ÏÑ†ÌÉùÏûê ÏÉùÏÑ± Ìï®Ïàò\nexport function getSelector(iconKey) {\n  return iconSelectors[iconKey] || `[data-icon=\"${iconKey}\"]`;\n}\n\n// Ï†ÑÏ≤¥ Í≤ΩÎ°ú ÏÉùÏÑ± Ìï®Ïàò\nexport function getIconPath(iconKey) {\n  const filename = iconPaths[iconKey];\n  if (!filename) {\n    console.warn(`‚ö†Ô∏è Icon \"${iconKey}\" not found in iconPaths, using placeholder`);\n    return 'src/assets/icons/placeholder.svg';\n  }\n  return `src/assets/icons/${filename}`;\n}\n\n// iconMap ÏÉùÏÑ± Ìï®Ïàò\nexport function createIconMap() {\n  const map = {};\n  \n  for (const [key, filename] of Object.entries(iconPaths)) {\n    // defaultÏôÄ placeholderÎäî Ï§ëÎ≥µÎêòÎØÄÎ°ú placeholder Ï†úÏô∏\n    if (key === 'placeholder' && map['default']) continue;\n    \n    map[key] = {\n      path: getIconPath(key),\n      selector: getSelector(key)\n    };\n  }\n  \n  return map;\n}\n\n// Ìè¥Î∞± ÏïÑÏù¥ÏΩò\nexport const fallbackIcon = 'placeholder';\n\n/* ==============================\n  üìä Î©îÌÉÄÎç∞Ïù¥ÌÑ∞\n  ============================== */\n// Ï¥ù ÏïÑÏù¥ÏΩò Í∞úÏàò: 33\n// ÏÉùÏÑ± ÏùºÏãú: 2025-11-24T05:08:53.779Z\n\n\n\n// ÏïÑÏù¥ÏΩò Î™©Î°ù: add, arrow-left, arrow-right, cancel, contrast, delete, done, exit, extention, favicon, help, home, info, large, lowpos, minus, ok, order, pay, placeholder, plus, print, reset, restart, soldout-large, soldout-small, step, takein, takeout, time, toggle, volume, warning\n",
    "/* ==============================\n  üé® SVG Î°úÎçî Î™®Îìà\n  ============================== */\n\nimport { createIconMap, getIconPath, fallbackIcon } from '../../assets/icons/index.js';\n\nexport const SVGLoader = {\n  cache: new Map(),\n  \n  get iconMap() {\n    return createIconMap();\n  },\n  \n  convertToCurrentColor(svgMarkup) {\n    return svgMarkup\n      .replace(/fill=\"(?!none|transparent)[^\"]*\"/gi, 'fill=\"currentColor\"')\n      .replace(/stroke=\"(?!none|transparent)[^\"]*\"/gi, 'stroke=\"currentColor\"')\n      .replace(/fill='(?!none|transparent)[^']*'/gi, \"fill='currentColor'\")\n      .replace(/stroke='(?!none|transparent)[^']*'/gi, \"stroke='currentColor'\")\n      .replace(/fill:\\s*(?!none|transparent)[^;}\\s]+/gi, 'fill: currentColor')\n      .replace(/stroke:\\s*(?!none|transparent)[^;}\\s]+/gi, 'stroke: currentColor');\n  },\n  \n  async preloadAllIcons() {\n    const loadPromises = Object.entries(this.iconMap).map(async ([key, config]) => {\n      try {\n        const response = await fetch(config.path);\n        if (!response.ok) throw new Error(`SVG not found: ${config.path}`);\n        const svgMarkup = await response.text();\n        this.cache.set(key, svgMarkup);\n        console.log(`‚úÖ Loaded ${key} icon`);\n      } catch (error) {\n        console.warn(`‚ö†Ô∏è Failed to load ${key} icon from ${config.path}, using fallback`);\n        try {\n          const fallbackPath = getIconPath(fallbackIcon);\n          const fallback = await fetch(fallbackPath);\n          if (fallback.ok) {\n            this.cache.set(key, await fallback.text());\n          } else {\n            this.cache.set(key, '');\n          }\n        } catch (fallbackError) {\n          console.error(`‚ùå Fallback also failed for ${key}`);\n          this.cache.set(key, '');\n        }\n      }\n    });\n    \n    await Promise.all(loadPromises);\n  },\n  \n  injectAllIcons() {\n    Object.entries(this.iconMap).forEach(([key, config]) => {\n      const svgMarkup = this.cache.get(key);\n      if (!svgMarkup) {\n        console.warn(`‚ö†Ô∏è No cached SVG for ${key}`);\n        return;\n      }\n      \n      const processedSvg = this.convertToCurrentColor(svgMarkup);\n      \n      const targets = document.querySelectorAll(config.selector);\n      if (targets.length === 0) {\n        console.log(`‚ÑπÔ∏è No elements found for selector: ${config.selector}`);\n      }\n      \n      targets.forEach(el => {\n        el.innerHTML = processedSvg;\n      });\n    });\n    \n    console.log('‚úÖ All icons injected to DOM (converted to currentColor)');\n  },\n  \n  async loadAndInject() {\n    await this.preloadAllIcons();\n    this.injectAllIcons();\n  },\n  \n  getCached(key, convertColor = true) {\n    const svg = this.cache.get(key) || '';\n    return convertColor ? this.convertToCurrentColor(svg) : svg;\n  }\n};\n",
    "/* ==============================\n  üíâ CSS Ïù∏Ï†ùÌÑ∞ Î™®Îìà\n  ============================== */\n\nexport const CSSInjector = {\n  inject(id, content, description = '') {\n    const existingStyle = document.getElementById(id);\n    if (existingStyle) existingStyle.remove();\n    \n    const styleElement = document.createElement('style');\n    styleElement.id = id;\n    styleElement.textContent = content;\n    document.head.appendChild(styleElement);\n  }\n};\n",
    "/* ==============================\n  üîò Î≤ÑÌäº ÏãúÏä§ÌÖú ÏÉÅÏàò\n  ============================== */\n\nexport const BUTTON_CONSTANTS = {\n  BASE: 0.03125,\n  get BACKGROUND_BORDER_RADIUS() { return this.BASE; },\n  get BUTTON_BORDER_RADIUS() { return 2 * this.BACKGROUND_BORDER_RADIUS; },\n  get BACKGROUND_OUTLINE_WIDTH() { return this.BASE; },\n  get BUTTON_PADDING() { return this.BACKGROUND_OUTLINE_WIDTH; },\n  get BUTTON_OUTLINE_WIDTH() { return 3 * this.BACKGROUND_OUTLINE_WIDTH; },\n  get BUTTON_OUTLINE_OFFSET() { return -1 * this.BACKGROUND_OUTLINE_WIDTH; },\n  get SELECTED_ICON_SIZE() { return 4 * this.BASE; }\n};\n",
    "/* ==============================\n  üé® ÌåîÎ†àÌä∏ Í¥ÄÎ¶¨Ïûê\n  ============================== */\n\nexport const PaletteManager = {\n  generateCSS() {\n    const buttons = document.querySelectorAll('.button');\n    const discoveredPalettes = new Set();\n    \n    buttons.forEach(button => {\n      const classList = Array.from(button.classList);\n      const palette = classList.find(cls => !['button', 'pressed', 'toggle', 'dynamic'].includes(cls));\n      if (palette) discoveredPalettes.add(palette);\n    });\n    \n    let lightThemeCSS = '', darkThemeCSS = '', selectorsCSS = '';\n    \n    discoveredPalettes.forEach(palette => {\n      const isExisting = ['primary1', 'primary2', 'primary3', 'secondary1', 'secondary2', 'secondary3', 'custom'].includes(palette);\n      \n      [\n        { name: 'default', selector: '', disabled: false },\n        { name: 'pressed', selector: '.pressed:not(.toggle)', disabled: false },\n        { name: 'pressed', selector: '.pressed.toggle', disabled: false },\n        { name: 'disabled', selector: '[aria-disabled=\"true\"]', disabled: true }\n      ].forEach(({name: state, selector: stateSelector, disabled}) => {\n        const baseSelector = palette === 'primary1' && state === 'default' && !disabled ? `&${stateSelector}` : null;\n        const paletteSelector = `&.${palette}${stateSelector}`;\n        \n        if (baseSelector) {\n          selectorsCSS += `\n    ${baseSelector} {\n      & .background.dynamic {\n        background: var(--${palette}-background-color-${state});\n        outline-color: var(--${palette}-border-color-${state});\n        outline-style: var(--border-style-default);\n        \n        & .content {\n          color: var(--${palette}-content-color-${state});\n        }\n      }\n    }`;\n        }\n        \n        const backgroundProperty = (palette === 'primary3' || palette === 'secondary3') \n          ? `var(--${palette}-background1-color-${state})` \n          : `var(--${palette}-background-color-${state})`;\n        \n        selectorsCSS += `\n    ${paletteSelector} {\n      & .background.dynamic {\n        background: ${backgroundProperty};\n        outline-color: var(--${palette}-border-color-${state});\n        ${state === 'default' ? 'outline-style: var(--border-style-default);' : ''}\n        ${state === 'pressed' ? 'outline-style: var(--border-style-pressed); outline-width: var(--border-style-pressed);' : ''}\n        ${state === 'disabled' ? 'outline-style: var(--border-style-disabled);' : ''}\n        \n        & .content {\n          color: var(--${palette}-content-color-${state});\n        }\n      }\n      ${state === 'pressed' ? '&.toggle { & .content.icon.pressed { display: var(--content-icon-display-pressed-toggle); } }' : ''}\n      ${disabled ? 'cursor: var(--button-cursor-disabled);' : ''}\n    }`;\n      });\n      \n      if (!isExisting) {\n        const customProperties = [\n          'content-color-default', 'content-color-pressed', 'content-color-disabled',\n          'background-color-default', 'background-color-pressed', 'background-color-disabled',\n          'border-color-default', 'border-color-pressed', 'border-color-disabled'\n        ];\n        \n        customProperties.forEach(property => {\n          lightThemeCSS += `  --${palette}-${property}: var(--custom-${property});\\n`;\n          darkThemeCSS += `  --${palette}-${property}: var(--custom-${property});\\n`;\n        });\n      }\n    });\n    \n    const cssContent = `\n/* HTML ÌÅ¥ÎûòÏä§ Í∏∞Î∞ò ÏàòÏ†ïÏûê ÏãúÏä§ÌÖú - CSS ÏÉÅÏÜç ÌôúÏö© */\n${lightThemeCSS ? `:root {\\n${lightThemeCSS}}` : ''}\n\n${darkThemeCSS ? `.dark {\\n${darkThemeCSS}}` : ''}\n\n@layer components {\n  .button {${selectorsCSS}\n  }\n}\n`;\n    \n    window.AppUtils.CSSInjector.inject('palette-system-styles', cssContent, 'ÌåîÎ†àÌä∏ ÏãúÏä§ÌÖú');\n    return discoveredPalettes;\n  }\n};\n",
    "/* ==============================\n  üé® Î≤ÑÌäº Ïä§ÌÉÄÏùº Í¥ÄÎ¶¨Ïûê\n  ============================== */\n\nexport const StyleManager = {\n  scheduleUpdate() {\n    this.waitForRenderCompletion().then(() => {\n      this.updateButtonLabels();\n    });\n  },\n  \n  async waitForRenderCompletion() {\n    return new Promise((resolve) => {\n      requestAnimationFrame(() => {\n        requestAnimationFrame(() => {\n          setTimeout(() => {\n            resolve();\n          }, 16);\n        });\n      });\n    });\n  },\n  \n  setupUpdateManager() {\n    const observer = new MutationObserver((mutations) => {\n      let needsUpdate = false;\n      \n      mutations.forEach(mutation => {\n        const target = mutation.target;\n        \n        if (mutation.type === 'attributes' && mutation.attributeName === 'class') {\n          if (target.classList.contains('button')) {\n            needsUpdate = true;\n          }\n        }\n        \n        if (mutation.type === 'attributes' && mutation.attributeName === 'style') {\n          if (target === document.documentElement) {\n            needsUpdate = true;\n          }\n        }\n      });\n      \n      if (needsUpdate) {\n        this.scheduleUpdate();\n      }\n    });\n    \n    document.querySelectorAll('.button').forEach(button => {\n      observer.observe(button, {\n        attributes: true,\n        attributeFilter: ['class']\n      });\n    });\n    \n    observer.observe(document.documentElement, {\n      attributes: true,\n      attributeFilter: ['style']\n    });\n    return observer;\n  },\n  \n  calculateContrastRGBA(r1, g1, b1, r2, g2, b2) {\n    const getLuminance = (r, g, b) => {\n      const [rs, gs, bs] = [r, g, b].map(c => {\n        c = c / 255;\n        return c <= 0.03928 ? c / 12.92 : Math.pow((c + 0.055) / 1.055, 2.4);\n      });\n      return 0.2126 * rs + 0.7152 * gs + 0.0722 * bs;\n    };\n    \n    const lum1 = getLuminance(r1, g1, b1);\n    const lum2 = getLuminance(r2, g2, b2);\n    \n    const brightest = Math.max(lum1, lum2);\n    const darkest = Math.min(lum1, lum2);\n    const contrastRatio = (brightest + 0.05) / (darkest + 0.05);\n    \n    return contrastRatio;\n  },\n\n  calculateContrast(color1, color2) {\n    const getRGB = (color) => {\n      if (!color || color === 'transparent') {\n        throw new Error('Ïú†Ìö®ÌïòÏßÄ ÏïäÏùÄ ÏÉâÏÉÅ Í∞íÏûÖÎãàÎã§');\n      }\n      \n      const rgbaMatch = color.match(/rgba?\\(\\s*(\\d+(?:\\.\\d+)?)\\s*,\\s*(\\d+(?:\\.\\d+)?)\\s*,\\s*(\\d+(?:\\.\\d+)?)/);\n      if (rgbaMatch) {\n        return [\n          Math.round(parseFloat(rgbaMatch[1])),\n          Math.round(parseFloat(rgbaMatch[2])),\n          Math.round(parseFloat(rgbaMatch[3]))\n        ];\n      }\n      \n      if (color.startsWith('#')) {\n        const hex = color.replace('#', '');\n        if (hex.length >= 6) {\n          return [\n            parseInt(hex.substr(0, 2), 16),\n            parseInt(hex.substr(2, 2), 16),\n            parseInt(hex.substr(4, 2), 16)\n          ];\n        }\n      }\n      \n      throw new Error(`ÏÉâÏÉÅ ÌååÏã± Ïã§Ìå®: ${color}`);\n    };\n    \n    const [r1, g1, b1] = getRGB(color1);\n    const [r2, g2, b2] = getRGB(color2);\n    \n    return this.calculateContrastRGBA(r1, g1, b1, r2, g2, b2);\n  },\n  \n  updateButtonLabels() {\n    const allButtons = document.querySelectorAll('.button');\n    \n    allButtons.forEach(button => {\n      const background = button.querySelector('.background.dynamic');\n      const content = button.querySelector('.content');\n      const label = button.querySelector('.content.label');\n      \n      if (background && content && label) {\n        background.offsetHeight;\n        content.offsetHeight;\n        \n        const backgroundStyle = getComputedStyle(background);\n        const contentStyle = getComputedStyle(content);\n        const backgroundColor = backgroundStyle.backgroundColor;\n        const textColor = contentStyle.color;\n        \n        const contrast = this.calculateContrast(textColor, backgroundColor);\n        const contrastRatio = contrast.toFixed(2);\n        \n        let labelText = label.innerHTML.split('<br>')[0];\n        label.innerHTML = `${labelText}<br>${contrastRatio}`;\n      }\n    });\n  },\n  \n  applyDynamicStyles() {\n    const allButtons = document.querySelectorAll('.button');\n    if (allButtons.length === 0) return;\n    \n    let processedCount = 0;\n    \n    for (const button of allButtons) {\n      const background = button.querySelector(\".background\");\n      if (!background) continue;\n\n      const rect = button.getBoundingClientRect();\n      const minSide = Math.min(rect.width, rect.height);\n\n      const buttonPadding = minSide * window.ButtonSystem.CONSTANTS.BUTTON_PADDING;\n      const buttonBorderRadius = minSide * window.ButtonSystem.CONSTANTS.BUTTON_BORDER_RADIUS;\n      const buttonOutlineWidth = minSide * window.ButtonSystem.CONSTANTS.BUTTON_OUTLINE_WIDTH;\n      const buttonOutlineOffset = minSide * window.ButtonSystem.CONSTANTS.BUTTON_OUTLINE_OFFSET;\n      const backgroundBorderRadius = minSide * window.ButtonSystem.CONSTANTS.BACKGROUND_BORDER_RADIUS;\n      const backgroundOutlineWidth = minSide * window.ButtonSystem.CONSTANTS.BACKGROUND_OUTLINE_WIDTH;\n      const iconSelectedSize = minSide * window.ButtonSystem.CONSTANTS.SELECTED_ICON_SIZE;\n\n      const cached = window.ButtonSystem.state.styleCache.get(button) || {};\n      const needsUpdate = (\n        (cached.minSide || 0) !== minSide || (cached.buttonPadding || 0) !== buttonPadding ||\n        (cached.buttonBorderRadius || 0) !== buttonBorderRadius || (cached.buttonOutlineWidth || 0) !== buttonOutlineWidth ||\n        (cached.buttonOutlineOffset || 0) !== buttonOutlineOffset || (cached.backgroundBorderRadius || 0) !== backgroundBorderRadius ||\n        (cached.backgroundOutlineWidth || 0) !== backgroundOutlineWidth || (cached.iconSelectedSize || 0) !== iconSelectedSize\n      );\n\n      if (!needsUpdate) continue;\n\n      button.style.padding = `${buttonPadding}px`;\n      button.style.borderRadius = `${buttonBorderRadius}px`;\n      button.style.outlineWidth = `${buttonOutlineWidth}px`;\n      button.style.outlineOffset = `${buttonOutlineOffset}px`;\n\n      background.style.borderRadius = `${backgroundBorderRadius}px`;\n      background.style.outlineWidth = `${backgroundOutlineWidth}px`;\n\n      const iconPressed = button.querySelector('.content.icon.pressed');\n      if (iconPressed) {\n        iconPressed.style.width = `${iconSelectedSize}px`;\n        iconPressed.style.height = `${iconSelectedSize}px`;\n        iconPressed.style.top = `${buttonPadding}px`;\n        iconPressed.style.right = `${buttonPadding}px`;\n      }\n\n      window.ButtonSystem.state.styleCache.set(button, {\n        minSide, buttonPadding, buttonBorderRadius, buttonOutlineWidth, buttonOutlineOffset,\n        backgroundBorderRadius, backgroundOutlineWidth, iconSelectedSize\n      });\n      \n      processedCount++;\n    }\n    \n    this.updateButtonLabels();\n  },\n  \n  async setupIconInjection() {\n    await this.waitForRenderCompletion();\n    \n    const allButtons = document.querySelectorAll('.button');\n    \n    for (const button of allButtons) {\n      const background = button.querySelector('.background');\n      if (!background) continue;\n      \n      const isToggleButton = button.classList.contains('toggle');\n      \n      if (isToggleButton) {\n        let iconPressedSpan = background.querySelector('.content.icon.pressed');\n        \n        if (!iconPressedSpan) {\n          iconPressedSpan = document.createElement('span');\n          iconPressedSpan.className = 'content icon pressed';\n          \n          const iconEl = background.querySelector('.content.icon:not(.pressed)');\n          if (iconEl && iconEl.parentNode) {\n            background.insertBefore(iconPressedSpan, iconEl);\n          } else {\n            background.insertBefore(iconPressedSpan, background.firstChild);\n          }\n        }\n      }\n    }\n    \n    for (const button of allButtons) {\n      const isToggleButton = button.classList.contains('toggle');\n      const isInitiallyPressed = button.classList.contains('pressed');\n      \n      if (isToggleButton) {\n        button.dataset.isToggleButton = 'true';\n        button.setAttribute('aria-pressed', isInitiallyPressed ? 'true' : 'false');\n      }\n    }\n  },\n  \n  scheduleContrastUpdate() {\n    this.scheduleUpdate();\n  }\n};\n",
    "/* ==============================\n  üîò Î≤ÑÌäº ÏãúÏä§ÌÖú - ÌÜµÌï© Î™®Îìà\n  ============================== */\n\nimport { BUTTON_CONSTANTS } from './constants.js';\nimport { PaletteManager } from './palette-manager.js';\nimport { StyleManager } from './style-manager.js';\n\nexport const ButtonSystem = {\n  CONSTANTS: BUTTON_CONSTANTS,\n  \n  state: {\n    styleCache: new WeakMap()\n  },\n  \n  PaletteManager,\n  StyleManager,\n  \n  async init() {\n    console.log('üîò [ButtonSystem] Ï¥àÍ∏∞Ìôî ÏãúÏûë');\n    const initStart = performance.now();\n    \n    // 1Îã®Í≥Ñ: SVG Î°úÎî© Î∞è DOM Ï£ºÏûÖ\n    console.log('  ‚îú‚îÄ 1Îã®Í≥Ñ: SVG Î°úÎî© Î∞è DOM Ï£ºÏûÖ');\n    const svgStart = performance.now();\n    await window.AppUtils.SVGLoader.loadAndInject();\n    console.log(`  ‚úÖ SVG Î°úÎî© ÏôÑÎ£å (${(performance.now() - svgStart).toFixed(2)}ms)`);\n    \n    // 2Îã®Í≥Ñ: ÌÜ†Í∏Ä Î≤ÑÌäº Íµ¨Ï°∞ Ï§ÄÎπÑ\n    console.log('  ‚îú‚îÄ 2Îã®Í≥Ñ: ÌÜ†Í∏Ä Î≤ÑÌäº Íµ¨Ï°∞ Ï§ÄÎπÑ');\n    await this.StyleManager.setupIconInjection();\n    console.log('  ‚úÖ ÌÜ†Í∏Ä Î≤ÑÌäº Ï§ÄÎπÑ ÏôÑÎ£å');\n    \n    // 3Îã®Í≥Ñ: ÌåîÎ†àÌä∏ CSS ÏÉùÏÑ±\n    console.log('  ‚îú‚îÄ 3Îã®Í≥Ñ: ÌåîÎ†àÌä∏ CSS ÏÉùÏÑ±');\n    this.PaletteManager.generateCSS();\n    console.log('  ‚úÖ ÌåîÎ†àÌä∏ CSS ÏÉùÏÑ± ÏôÑÎ£å');\n    \n    // 4Îã®Í≥Ñ: ÎèôÏ†Å Ïä§ÌÉÄÏùº Ï†ÅÏö©\n    console.log('  ‚îú‚îÄ 4Îã®Í≥Ñ: ÎèôÏ†Å Ïä§ÌÉÄÏùº Ï†ÅÏö©');\n    this.StyleManager.applyDynamicStyles();\n    console.log('  ‚úÖ ÎèôÏ†Å Ïä§ÌÉÄÏùº Ï†ÅÏö© ÏôÑÎ£å');\n    \n    // 5Îã®Í≥Ñ: ÏûêÎèô ÏóÖÎç∞Ïù¥Ìä∏ Îß§ÎãàÏ†Ä ÏÑ§Ï†ï\n    console.log('  ‚îú‚îÄ 5Îã®Í≥Ñ: ÏûêÎèô ÏóÖÎç∞Ïù¥Ìä∏ Îß§ÎãàÏ†Ä ÏÑ§Ï†ï');\n    this.StyleManager.setupUpdateManager();\n    console.log('  ‚úÖ ÏóÖÎç∞Ïù¥Ìä∏ Îß§ÎãàÏ†Ä ÏÑ§Ï†ï ÏôÑÎ£å');\n    \n    const initEnd = performance.now();\n    console.log(`üéâ [ButtonSystem] Ï¥àÍ∏∞Ìôî ÏôÑÎ£å (Ï¥ù ${(initEnd - initStart).toFixed(2)}ms)`);\n  }\n};\n",
    "/* ==============================\n  üé® ÌÖåÎßà Í¥ÄÎ¶¨Ïûê\n  ============================== */\n\nexport const ThemeManager = {\n  THEMES: { LIGHT: 'light', DARK: 'dark' },\n  STORAGE_KEY: 'theme-mode',\n  MANUAL_MODE_KEY: 'manual-theme-mode',\n  _domCache: { html: null, toggleButton: null, toggleLabel: null, liveRegion: null },\n  currentTheme: 'light',\n  isManualMode: false,\n  \n  init() {\n    console.log('üé® [ThemeManager] Ï¥àÍ∏∞Ìôî ÏãúÏûë');\n    this._initDOMCache();\n    this.loadSettings();\n    console.log('  ‚îú‚îÄ ÌòÑÏû¨ ÌÖåÎßà:', this.currentTheme, '| ÏàòÎèô Î™®Îìú:', this.isManualMode);\n    this.setupEventListeners();\n    this.applyCurrentState();\n    this.syncToggleButton();\n    console.log('‚úÖ [ThemeManager] Ï¥àÍ∏∞Ìôî ÏôÑÎ£å');\n  },\n  \n  _initDOMCache() {\n    this._domCache.html = document.documentElement;\n    this._domCache.html.classList.remove('no-js');\n    this._domCache.html.classList.add('js');\n    this._domCache.toggleButton = document.querySelector('.theme-toggle');\n    if (this._domCache.toggleButton) {\n      this._domCache.toggleLabel = this._domCache.toggleButton.querySelector('.label');\n    }\n    this._domCache.liveRegion = document.getElementById('theme-announcer');\n  },\n  \n  loadSettings() {\n    const savedTheme = localStorage.getItem(this.STORAGE_KEY);\n    const savedManualMode = localStorage.getItem(this.MANUAL_MODE_KEY);\n    this.isManualMode = savedManualMode === 'true';\n    if (this.isManualMode) {\n      this.currentTheme = savedTheme === this.THEMES.DARK ? this.THEMES.DARK : this.THEMES.LIGHT;\n    } else {\n      this.currentTheme = this.THEMES.LIGHT;\n    }\n  },\n  \n  applyCurrentState() {\n    const html = this._domCache.html;\n    if (this.currentTheme === this.THEMES.DARK) {\n      html.classList.add('dark');\n    } else {\n      html.classList.remove('dark');\n    }\n    if (this.isManualMode) {\n      html.classList.add('manual-theme-mode');\n    } else {\n      html.classList.remove('manual-theme-mode');\n    }\n  },\n  \n  saveSettings() {\n    localStorage.setItem(this.STORAGE_KEY, this.currentTheme);\n    localStorage.setItem(this.MANUAL_MODE_KEY, this.isManualMode.toString());\n  },\n  \n  syncToggleButton() {\n    const toggleButton = this._domCache.toggleButton;\n    if (toggleButton) {\n      const isDarkTheme = this.currentTheme === this.THEMES.DARK;\n      toggleButton.setAttribute('aria-pressed', isDarkTheme.toString());\n      const label = this._domCache.toggleLabel;\n      if (label) {\n        label.innerHTML = isDarkTheme ? 'Light<br>ÌÖåÎßà' : 'Dark<br>ÌÖåÎßà';\n      }\n    }\n  },\n  \n  toggle() {\n    this.currentTheme = this.currentTheme === this.THEMES.LIGHT ? this.THEMES.DARK : this.THEMES.LIGHT;\n    this.isManualMode = true;\n    this.applyCurrentState();\n    this.saveSettings();\n    this.syncToggleButton();\n    this.announceChange();\n  },\n  \n  announceChange() {\n    const themeLabel = this.currentTheme === this.THEMES.DARK ? 'Dark ÌÖåÎßà' : 'Light ÌÖåÎßà';\n    const message = `${themeLabel}Î°ú Ï†ÑÌôòÎêòÏóàÏäµÎãàÎã§.`;\n    let liveRegion = this._domCache.liveRegion;\n    if (!liveRegion) {\n      liveRegion = document.createElement('div');\n      liveRegion.id = 'theme-announcer';\n      liveRegion.setAttribute('aria-live', 'polite');\n      liveRegion.setAttribute('aria-atomic', 'true');\n      liveRegion.style.position = 'absolute';\n      liveRegion.style.left = '-10000px';\n      liveRegion.style.width = '1px';\n      liveRegion.style.height = '1px';\n      liveRegion.style.overflow = 'hidden';\n      document.body.appendChild(liveRegion);\n      this._domCache.liveRegion = liveRegion;\n    }\n    liveRegion.textContent = message;\n  },\n  \n  setupEventListeners() {\n    const toggleButton = document.querySelector('.theme-toggle');\n    if (toggleButton) {\n      toggleButton.addEventListener('click', () => this.toggle());\n    }\n    document.addEventListener('keydown', (e) => {\n      if (e.ctrlKey && e.altKey && e.key.toLowerCase() === 'h') {\n        e.preventDefault();\n        this.toggle();\n      }\n    });\n  }\n};\n",
    "/* ==============================\n  üìè ÌÅ∞Í∏ÄÏî® Î™®Îìú Í¥ÄÎ¶¨Ïûê\n  ============================== */\n\nexport const LargeTextManager = {\n  MODES: { DEFAULT: 'default', LARGE: 'large' },\n  STORAGE_KEY: 'large-mode',\n  _domCache: { html: null, toggleButton: null, toggleLabel: null, liveRegion: null },\n  currentMode: 'default',\n  \n  init() {\n    console.log('üìè [LargeTextManager] Ï¥àÍ∏∞Ìôî ÏãúÏûë');\n    this._initDOMCache();\n    this.loadSettings();\n    console.log('  ‚îú‚îÄ ÌòÑÏû¨ Î™®Îìú:', this.currentMode);\n    this.setupEventListeners();\n    this.applyCurrentState();\n    this.syncToggleButton();\n    console.log('‚úÖ [LargeTextManager] Ï¥àÍ∏∞Ìôî ÏôÑÎ£å');\n  },\n  \n  _initDOMCache() {\n    this._domCache.html = document.documentElement;\n    this._domCache.toggleButton = document.querySelector('.large-toggle');\n    if (this._domCache.toggleButton) {\n      this._domCache.toggleLabel = this._domCache.toggleButton.querySelector('.label');\n    }\n    this._domCache.liveRegion = document.getElementById('large-announcer');\n  },\n  \n  loadSettings() {\n    const savedMode = localStorage.getItem(this.STORAGE_KEY);\n    this.currentMode = savedMode === this.MODES.LARGE ? this.MODES.LARGE : this.MODES.DEFAULT;\n  },\n  \n  applyCurrentState() {\n    const html = this._domCache.html;\n    if (this.currentMode === this.MODES.LARGE) {\n      html.classList.add('large');\n    } else {\n      html.classList.remove('large');\n    }\n  },\n  \n  saveSettings() {\n    localStorage.setItem(this.STORAGE_KEY, this.currentMode);\n  },\n  \n  syncToggleButton() {\n    const toggleButton = this._domCache.toggleButton;\n    if (toggleButton) {\n      const isLargeMode = this.currentMode === this.MODES.LARGE;\n      toggleButton.setAttribute('aria-pressed', isLargeMode.toString());\n      const label = this._domCache.toggleLabel;\n      if (label) {\n        label.innerHTML = isLargeMode ? 'Í∏∞Î≥∏<br>Í∏ÄÏî®' : 'ÌÅ∞Í∏ÄÏî®<br>Î™®Îìú';\n      }\n    }\n  },\n  \n  toggle() {\n    this.currentMode = this.currentMode === this.MODES.DEFAULT ? this.MODES.LARGE : this.MODES.DEFAULT;\n    this.applyCurrentState();\n    this.saveSettings();\n    this.syncToggleButton();\n    this.announceChange();\n  },\n  \n  announceChange() {\n    const modeLabel = this.currentMode === this.MODES.LARGE ? 'ÌÅ∞Í∏ÄÏî® Î™®Îìú' : 'Í∏∞Î≥∏ Í∏ÄÏî® ÌÅ¨Í∏∞';\n    const message = `${modeLabel}Î°ú Ï†ÑÌôòÎêòÏóàÏäµÎãàÎã§.`;\n    let liveRegion = this._domCache.liveRegion;\n    if (!liveRegion) {\n      liveRegion = document.createElement('div');\n      liveRegion.id = 'large-announcer';\n      liveRegion.setAttribute('aria-live', 'polite');\n      liveRegion.setAttribute('aria-atomic', 'true');\n      liveRegion.style.position = 'absolute';\n      liveRegion.style.left = '-10000px';\n      liveRegion.style.width = '1px';\n      liveRegion.style.height = '1px';\n      liveRegion.style.overflow = 'hidden';\n      document.body.appendChild(liveRegion);\n      this._domCache.liveRegion = liveRegion;\n    }\n    liveRegion.textContent = message;\n  },\n  \n  setupEventListeners() {\n    const toggleButton = document.querySelector('.large-toggle');\n    if (toggleButton) {\n      toggleButton.addEventListener('click', () => this.toggle());\n    }\n    document.addEventListener('keydown', (e) => {\n      if (e.ctrlKey && e.altKey && e.key.toLowerCase() === 'l') {\n        e.preventDefault();\n        this.toggle();\n      }\n    });\n  }\n};\n",
    "/* ==============================\n  üìê ÌÅ¨Í∏∞ Ï°∞Ï†à Í¥ÄÎ¶¨Ïûê\n  ============================== */\n\nexport const SizeControlManager = {\n  DEFAULT_WIDTH: 256,\n  DEFAULT_HEIGHT: 256,\n  _domCache: { widthSlider: null, heightSlider: null, widthValue: null, heightValue: null, resetButton: null, allButtons: null },\n  currentWidth: 256,\n  currentHeight: 256,\n  \n  init() {\n    console.log('üìê [SizeControlManager] Ï¥àÍ∏∞Ìôî ÏãúÏûë');\n    this._initDOMCache();\n    this.setupEventListeners();\n    this.updateDisplay();\n    console.log('  ‚îú‚îÄ Í∏∞Î≥∏ ÌÅ¨Í∏∞:', `${this.currentWidth}x${this.currentHeight}px`);\n    console.log('‚úÖ [SizeControlManager] Ï¥àÍ∏∞Ìôî ÏôÑÎ£å');\n  },\n  \n  _initDOMCache() {\n    this._domCache.widthSlider = document.querySelector('.button-width');\n    this._domCache.heightSlider = document.querySelector('.button-height');\n    this._domCache.widthValue = document.querySelector('.width-value');\n    this._domCache.heightValue = document.querySelector('.height-value');\n    this._domCache.resetButton = document.querySelector('.scaling.reset');\n    this._domCache.allButtons = document.querySelectorAll('.button');\n  },\n  \n  setupEventListeners() {\n    if (this._domCache.widthSlider) {\n      this._domCache.widthSlider.addEventListener('input', (e) => {\n        this.currentWidth = parseInt(e.target.value);\n        this.updateButtonSizes();\n        this.updateDisplay();\n      });\n    }\n    if (this._domCache.heightSlider) {\n      this._domCache.heightSlider.addEventListener('input', (e) => {\n        this.currentHeight = parseInt(e.target.value);\n        this.updateButtonSizes();\n        this.updateDisplay();\n      });\n    }\n    if (this._domCache.resetButton) {\n      this._domCache.resetButton.addEventListener('click', () => {\n        this.resetToDefault();\n      });\n    }\n  },\n  \n  updateButtonSizes() {\n    this._domCache.allButtons.forEach(button => {\n      button.style.width = `${this.currentWidth}px`;\n      button.style.height = `${this.currentHeight}px`;\n    });\n    if (typeof ButtonSystem !== 'undefined' && ButtonSystem.StyleManager) {\n      requestAnimationFrame(() => {\n        ButtonSystem.StyleManager.applyDynamicStyles();\n      });\n    }\n  },\n  \n  updateDisplay() {\n    if (this._domCache.widthValue) {\n      this._domCache.widthValue.textContent = `${this.currentWidth}px`;\n    }\n    if (this._domCache.heightValue) {\n      this._domCache.heightValue.textContent = `${this.currentHeight}px`;\n    }\n  },\n  \n  resetToDefault() {\n    this.currentWidth = this.DEFAULT_WIDTH;\n    this.currentHeight = this.DEFAULT_HEIGHT;\n    if (this._domCache.widthSlider) {\n      this._domCache.widthSlider.value = this.currentWidth;\n    }\n    if (this._domCache.heightSlider) {\n      this._domCache.heightSlider.value = this.currentHeight;\n    }\n    this.updateButtonSizes();\n    this.updateDisplay();\n  }\n};\n",
    "/* ==============================\n  ?Î†ì ËÄå„ÖºÎí™?¬Ä ?Î∂æÏ†Ö??ÊÑø¬ÄÁî±—äÏòÑ\n  ============================== */\n\nexport \n  const CustomPaletteManager = {\n    CUSTOM_PALETTE_NAME: 'custom',\n    _domCache: { lightInputs: {}, darkInputs: {}, resetBtn: null, testButtons: null },\n    currentPalette: { name: 'custom' },\n    \n/* ==============================\n  üåà 3D ÏÉâÏÉÅ ÏÑ†ÌÉùÍ∏∞ Î™®Îìà\n  ============================== */\n\n      CustomColorPicker: {\n      // ÌÜµÌï© ÏÉâÍµ¨Ï≤¥ ÏÉÅÌÉú ÏÇ¨Ïö© (Î≥ÑÎèÑ ÏÉÅÌÉú Ï†úÍ±∞)\n      get sphereState() {\n        return Mechanics.UnifiedSphereState;\n      },\n      \n      // ========================================\n      // üöÄ Ï¥àÍ∏∞Ìôî ÏãúÏä§ÌÖú\n      // ========================================\n      \n      init() {\n        console.log('  ‚îú‚îÄ [CustomColorPicker] Ï¥àÍ∏∞Ìôî ÏãúÏûë');\n        this.generateLightThemePickers();\n        console.log('    ‚úÖ Light ÌÖåÎßà ÌîºÏª§ ÏÉùÏÑ±');\n        this.generateDarkThemePickers();\n        console.log('    ‚úÖ Dark ÌÖåÎßà ÌîºÏª§ ÏÉùÏÑ±');\n        this.setupColorDisplays();\n        console.log('    ‚úÖ Ïª¨Îü¨ ÎîîÏä§ÌîåÎ†àÏù¥ ÏÑ§Ï†ï');\n        this.setup3DCanvasInteraction();\n        console.log('    ‚úÖ 3D Ï∫îÎ≤ÑÏä§ Ïù∏ÌÑ∞ÎûôÏÖò ÏÑ§Ï†ï');\n        this.setupHexInputs();\n        console.log('    ‚úÖ Hex ÏûÖÎ†• ÏÑ§Ï†ï');\n      },\n      \n      // ========================================\n      // üé® UI ÏÉùÏÑ± ÏãúÏä§ÌÖú\n      // ========================================\n      \n      generateLightThemePickers() {\n        const lightContainer = document.getElementById('light-color-pickers');\n        if (!lightContainer) {\n          console.warn('‚ö†Ô∏è [CustomColorPicker] light-color-pickers ÏöîÏÜåÎ•º Ï∞æÏùÑ Ïàò ÏóÜÏùå');\n          return;\n        }\n        console.log('    ‚îú‚îÄ light-color-pickers Ï∞æÏùå:', lightContainer);\n        \n        const lightPickers = [\n          { id: 'light-content-default', label: 'ÏΩòÌÖêÏ∏†(Í∏∞Î≥∏)', color: 'rgba(255, 255, 255, 1)', hex: '#FFFFFFFF', hue: 0, alpha: 255 },\n          { id: 'light-content-pressed', label: 'ÏΩòÌÖêÏ∏†(ÎàåÎ¶º)', color: 'rgba(140, 83, 44, 1)', hex: '#8C532CFF', hue: 25, alpha: 255 },\n          { id: 'light-content-disabled', label: 'ÏΩòÌÖêÏ∏†(ÎπÑÌôúÏÑ±)', color: 'rgba(140, 83, 44, 1)', hex: '#8C532CFF', hue: 25, alpha: 255 },\n          { id: 'light-background-default', label: 'Î∞∞Í≤Ω(Í∏∞Î≥∏)', color: 'rgba(164, 105, 63, 1)', hex: '#A4693FFF', hue: 25, alpha: 255 },\n          { id: 'light-background-pressed', label: 'Î∞∞Í≤Ω(ÎàåÎ¶º)', color: 'rgba(238, 220, 210, 1)', hex: '#EEDCD2FF', hue: 25, alpha: 255 },\n          { id: 'light-background-disabled', label: 'Î∞∞Í≤Ω(ÎπÑÌôúÏÑ±)', color: 'transparent', hex: '#00000000', hue: 0, alpha: 0 },\n          { id: 'light-border-default', label: 'ÌÖåÎëêÎ¶¨(Í∏∞Î≥∏)', color: 'rgba(164, 105, 63, 1)', hex: '#A4693FFF', hue: 25, alpha: 255 },\n          { id: 'light-border-pressed', label: 'ÌÖåÎëêÎ¶¨(ÎàåÎ¶º)', color: 'rgba(140, 83, 44, 1)', hex: '#8C532CFF', hue: 25, alpha: 255 },\n          { id: 'light-border-disabled', label: 'ÌÖåÎëêÎ¶¨(ÎπÑÌôúÏÑ±)', color: 'rgba(140, 83, 44, 1)', hex: '#8C532CFF', hue: 25, alpha: 255 }\n        ];\n        \n        lightPickers.forEach(picker => {\n          const html = `\n            <div class=\"palette-input-group\">\n              <label for=\"${picker.id}\">${picker.label}:</label>\n              <div class=\"custom-color-picker\" data-target=\"${picker.id}\">\n                <div class=\"color-display\" style=\"background: ${picker.color}\"></div>\n                <div class=\"color-picker-panel\">\n                  <!-- ÏÉâÏÉÅÍµ¨Ï≤¥ Ï∫îÎ≤ÑÏä§ -->\n                  <canvas id=\"color-sphere-canvas\" class=\"color-canvas-3d\" width=\"400\" height=\"400\" aria-label=\"3D ÏÉâÏÉÅ Íµ¨Ï≤¥ ÏÑ†ÌÉùÍ∏∞\"></canvas>\n                  \n                  <!-- ÏÉâÏÉÅ Ï†ïÎ≥¥ ÌëúÏãú -->\n                  <section class=\"color-info\">\n                    <div class=\"picker-color-display\">\n                      <h3>ÏÑ†ÌÉùÎêú ÏÉâÏÉÅ</h3>\n                      <div class=\"picker-color-preview-container\">\n                        <div class=\"picker-color-preview\" id=\"selected-color-preview\"></div>\n                        <div class=\"picker-color-details\">\n                        <p>HEX: <span id=\"selected-color-hex\">#FFFFFF</span></p>\n                        <p>RGB: <span id=\"selected-color-rgb\">rgb(255, 255, 255)</span></p>\n                        <p>HSL: <span id=\"selected-color-hsl\">hsl(0, 0%, 100%)</span></p>\n                    </div>\n                  </div>\n                    </div>\n                    \n                    <!-- ÌôïÎåÄ/Ï∂ïÏÜå Ïª®Ìä∏Î°§ -->\n                    <div class=\"picker-zoom-controls\">\n                      <h3>Íµ¨Ï≤¥ ÌÅ¨Í∏∞ Ï°∞Ï†à</h3>\n                      <div class=\"scaling zoom\">\n                        <label for=\"zoom-slider\">ÌôïÎåÄ/Ï∂ïÏÜå:</label>\n                        <input \n                          type=\"range\" \n                          id=\"zoom-slider\" \n                          min=\"0.1\" \n                          max=\"3.0\" \n                          step=\"0.1\" \n                          value=\"1.0\"\n                          aria-label=\"ÏÉâÏÉÅ Íµ¨Ï≤¥ ÌôïÎåÄ/Ï∂ïÏÜå (10% ~ 300%)\"\n                        >\n                        <span class=\"size value zoom-value\">100%</span>\n                      </div>\n                    </div>\n                    \n                    <!-- ÏÉâÏÉÅ ÏΩîÎìú ÏûÖÎ†• -->\n                  <div class=\"picker-color-input-group\">\n                    <label>ÏÉâÏÉÅ ÏΩîÎìú</label>\n                    <input type=\"text\" class=\"panel-hex-input\" value=\"${picker.hex}\" maxlength=\"9\" placeholder=\"#RRGGBBAA\">\n                  </div>\n                    \n                    <!-- Íµ¨Ï≤¥ Ï†ïÎ≥¥ -->\n                    <div class=\"picker-sphere-info\">\n                      <small>üåê 3D ÏÉâÏÉÅ Íµ¨Ï≤¥ | ÎìúÎûòÍ∑∏: ÌöåÏ†Ñ | Ìú†: ÏïåÌåå Ï°∞Ï†à</small>\n                    </div>\n                  </section>\n                </div>\n              </div>\n              <input type=\"text\" class=\"hex-input\" value=\"${picker.hex}\">\n            </div>\n          `;\n          lightContainer.innerHTML += html;\n                  });\n      },\n      \n      generateDarkThemePickers() {\n        const darkContainer = document.getElementById('dark-color-pickers');\n        if (!darkContainer) return;\n        \n        const darkPickers = [\n          { id: 'dark-content-default', label: 'ÏΩòÌÖêÏ∏†(Í∏∞Î≥∏)', color: 'rgba(0, 0, 0, 1)', hex: '#000000FF', hue: 0, alpha: 255 },\n          { id: 'dark-content-pressed', label: 'ÏΩòÌÖêÏ∏†(ÎàåÎ¶º)', color: 'rgba(255, 239, 128, 1)', hex: '#FFEF80FF', hue: 54, alpha: 255 },\n          { id: 'dark-content-disabled', label: 'ÏΩòÌÖêÏ∏†(ÎπÑÌôúÏÑ±)', color: 'rgba(255, 225, 0, 1)', hex: '#FFE100FF', hue: 54, alpha: 255 },\n          { id: 'dark-background-default', label: 'Î∞∞Í≤Ω(Í∏∞Î≥∏)', color: 'rgba(255, 225, 0, 1)', hex: '#FFE100FF', hue: 54, alpha: 255 },\n          { id: 'dark-background-pressed', label: 'Î∞∞Í≤Ω(ÎàåÎ¶º)', color: 'rgba(36, 31, 0, 1)', hex: '#241F00FF', hue: 54, alpha: 255 },\n          { id: 'dark-background-disabled', label: 'Î∞∞Í≤Ω(ÎπÑÌôúÏÑ±)', color: 'transparent', hex: '#00000000', hue: 0, alpha: 0 },\n          { id: 'dark-border-default', label: 'ÌÖåÎëêÎ¶¨(Í∏∞Î≥∏)', color: 'rgba(255, 225, 0, 1)', hex: '#FFE100FF', hue: 54, alpha: 255 },\n          { id: 'dark-border-pressed', label: 'ÌÖåÎëêÎ¶¨(ÎàåÎ¶º)', color: 'rgba(255, 239, 128, 1)', hex: '#FFEF80FF', hue: 54, alpha: 255 },\n          { id: 'dark-border-disabled', label: 'ÌÖåÎëêÎ¶¨(ÎπÑÌôúÏÑ±)', color: 'rgba(255, 225, 0, 1)', hex: '#FFE100FF', hue: 54, alpha: 255 }\n        ];\n        \n        darkPickers.forEach(picker => {\n          const html = `\n            <div class=\"palette-input-group\">\n              <label for=\"${picker.id}\">${picker.label}:</label>\n              <div class=\"custom-color-picker\" data-target=\"${picker.id}\">\n                <div class=\"color-display\" style=\"background: ${picker.color}\"></div>\n                <div class=\"color-picker-panel\">\n                  <!-- ÏÉâÏÉÅÍµ¨Ï≤¥ Ï∫îÎ≤ÑÏä§ -->\n                  <canvas id=\"color-sphere-canvas\" class=\"color-canvas-3d\" width=\"400\" height=\"400\" aria-label=\"3D ÏÉâÏÉÅ Íµ¨Ï≤¥ ÏÑ†ÌÉùÍ∏∞\"></canvas>\n                  \n                  <!-- ÏÉâÏÉÅ Ï†ïÎ≥¥ ÌëúÏãú -->\n                  <section class=\"color-info\">\n                    <div class=\"picker-color-display\">\n                      <h3>ÏÑ†ÌÉùÎêú ÏÉâÏÉÅ</h3>\n                      <div class=\"picker-color-preview-container\">\n                        <div class=\"picker-color-preview\" id=\"selected-color-preview\"></div>\n                        <div class=\"picker-color-details\">\n                        <p>HEX: <span id=\"selected-color-hex\">#FFFFFF</span></p>\n                        <p>RGB: <span id=\"selected-color-rgb\">rgb(255, 255, 255)</span></p>\n                        <p>HSL: <span id=\"selected-color-hsl\">hsl(0, 0%, 100%)</span></p>\n                    </div>\n                  </div>\n                    </div>\n                    \n                    <!-- ÌôïÎåÄ/Ï∂ïÏÜå Ïª®Ìä∏Î°§ -->\n                    <div class=\"picker-zoom-controls\">\n                      <h3>Íµ¨Ï≤¥ ÌÅ¨Í∏∞ Ï°∞Ï†à</h3>\n                      <div class=\"scaling zoom\">\n                        <label for=\"zoom-slider\">ÌôïÎåÄ/Ï∂ïÏÜå:</label>\n                        <input \n                          type=\"range\" \n                          id=\"zoom-slider\" \n                          min=\"0.1\" \n                          max=\"3.0\" \n                          step=\"0.1\" \n                          value=\"1.0\"\n                          aria-label=\"ÏÉâÏÉÅ Íµ¨Ï≤¥ ÌôïÎåÄ/Ï∂ïÏÜå (10% ~ 300%)\"\n                        >\n                        <span class=\"size value zoom-value\">100%</span>\n                      </div>\n                    </div>\n                    \n                    <!-- ÏÉâÏÉÅ ÏΩîÎìú ÏûÖÎ†• -->\n                  <div class=\"picker-color-input-group\">\n                    <label>ÏÉâÏÉÅ ÏΩîÎìú</label>\n                    <input type=\"text\" class=\"panel-hex-input\" value=\"${picker.hex}\" maxlength=\"9\" placeholder=\"#RRGGBBAA\">\n                  </div>\n                    \n                    <!-- Íµ¨Ï≤¥ Ï†ïÎ≥¥ -->\n                    <div class=\"picker-sphere-info\">\n                      <small>üåê 3D ÏÉâÏÉÅ Íµ¨Ï≤¥ | ÎìúÎûòÍ∑∏: ÌöåÏ†Ñ | Ìú†: ÏïåÌåå Ï°∞Ï†à</small>\n                    </div>\n                  </section>\n                </div>\n              </div>\n              <input type=\"text\" class=\"hex-input\" value=\"${picker.hex}\">\n            </div>\n          `;\n          darkContainer.innerHTML += html;\n                  });\n      },\n      \n      // ========================================\n      // üéõÔ∏è ÏÉÅÌò∏ÏûëÏö© ÏÑ§Ï†ï ÏãúÏä§ÌÖú\n      // ========================================\n      \n      setupColorDisplays() {\n        document.querySelectorAll('.color-display').forEach(display => {\n          display.addEventListener('click', (e) => {\n            const picker = e.target.closest('.custom-color-picker');\n            const panel = picker.querySelector('.color-picker-panel');\n            \n            // Îã§Î•∏ Ìå®ÎÑêÎì§ Îã´Í∏∞\n            document.querySelectorAll('.color-picker-panel').forEach(p => p.classList.remove('active'));\n            \n            // ÌòÑÏû¨ Ìå®ÎÑê ÌÜ†Í∏Ä\n            panel.classList.toggle('active');\n            \n            if (panel.classList.contains('active')) {\n              // 3D Ï∫îÎ≤ÑÏä§ Ï¥àÍ∏∞Ìôî ÌõÑ ÏÉâÏÉÅ Ïù¥Îèô\n              this.initialize3DCanvas(picker);\n              \n              // ÌåîÎ†àÌä∏ Ïó¥Î¶¥ Îïå ÌòÑÏû¨ ÏûÖÎ†•Í∞íÏóê Ìï¥ÎãπÌïòÎäî ÏÉâÏÉÅÏùÑ Ï§ëÏã¨Ï†êÏúºÎ°ú Ïù¥Îèô\n              const hexInput = picker.parentElement.querySelector('.hex-input');\n              if (hexInput && hexInput.value) {\n                const hexValue = hexInput.value.replace('#', '').toUpperCase();\n                \n                // 8ÏûêÎ¶¨ Ìó•Ïä§ÏΩîÎìúÎßå ÌôïÏù∏ (ÏôÑÏ†Ñ ÏûÖÎ†•ÏãúÏóêÎßå)\n                if (hexValue.length === 8 && /^[0-9A-F]{8}$/.test(hexValue)) {\n                  // RGBA ÏßÅÏ†ë ÏÉùÏÑ± (ÌååÏã± Ïò§Î≤ÑÌó§Îìú ÏóÜÏùå)\n                  const r = parseInt(hexValue.substr(0, 2), 16);\n                  const g = parseInt(hexValue.substr(2, 2), 16);\n                  const b = parseInt(hexValue.substr(4, 2), 16);\n                  \n                  // Ï∫îÎ≤ÑÏä§ Ï¥àÍ∏∞Ìôî ÏôÑÎ£å ÌõÑ ÏÉâÏÉÅ Ïù¥Îèô (ÏûÖÎ†•Í∞í Î≥ÄÍ≤Ω ÏóÜÏù¥ Íµ¨Ï≤¥Îßå ÌöåÏ†Ñ)\n\n                }\n              }\n            }\n          });\n        });\n        \n        // Ïô∏Î∂Ä ÌÅ¥Î¶≠ Ïãú Ìå®ÎÑê Îã´Í∏∞\n        document.addEventListener('click', (e) => {\n          if (!e.target.closest('.custom-color-picker')) {\n            document.querySelectorAll('.color-picker-panel').forEach(panel => {\n              panel.classList.remove('active');\n            });\n          }\n        });\n      },\n      \n      initialize3DCanvas(picker) {\n        const canvas3D = picker.querySelector('.color-canvas-3d');\n        if (canvas3D) {\n          // ÌÜµÌï© ÏÉâÍµ¨Ï≤¥ ÏÉÅÌÉúÎ°ú Ï¥àÍ∏∞Ìôî\n          const ctx = canvas3D.getContext('2d');\n          ctx.clearRect(0, 0, canvas3D.width, canvas3D.height);\n          \n          // Íµ¨Ï≤¥ Î†åÎçîÎßÅ\n          Mechanics.RenderColorSphere(ctx, Mechanics.UnifiedSphereState);\n          \n          // ÌÜµÌï© ÏÉÅÌÉúÎ°ú Ïù∏ÌÑ∞ÎûôÏÖò ÏÑ§Ï†ï\n          Mechanics.setupCanvasInteraction(\n            canvas3D, \n            Mechanics.UnifiedSphereState, \n            (canvas) => this.updateCenterColorRealtime(canvas)\n          );\n        }\n      },\n      \n      setup3DCanvasInteraction() {\n        // ÌÜµÌï© ÏÉâÍµ¨Ï≤¥ ÏÉÅÌÉúÎ°ú ÏÉÅÌò∏ÏûëÏö© ÏÑ§Ï†ï\n        const handleCanvasSetup = (canvas) => {\n          Mechanics.setupCanvasInteraction(\n            canvas, \n            Mechanics.UnifiedSphereState, \n            (canvas) => this.updateCenterColorRealtime(canvas)\n          );\n        };\n        \n        // 3D Íµ¨Ï≤¥ÏóêÏÑú ÏÉâÏÉÅ ÏÑ†ÌÉù (ÏøºÌÑ∞ÎãàÏñ∏ Í∏∞Î∞ò)\n        const selectColorAt3D = (e, canvas) => {\n          const rect = canvas.getBoundingClientRect();\n          const x = e.clientX - rect.left;\n          const y = e.clientY - rect.top;\n          const centerX = rect.width / 2;\n          const centerY = rect.height / 2;\n          const radius = (Math.min(rect.width, rect.height) / 2 - 20) * this.sphereState.zoom;\n          \n          const dx = x - centerX;\n          const dy = y - centerY;\n          const distance = Math.sqrt(dx * dx + dy * dy);\n          \n          if (distance <= radius) {\n            // 3D Íµ¨Ï≤¥ Ï¢åÌëú (ÏùåÏòÅ Ìö®Í≥ºÎäî ÏóÜÏßÄÎßå Íµ¨Ï°∞Îäî 3D)\n            const screenX = dx / radius;\n            const screenY = dy / radius;\n            const screenZ = Math.sqrt(Math.max(0, 1 - screenX * screenX - screenY * screenY));  // 3D Íµ¨Ï≤¥ Í≥°Î©¥\n            \n            // ÏøºÌÑ∞ÎãàÏñ∏ÏúºÎ°ú ÌöåÏ†Ñ Ï†ÅÏö© (ÌÜµÌï© ÏÉÅÌÉú ÏÇ¨Ïö©)\n            const rotatedVector = Mechanics.rotateVector(Mechanics.UnifiedSphereState.Q, [screenX, screenY, screenZ]);\n            const [rotatedX, rotatedY, rotatedZ] = rotatedVector;\n            \n            // Íµ¨Î©¥ Ï¢åÌëúÎ°ú Î≥ÄÌôò\n            const phi = Math.atan2(rotatedY, rotatedX);\n            const theta = Math.acos(Math.max(-1, Math.min(1, rotatedZ)));\n            \n            // ÏßÅÏ†ë RGB Ìó•Ïä§ÏΩîÎìú Ïä§ÏºÄÏùºÎßÅ (Ï∫òÎ¶¨Î∏åÎ†àÏù¥ÏÖò)\n            let hue = ((phi + Math.PI) / (2 * Math.PI)) * 360;  // 0-360ÎèÑ\n            if (hue >= 360) hue = 0;\n            \n            const radialFactor = distance / radius;  // 0~1\n            const lightnessRatio = ((Math.PI - theta) / Math.PI); // 0(ÎÇ®Í∑π)~1(Î∂ÅÍ∑π)\n                      // SphericalSystem Î™®Îìà ÏÇ¨Ïö© (ÌÜµÌï©Îêú ÏÉâÏÉÅ Í≥ÑÏÇ∞)\n          const color = Topology.calculateColor(theta, phi);\n          const { r, g, b } = color;\n            \n            // 8ÏûêÎ¶¨ Ìó•Ïä§ÏΩîÎìúÎ°ú ÏßÅÏ†ë Ï≤òÎ¶¨ (ÌÜµÌï© ÏÉÅÌÉú ÏÇ¨Ïö©)\n            Mechanics.UnifiedSphereState.selectedColor = { r, g, b, hue };\n            \n            const picker = canvas.closest('.custom-color-picker');\n            const targetId = picker.dataset.target;\n            const panelHexInput = picker.querySelector('.panel-hex-input');\n            \n            // ÌòÑÏû¨ ÏïåÌååÍ∞í Ïú†ÏßÄ\n            let alpha = 255;\n            if (panelHexInput && panelHexInput.value) {\n              const currentHex = panelHexInput.value.replace('#', '');\n              if (currentHex.length === 8) {\n                alpha = parseInt(currentHex.substr(6, 2), 16);\n              }\n            }\n            \n            const rgb = { r, g, b };\n            const hexColor = ColorConverter.rgbaToHex(r, g, b, alpha);\n            \n            this.updateColorInputs(targetId, rgb, alpha, hexColor);\n          this.updateSelectedColorInfo(rgb, alpha, hexColor);\n            this.updateSelectedColorInfo(rgb, alpha, hexColor);\n            \n            // Íµ¨Ï≤¥ Îã§Ïãú Í∑∏Î¶¨Í∏∞ (ÏÑ†ÌÉùÏ†ê ÏóÖÎç∞Ïù¥Ìä∏, Ìà¨Î™ÖÎèÑ Î∞òÏòÅ) - ÌÜµÌï© ÏÉÅÌÉú ÏÇ¨Ïö© (Î†åÎçîÎßÅÏùÄ setupCanvasInteractionÏóêÏÑú Ï≤òÎ¶¨)\n          }\n        };\n        \n        this.selectColorAt3D = selectColorAt3D;\n        \n\n        \n        // Î∑∞Ìè¨Ìä∏ Ï§ëÏã¨Ï†ê ÏÉâÏÉÅ Ïã§ÏãúÍ∞Ñ ÏóÖÎç∞Ïù¥Ìä∏\n        this.updateCenterColorRealtime = (canvas) => {\n          // ÌôîÎ©¥ Ï§ëÏã¨Ï†ê (0, 0, 1) 3D Íµ¨Ï≤¥ ÌëúÎ©¥\n          const screenX = 0;  // Ï§ëÏã¨Ï†ê\n          const screenY = 0;  // Ï§ëÏã¨Ï†ê  \n          const screenZ = 1;  // Íµ¨Ï≤¥ ÌëúÎ©¥ (z = 1)\n          \n          // ÏøºÌÑ∞ÎãàÏñ∏ÏúºÎ°ú ÌöåÏ†Ñ Ï†ÅÏö© (ÌÜµÌï© ÏÉÅÌÉú ÏÇ¨Ïö©)\n          const rotatedVector = Mechanics.rotateVector(Mechanics.UnifiedSphereState.Q, [screenX, screenY, screenZ]);\n          const [rotatedX, rotatedY, rotatedZ] = rotatedVector;\n          \n          // 3D Ï¢åÌëúÎ•º Íµ¨Î©¥ Ï¢åÌëúÎ°ú Î≥ÄÌôò\n          const phi = Math.atan2(rotatedY, rotatedX);  // Í≤ΩÎèÑ (-œÄ ~ œÄ)\n          const theta = Math.acos(Math.max(-1, Math.min(1, rotatedZ)));  // ÏúÑÎèÑ (0 ~ œÄ)\n\n          // Î†åÎçîÎßÅÍ≥º ÎèôÏùºÌïú ÏÉâÏÉÅ Í≥ÑÏÇ∞ ÏÇ¨Ïö©\n          const color = Topology.calculateColor(theta, phi);\n          const { r, g, b } = color;\n          \n          // 8ÏûêÎ¶¨ Ìó•Ïä§ÏΩîÎìúÎ°ú ÏßÅÏ†ë Ï≤òÎ¶¨ (ÌÜµÌï© ÏÉÅÌÉú ÏÇ¨Ïö©)\n          Mechanics.UnifiedSphereState.selectedColor = { r, g, b };\n          \n          // Ïª¨Îü¨ÌîºÏª§ Íµ¨Ï≤¥ÎèÑ ÌöåÏ†Ñ ÏÉÅÌÉú ÎèôÍ∏∞Ìôî (Î†åÎçîÎßÅÏùÄ setupCanvasInteractionÏóêÏÑú Ï≤òÎ¶¨)\n          \n          const picker = canvas.closest('.custom-color-picker');\n          if (!picker) return;\n          \n          const targetId = picker.dataset.target;\n          const panelHexInput = picker.querySelector('.panel-hex-input');\n          \n          // ÌòÑÏû¨ ÏïåÌååÍ∞í Ïú†ÏßÄ\n          let alpha = 255;\n          if (panelHexInput && panelHexInput.value) {\n            const currentHex = panelHexInput.value.replace('#', '');\n            if (currentHex.length === 8) {\n              alpha = parseInt(currentHex.substr(6, 2), 16);\n            }\n          }\n          \n          const rgb = { r, g, b };\n          const hexColor = ColorConverter.rgbaToHex(r, g, b, alpha);\n          \n          // UI ÏóÖÎç∞Ïù¥Ìä∏ (ÎìúÎûòÍ∑∏ Ïãú Ïã§ÏãúÍ∞Ñ ÏûÖÎ†•Í∞í Î≥ÄÍ≤Ω)\n          requestAnimationFrame(() => {\n            this.updateColorInputs(targetId, rgb, alpha, hexColor);\n          this.updateSelectedColorInfo(rgb, alpha, hexColor);\n            this.updateSelectedColorInfo(rgb, alpha, hexColor);\n          });\n        };\n        \n        // 2D Ï∫îÎ≤ÑÏä§ ÏÉâÏÉÅ ÏÑ†ÌÉù\n        const handle2DColorSelect = (e, canvas) => {\n          const rect = canvas.getBoundingClientRect();\n          const x = e.clientX - rect.left;\n          const y = e.clientY - rect.top;\n          const saturation = Math.max(0, Math.min(100, (x / rect.width) * 100));\n          const value = Math.max(0, Math.min(100, (1 - y / rect.height) * 100));\n          \n          const picker = canvas.closest('.custom-color-picker');\n          const hueSlider = picker.querySelector('.hue-slider');\n          const alphaSlider = picker.querySelector('.alpha-slider');\n          const targetId = picker.dataset.target;\n          \n          const hue = parseInt(hueSlider?.value || 0);\n          const alpha = parseInt(alphaSlider?.value || 255);\n          const rgb = ColorConverter.hsvToRgb(hue, saturation, value);\n          const hexColor = ColorConverter.rgbaToHex(rgb.r, rgb.g, rgb.b, alpha);\n          \n          this.updateColorInputs(targetId, rgb, alpha, hexColor);\n          this.updateSelectedColorInfo(rgb, alpha, hexColor);\n        };\n        \n        document.querySelectorAll('.color-canvas-3d').forEach(canvas => {\n          handleCanvasSetup(canvas);\n          \n          // Ìú† Ïù¥Î≤§Ìä∏ (ÏïåÌåå Ï°∞Ï†à)\n          canvas.addEventListener('wheel', (e) => {\n            e.preventDefault();\n            e.stopPropagation();\n            \n            const picker = canvas.closest('.custom-color-picker');\n            const panelHexInput = picker.querySelector('.panel-hex-input');\n            \n            if (panelHexInput) {\n              const currentHex = panelHexInput.value.replace('#', '');\n              let currentAlpha = 255;\n              \n              // ÏïåÌååÍ∞íÏù¥ ÏóÜÏúºÎ©¥ ÏòàÏô∏ Î∞úÏÉù\n              if (!currentHex || currentHex.length < 6) {\n                throw new Error('Ïú†Ìö®ÌïòÏßÄ ÏïäÏùÄ Ìó•Ïä§ ÏÉâÏÉÅÏûÖÎãàÎã§');\n              }\n              \n              // ÌòÑÏû¨ ÏïåÌååÍ∞í Ï∂îÏ∂ú (8ÏûêÎ¶¨ hexÏù∏ Í≤ΩÏö∞)\n              if (currentHex.length === 8) {\n                currentAlpha = parseInt(currentHex.substr(6, 2), 16);\n              } else if (currentHex.length === 6) {\n                currentAlpha = 255;\n              }\n              \n              // Ìú† ÏóÖ: ÏïåÌåå Ï¶ùÍ∞Ä, Ìú† Îã§Ïö¥: ÏïåÌåå Í∞êÏÜå (¬±4Ïî©)\n              const alphaChange = e.deltaY > 0 ? -4 : 4;\n              const newAlpha = Math.max(0, Math.min(255, currentAlpha + alphaChange));\n              \n              // ÌòÑÏû¨ ÏÉâÏÉÅÏóê ÏÉà ÏïåÌåå Ï†ÅÏö©\n              if (currentHex.length >= 6) {\n                const rgb = currentHex.substr(0, 6);\n                const newHex = '#' + rgb + newAlpha.toString(16).padStart(2, '0').toUpperCase();\n                \n                const targetId = picker.dataset.target;\n                const r = parseInt(rgb.substr(0, 2), 16);\n                const g = parseInt(rgb.substr(2, 2), 16);\n                const b = parseInt(rgb.substr(4, 2), 16);\n                \n                this.updateColorInputs(targetId, {r, g, b}, newAlpha, newHex);\n                \n                // Ìà¨Î™ÖÎèÑ Î≥ÄÌôî ÌõÑ ÏóÖÎç∞Ïù¥Ìä∏ (ÏÑ±Îä• ÏµúÏ†ÅÌôî)\n                setTimeout(() => {\n                  if (window.ButtonSystem && window.ButtonSystem.StyleManager) {\n                    window.ButtonSystem.StyleManager.scheduleUpdate();\n                  }\n                }, 100);\n              }\n            }\n          });\n        });\n      },\n      \n      // ========================================\n      // üìù ÏûÖÎ†• Ï≤òÎ¶¨ ÏãúÏä§ÌÖú\n      // ========================================\n      \n      setupHexInputs() {\n        // Ìå®ÎÑê ÎÇ¥ Hex ÏûÖÎ†• - 8ÏûêÎ¶¨ Ìó•Ïä§ÏΩîÎìú Ï≤òÎ¶¨\n        document.querySelectorAll('.panel-hex-input').forEach(hexInput => {\n          hexInput.addEventListener('input', (e) => {\n            const hexValue = e.target.value.replace('#', '').toUpperCase();\n            \n            // 8ÏûêÎ¶¨ Ìó•Ïä§ÏΩîÎìúÎßå Í≤ÄÏ¶ù (#RRGGBBAA ÏôÑÏ†Ñ ÏûÖÎ†•ÏãúÏóêÎßå)\n            if (hexValue.length === 8 && /^[0-9A-F]{8}$/.test(hexValue)) {\n              // RGBA ÏßÅÏ†ë ÏÉùÏÑ± (ÌååÏã± Ïò§Î≤ÑÌó§Îìú ÏóÜÏùå)\n              const r = parseInt(hexValue.substr(0, 2), 16);\n              const g = parseInt(hexValue.substr(2, 2), 16);\n              const b = parseInt(hexValue.substr(4, 2), 16);\n              const a = parseInt(hexValue.substr(6, 2), 16); // 8ÏûêÎ¶¨ÏóêÏÑú ÏïåÌååÍ∞í Ï∂îÏ∂ú\n              \n              const picker = e.target.closest('.custom-color-picker');\n              const targetId = picker.dataset.target;\n              const fullHex = '#' + hexValue; // 8ÏûêÎ¶¨ Í∑∏ÎåÄÎ°ú ÏÇ¨Ïö©\n              \n              // ÏÉâÏÉÅ ÏóÖÎç∞Ïù¥Ìä∏ (Ïä¨ÎùºÏù¥Îçî ÏóÜÏùå)\n              \n              // 3D Ï∫îÎ≤ÑÏä§ ÏóÖÎç∞Ïù¥Ìä∏\n              const canvas3d = picker.querySelector('.color-canvas-3d');\n              if (canvas3d) {\n                const ctx3d = canvas3d.getContext('2d');\n                Mechanics.RenderColorSphere(ctx3d, canvas3d.className);\n              }\n              \n              // CSS Î≥ÄÏàò Î∞è UI ÏóÖÎç∞Ïù¥Ìä∏\n              this.updateColorInputs(targetId, {r, g, b}, a, fullHex);\n              \n              // ÏÑ†ÌÉùÎêú ÏÉâÏÉÅ Ï†ïÎ≥¥ ÏóÖÎç∞Ïù¥Ìä∏\n              this.updateSelectedColorInfo({r, g, b}, a, fullHex);\n\n            }\n          });\n        });\n            },\n      \n      // ========================================\n      // üîÑ ÏÉÅÌÉú ÏóÖÎç∞Ïù¥Ìä∏ ÏãúÏä§ÌÖú\n      // ========================================\n      \n      updateSelectedColorInfo(rgb, alpha, hexColor) {\n        // ÏÑ†ÌÉùÎêú ÏÉâÏÉÅ ÎØ∏Î¶¨Î≥¥Í∏∞ ÏóÖÎç∞Ïù¥Ìä∏ (Î™®Îì† color-picker-panel ÎÇ¥Ïùò preview)\n        document.querySelectorAll('.color-picker-panel .picker-color-preview').forEach(preview => {\n          preview.style.background = hexColor;\n        });\n        \n        // ÏÑ†ÌÉùÎêú ÏÉâÏÉÅ ÎØ∏Î¶¨Î≥¥Í∏∞ ÏóÖÎç∞Ïù¥Ìä∏ (index.htmlÏùò Ï†ïÏ†Å ÏöîÏÜå)\n        const colorPreview = document.getElementById('selected-color-preview');\n        if (colorPreview) {\n          colorPreview.style.background = hexColor;\n        }\n        \n        // ÏÉâÏÉÅ Ï†ïÎ≥¥ ÌÖçÏä§Ìä∏ ÏóÖÎç∞Ïù¥Ìä∏ (Î™®Îì† color-picker-panel ÎÇ¥Ïùò ÏöîÏÜåÎì§)\n        document.querySelectorAll('.color-picker-panel #selected-color-hex').forEach(hex => {\n          hex.textContent = hexColor;\n        });\n        document.querySelectorAll('.color-picker-panel #selected-color-rgb').forEach(rgbEl => {\n          rgbEl.textContent = `rgb(${rgb.r}, ${rgb.g}, ${rgb.b})`;\n        });\n        document.querySelectorAll('.color-picker-panel #selected-color-hsl').forEach(hslEl => {\n          const hslValue = ColorConverter.rgbToHsl(rgb.r, rgb.g, rgb.b);\n          hslEl.textContent = `hsl(${Math.round(hslValue.h)}, ${Math.round(hslValue.s)}%, ${Math.round(hslValue.l)}%)`;\n        });\n        \n        // index.htmlÏùò Ï†ïÏ†Å ÏöîÏÜåÎì§ÎèÑ ÏóÖÎç∞Ïù¥Ìä∏\n        const colorHex = document.getElementById('selected-color-hex');\n        const colorRgb = document.getElementById('selected-color-rgb');\n        const colorHsl = document.getElementById('selected-color-hsl');\n        \n        if (colorHex) colorHex.textContent = hexColor;\n        if (colorRgb) colorRgb.textContent = `rgb(${rgb.r}, ${rgb.g}, ${rgb.b})`;\n        if (colorHsl) {\n          const hsl = ColorConverter.rgbToHsl(rgb.r, rgb.g, rgb.b);\n          colorHsl.textContent = `hsl(${Math.round(hsl.h)}, ${Math.round(hsl.s)}%, ${Math.round(hsl.l)}%)`;\n        }\n      },\n      \n      updateColorInputs(targetId, rgb, alpha, hexColor) {\n        const picker = document.querySelector(`[data-target=\"${targetId}\"]`);\n        const hexInput = picker?.parentElement?.querySelector('.hex-input');\n        const panelHexInput = picker?.querySelector('.panel-hex-input');\n        const display = picker?.querySelector('.color-display');\n        \n        // Ïô∏Î∂Ä hex ÏûÖÎ†• ÏóÖÎç∞Ïù¥Ìä∏\n        if (hexInput) hexInput.value = hexColor;\n        \n        // Ìå®ÎÑê ÎÇ¥ hex ÏûÖÎ†• ÏóÖÎç∞Ïù¥Ìä∏\n        if (panelHexInput) panelHexInput.value = hexColor;\n        \n        // ÏÑ†ÌÉùÎêú ÏÉâÏÉÅ Ï†ïÎ≥¥Îäî updateSelectedColorInfoÏóêÏÑú Ï≤òÎ¶¨\n        \n        // Ïª¨Îü¨ ÎîîÏä§ÌîåÎ†àÏù¥ ÏóÖÎç∞Ïù¥Ìä∏\n        if (display) display.style.background = hexColor;\n        \n        // Ïã§ÏãúÍ∞Ñ CSS Î≥ÄÏàò ÏóÖÎç∞Ïù¥Ìä∏\n        this.updateCSSVariable(targetId, hexColor);\n        \n        // Î≤ÑÌäº Ï†ÅÏö© Î∞è ÏóÖÎç∞Ïù¥Ìä∏\n        if (typeof CustomPaletteManager !== 'undefined') {\n          CustomPaletteManager.generateAndApplyPalette();\n        }\n      },\n      \n      updateCSSVariable(inputId, hexColor) {\n        const root = document.documentElement;\n        \n        // input IDÎ•º CSS Î≥ÄÏàòÎ™ÖÏúºÎ°ú Îß§Ìïë (Light + Dark)\n        const variableMap = {\n          // Light ÌÖåÎßà\n          'light-content-default': '--custom-content-color-default',\n          'light-content-pressed': '--custom-content-color-pressed',\n          'light-content-disabled': '--custom-content-color-disabled',\n          'light-background-default': '--custom-background-color-default',\n          'light-background-pressed': '--custom-background-color-pressed',\n          'light-background-disabled': '--custom-background-color-disabled',\n          'light-border-default': '--custom-border-color-default',\n          'light-border-pressed': '--custom-border-color-pressed',\n          'light-border-disabled': '--custom-border-color-disabled',\n          // Dark ÌÖåÎßà (Î≥ÑÎèÑ CSS Ï£ºÏûÖ ÌïÑÏöî)\n          'dark-content-default': '--custom-content-color-default',\n          'dark-content-pressed': '--custom-content-color-pressed',\n          'dark-content-disabled': '--custom-content-color-disabled',\n          'dark-background-default': '--custom-background-color-default',\n          'dark-background-pressed': '--custom-background-color-pressed',\n          'dark-background-disabled': '--custom-background-color-disabled',\n          'dark-border-default': '--custom-border-color-default',\n          'dark-border-pressed': '--custom-border-color-pressed',\n          'dark-border-disabled': '--custom-border-color-disabled'\n        };\n        \n        const cssVariable = variableMap[inputId];\n        if (cssVariable) {\n          if (inputId.startsWith('light-')) {\n            // Light ÌÖåÎßà: rootÏóê ÏßÅÏ†ë Ï†ÅÏö©\n            root.style.setProperty(cssVariable, hexColor);\n          } else if (inputId.startsWith('dark-')) {\n            // Dark ÌÖåÎßà: .dark ÌÅ¥ÎûòÏä§Ïóê Ï†ÅÏö© (CSS Ï£ºÏûÖ)\n            AppUtils.CSSInjector.inject('custom-dark-variable', `.dark { ${cssVariable}: ${hexColor}; }`, 'Dark Ïª§Ïä§ÌÖÄ Î≥ÄÏàò');\n          }\n          \n          // CSS Î≥ÄÏàò ÏóÖÎç∞Ïù¥Ìä∏ ÌõÑ ÏóÖÎç∞Ïù¥Ìä∏ (ÏÑ±Îä• ÏµúÏ†ÅÌôî)\n          setTimeout(() => {\n            if (window.ButtonSystem && window.ButtonSystem.StyleManager) {\n              window.ButtonSystem.StyleManager.scheduleUpdate();\n            }\n          }, 100);\n        }\n      },\n    },\n    \n    init() {\n      console.log('üé® [CustomPaletteManager] Ï¥àÍ∏∞Ìôî ÏãúÏûë');\n      this._initDOMCache();\n      \n      // CustomColorPickerÎäî Ï¶âÏãú Ï¥àÍ∏∞Ìôî (ÌååÎ†àÌä∏ Î≤ÑÌäº ÏÉùÏÑ±)\n      console.log('  ‚îú‚îÄ CustomColorPicker Ï¥àÍ∏∞Ìôî Ï§ë...');\n      this.CustomColorPicker.init();\n      console.log('  ‚úÖ CustomColorPicker Ï¥àÍ∏∞Ìôî ÏôÑÎ£å');\n      \n      // ÎèôÏ†Å ÏÉùÏÑ± ÏôÑÎ£å ÌõÑ DOM Ï∫êÏãú ÏóÖÎç∞Ïù¥Ìä∏ (Îçî Í∏¥ ÎåÄÍ∏∞ ÏãúÍ∞Ñ)\n      setTimeout(() => {\n        this._updateDynamicDOMCache();\n        this.setupEventListeners();\n        this.generateAndApplyPalette();\n      }, 500); // 200ms ‚Üí 500msÎ°ú Ï¶ùÍ∞Ä\n    },\n    \n    _initDOMCache() {\n      // Ï†ïÏ†Å ÏöîÏÜåÎì§Îßå Î®ºÏ†Ä Ï∫êÏãú\n      this._domCache.resetBtn = document.querySelector('.palette-reset-btn');\n      this._domCache.testButtons = document.querySelectorAll('.button.custom');\n      \n      // ÎèôÏ†Å ÏÉùÏÑ± ÏöîÏÜåÎì§ÏùÄ ÎÇòÏ§ëÏóê Ï∫êÏãú\n      this._domCache.lightInputs = {};\n      this._domCache.darkInputs = {};\n    },\n    \n    // ÎèôÏ†Å ÏÉùÏÑ±Îêú ÏöîÏÜåÎì§ÏùÑ Ï∫êÏãúÌïòÎäî Î©îÏÑúÎìú\n    _updateDynamicDOMCache() {\n      this._domCache.lightInputs = {\n        contentDefault: document.querySelector('[data-target=\"light-content-default\"]')?.parentElement?.querySelector('.hex-input'),\n        contentPressed: document.querySelector('[data-target=\"light-content-pressed\"]')?.parentElement?.querySelector('.hex-input'),\n        contentDisabled: document.querySelector('[data-target=\"light-content-disabled\"]')?.parentElement?.querySelector('.hex-input'),\n        backgroundDefault: document.querySelector('[data-target=\"light-background-default\"]')?.parentElement?.querySelector('.hex-input'),\n        backgroundPressed: document.querySelector('[data-target=\"light-background-pressed\"]')?.parentElement?.querySelector('.hex-input'),\n        backgroundDisabled: document.querySelector('[data-target=\"light-background-disabled\"]')?.parentElement?.querySelector('.hex-input'),\n        borderDefault: document.querySelector('[data-target=\"light-border-default\"]')?.parentElement?.querySelector('.hex-input'),\n        borderPressed: document.querySelector('[data-target=\"light-border-pressed\"]')?.parentElement?.querySelector('.hex-input'),\n        borderDisabled: document.querySelector('[data-target=\"light-border-disabled\"]')?.parentElement?.querySelector('.hex-input')\n      };\n      this._domCache.darkInputs = {\n        contentDefault: document.querySelector('[data-target=\"dark-content-default\"]')?.parentElement?.querySelector('.hex-input'),\n        contentPressed: document.querySelector('[data-target=\"dark-content-pressed\"]')?.parentElement?.querySelector('.hex-input'),\n        contentDisabled: document.querySelector('[data-target=\"dark-content-disabled\"]')?.parentElement?.querySelector('.hex-input'),\n        backgroundDefault: document.querySelector('[data-target=\"dark-background-default\"]')?.parentElement?.querySelector('.hex-input'),\n        backgroundPressed: document.querySelector('[data-target=\"dark-background-pressed\"]')?.parentElement?.querySelector('.hex-input'),\n        backgroundDisabled: document.querySelector('[data-target=\"dark-background-disabled\"]')?.parentElement?.querySelector('.hex-input'),\n        borderDefault: document.querySelector('[data-target=\"dark-border-default\"]')?.parentElement?.querySelector('.hex-input'),\n        borderPressed: document.querySelector('[data-target=\"dark-border-pressed\"]')?.parentElement?.querySelector('.hex-input'),\n        borderDisabled: document.querySelector('[data-target=\"dark-border-disabled\"]')?.parentElement?.querySelector('.hex-input')\n      };\n    },\n    \n    setupEventListeners() {\n      Object.entries(this._domCache.lightInputs).forEach(([key, input]) => {\n        if (input) {\n          input.addEventListener('input', () => {\n            this.generateAndApplyPalette(); // Ï¶âÏãú Ïã§ÏãúÍ∞Ñ Ï†ÅÏö©!\n          });\n        }\n      });\n      Object.entries(this._domCache.darkInputs).forEach(([key, input]) => {\n        if (input) {\n          input.addEventListener('input', () => {\n            this.generateAndApplyPalette(); // Ï¶âÏãú Ïã§ÏãúÍ∞Ñ Ï†ÅÏö©!\n          });\n        }\n      });\n      document.querySelectorAll('.hex-input').forEach(hexInput => {\n        hexInput.addEventListener('input', (e) => {\n          const colorInput = e.target.previousElementSibling;\n          if (colorInput && colorInput.type === 'color') {\n            const hexValue = e.target.value.replace('#', '').substring(0, 6);\n            if (hexValue.length === 6) {\n              colorInput.value = '#' + hexValue;\n              this.updatePreview();\n              this.generateAndApplyPalette(); // Ï¶âÏãú Ïã§ÏãúÍ∞Ñ Ï†ÅÏö©!\n            }\n          }\n        });\n      });\n      document.querySelectorAll('input[type=\"color\"]').forEach(colorInput => {\n        colorInput.addEventListener('input', (e) => {\n          const hexInput = e.target.nextElementSibling;\n          if (hexInput && hexInput.classList.contains('hex-input')) {\n            const alpha = e.target.id.includes('disabled') && e.target.id.includes('background') ? '00' : 'FF';\n            hexInput.value = e.target.value + alpha;\n            this.generateAndApplyPalette(); // Ï¶âÏãú Ïã§ÏãúÍ∞Ñ Ï†ÅÏö©!\n          }\n        });\n      });\n      if (this._domCache.resetBtn) {\n        this._domCache.resetBtn.addEventListener('click', () => {\n          this.resetToDefaults();\n        });\n      }\n    },\n    \n    \n    generateAndApplyPalette() {\n      const root = document.documentElement;\n      \n      // Light ÌÖåÎßà CSS Î≥ÄÏàò ÏóÖÎç∞Ïù¥Ìä∏ (9Í∞ú)\n      const lightMappings = {\n        'contentDefault': '--custom-content-color-default',\n        'contentPressed': '--custom-content-color-pressed', \n        'contentDisabled': '--custom-content-color-disabled',\n        'backgroundDefault': '--custom-background-color-default',\n        'backgroundPressed': '--custom-background-color-pressed',\n        'backgroundDisabled': '--custom-background-color-disabled',\n        'borderDefault': '--custom-border-color-default',\n        'borderPressed': '--custom-border-color-pressed',\n        'borderDisabled': '--custom-border-color-disabled'\n      };\n      \n      Object.entries(lightMappings).forEach(([inputKey, cssVar]) => {\n        const input = this._domCache.lightInputs[inputKey];\n        if (input?.nextElementSibling?.value) {\n          root.style.setProperty(cssVar, input.nextElementSibling.value);\n        }\n      });\n      \n      // Dark ÌÖåÎßà CSS Î≥ÄÏàò ÏóÖÎç∞Ïù¥Ìä∏ (9Í∞ú) - Î≥ÑÎèÑ Ïä§ÌÉÄÏùº ÏãúÌä∏ ÌïÑÏöî\n      const darkMappings = {\n        'contentDefault': '--custom-content-color-default',\n        'contentPressed': '--custom-content-color-pressed',\n        'contentDisabled': '--custom-content-color-disabled', \n        'backgroundDefault': '--custom-background-color-default',\n        'backgroundPressed': '--custom-background-color-pressed',\n        'backgroundDisabled': '--custom-background-color-disabled',\n        'borderDefault': '--custom-border-color-default',\n        'borderPressed': '--custom-border-color-pressed',\n        'borderDisabled': '--custom-border-color-disabled'\n      };\n      \n      let darkCSS = '';\n      Object.entries(darkMappings).forEach(([inputKey, cssVar]) => {\n        const input = this._domCache.darkInputs[inputKey];\n        if (input?.nextElementSibling?.value) {\n          darkCSS += `  ${cssVar}: ${input.nextElementSibling.value};\\n`;\n        }\n      });\n      \n      if (darkCSS) {\n        AppUtils.CSSInjector.inject('custom-dark-theme', `.dark {\\n${darkCSS}}`, 'Dark ÌÖåÎßà Ïª§Ïä§ÌÖÄ Î≥ÄÏàò');\n      }\n      \n      this.applyToTestButtons();\n      \n      // Ïª§Ïä§ÌÖÄ ÌåîÎ†àÌä∏ Î≥ÄÍ≤Ω ÌõÑ Í∞ïÏ†ú ÏóÖÎç∞Ïù¥Ìä∏ (ÏÑ±Îä• ÏµúÏ†ÅÌôî)\n      setTimeout(() => {\n        if (window.ButtonSystem && window.ButtonSystem.StyleManager) {\n          window.ButtonSystem.StyleManager.scheduleUpdate();\n        }\n      }, 200);\n    },\n    \n    applyToTestButtons() {\n      const paletteName = this.CUSTOM_PALETTE_NAME;\n      this._domCache.testButtons.forEach(button => {\n        const classList = Array.from(button.classList);\n        const excludedClasses = ['button', 'pressed', 'toggle', 'dynamic'];\n        const oldPalette = classList.find(cls => !excludedClasses.includes(cls));\n        if (oldPalette && oldPalette !== paletteName) {\n          button.classList.remove(oldPalette);\n        }\n        if (!button.classList.contains(paletteName)) {\n          button.classList.add(paletteName);\n        }\n      });\n    },\n    \n    resetToDefaults() {\n      // ÎèôÏ†Å ÏÉùÏÑ±Îêú DOM ÏöîÏÜåÎì§ Îã§Ïãú Ï∫êÏãú\n      this._updateDynamicDOMCache();\n      \n      // ÌòÑÏû¨ ÌÖåÎßà ÏÉÅÌÉú ÌôïÏù∏\n      const isDarkTheme = document.documentElement.classList.contains('dark');\n      \n      // Light ÌÖåÎßà Í∏∞Î≥∏Í∞í (Primary1 ÌåîÎ†àÌä∏ Í∏∞Î∞ò)\n      const lightDefaults = {\n        contentDefault: ['rgba(255, 255, 255, 1)', '#FFFFFFFF'],    // color-gray-14\n        contentPressed: ['rgba(140, 83, 44, 1)', '#8C532CFF'],    // color-brown-02\n        contentDisabled: ['rgba(140, 83, 44, 1)', '#8C532CFF'],   // color-brown-02\n        backgroundDefault: ['rgba(164, 105, 63, 1)', '#A4693FFF'], // color-brown-03\n        backgroundPressed: ['rgba(238, 220, 210, 1)', '#EEDCD2FF'], // color-brown-06\n        backgroundDisabled: ['transparent', 'transparent'], // transparent\n        borderDefault: ['rgba(164, 105, 63, 1)', '#A4693FFF'],     // color-brown-03\n        borderPressed: ['rgba(140, 83, 44, 1)', '#8C532CFF'],     // color-brown-02\n        borderDisabled: ['rgba(140, 83, 44, 1)', '#8C532CFF']     // color-brown-02\n      };\n      \n      // Dark ÌÖåÎßà Í∏∞Î≥∏Í∞í (Primary1 ÌåîÎ†àÌä∏ Í∏∞Î∞ò)\n      const darkDefaults = {\n        contentDefault: ['rgba(0, 0, 0, 1)', '#000000FF'],    // color-gray-01\n        contentPressed: ['rgba(255, 239, 128, 1)', '#FFEF80FF'],    // color-yellow-04\n        contentDisabled: ['rgba(255, 225, 0, 1)', '#FFE100FF'],   // color-yellow-03\n        backgroundDefault: ['rgba(255, 225, 0, 1)', '#FFE100FF'], // color-yellow-03\n        backgroundPressed: ['rgba(36, 31, 0, 1)', '#241F00FF'], // color-yellow-01\n        backgroundDisabled: ['transparent', 'transparent'], // transparent\n        borderDefault: ['rgba(255, 225, 0, 1)', '#FFE100FF'],     // color-yellow-03\n        borderPressed: ['rgba(255, 239, 128, 1)', '#FFEF80FF'],     // color-yellow-04\n        borderDisabled: ['rgba(255, 225, 0, 1)', '#FFE100FF']     // color-yellow-03\n      };\n      \n      // ÌòÑÏû¨ ÌÖåÎßàÏóê Îî∞Îùº Ìï¥Îãπ Í∏∞Î≥∏Í∞íÎßå Ï†ÅÏö©\n      const currentDefaults = isDarkTheme ? darkDefaults : lightDefaults;\n      const inputCache = isDarkTheme ? this._domCache.darkInputs : this._domCache.lightInputs;\n      const themePrefix = isDarkTheme ? 'dark' : 'light';\n      \n      Object.entries(currentDefaults).forEach(([key, [colorValue, hexValue]]) => {\n        const input = inputCache[key];\n        if (input) {\n          input.value = hexValue;\n          \n          // 3D ÏÉâÏÉÅ ÏÑ†ÌÉùÍ∏∞ UI ÏóÖÎç∞Ïù¥Ìä∏\n          const targetId = `${themePrefix}-${key.replace(/([A-Z])/g, '-$1').toLowerCase()}`;\n          const picker = document.querySelector(`[data-target=\"${targetId}\"]`);\n          if (picker) {\n            const colorDisplay = picker.querySelector('.color-display');\n            const panelHexInput = picker.querySelector('.panel-hex-input');\n            if (colorDisplay) colorDisplay.style.background = hexValue;\n            if (panelHexInput) panelHexInput.value = hexValue;\n          }\n          \n          // CSS Î≥ÄÏàò ÏßÅÏ†ë ÏóÖÎç∞Ïù¥Ìä∏\n          this.CustomColorPicker.updateCSSVariable(targetId, hexValue);\n          \n          // input Ïù¥Î≤§Ìä∏ Í∞ïÏ†ú Ìä∏Î¶¨Í±∞\n          input.dispatchEvent(new Event('input', { bubbles: true }));\n        }\n      });\n      \n      // 3D Íµ¨Ï≤¥Îì§ÏùÑ Í∏∞Î≥∏ ÏúÑÏπòÎ°ú Ï¥àÍ∏∞Ìôî\n      this.reset3DSpheresToDefaults();\n      \n      // Í∞ïÏ†úÎ°ú ÌåîÎ†àÌä∏ Ï†ÅÏö© Î∞è Î≤ÑÌäº ÏóÖÎç∞Ïù¥Ìä∏\n      this.generateAndApplyPalette();\n      \n      // Î≤ÑÌäº ÏãúÏä§ÌÖú Í∞ïÏ†ú ÏóÖÎç∞Ïù¥Ìä∏\n      if (typeof ButtonSystem !== 'undefined' && ButtonSystem.StyleManager) {\n        ButtonSystem.StyleManager.scheduleUpdate();\n      }\n      \n      // DOM Ïä§ÌÉÄÏùº Í∞ïÏ†ú ÏÉàÎ°úÍ≥†Ïπ®\n      requestAnimationFrame(() => {\n        const customButtons = document.querySelectorAll('.button.custom');\n        customButtons.forEach(button => {\n          // Í∞ïÏ†ú Î¶¨ÌîåÎ°úÏö∞Î°ú Ïä§ÌÉÄÏùº Ïû¨Í≥ÑÏÇ∞\n          button.offsetHeight;\n          const background = button.querySelector('.background.dynamic');\n          if (background) {\n            background.offsetHeight;\n          }\n        });\n      });\n    },\n    \n    // 3D Íµ¨Ï≤¥Îì§ÏùÑ Í∏∞Î≥∏ ÏúÑÏπòÎ°ú Ï¥àÍ∏∞ÌôîÌïòÎäî Î©îÏÑúÎìú\n    reset3DSpheresToDefaults() {\n      // Î™®Îì† 3D ÏÉâÏÉÅ ÏÑ†ÌÉùÍ∏∞Î•º Í∏∞Î≥∏ ÏúÑÏπòÎ°ú Ï¥àÍ∏∞Ìôî\n      document.querySelectorAll('.color-canvas-3d').forEach((canvas, index) => {\n        const picker = canvas.closest('.custom-color-picker');\n        if (!picker) return;\n        \n        const targetId = picker.dataset.target;\n        const panelHexInput = picker.querySelector('.panel-hex-input');\n        \n        if (panelHexInput && panelHexInput.value) {\n          const hexValue = panelHexInput.value.replace('#', '').toUpperCase();\n          \n          // 8ÏûêÎ¶¨ Ìó•Ïä§ÏΩîÎìúÏù∏ Í≤ΩÏö∞ÏóêÎßå Ï≤òÎ¶¨\n          if (hexValue.length === 8 && /^[0-9A-F]{8}$/.test(hexValue)) {\n            // RGBA ÏßÅÏ†ë ÏÉùÏÑ± (ÌååÏã± Ïò§Î≤ÑÌó§Îìú ÏóÜÏùå)\n            const r = parseInt(hexValue.substr(0, 2), 16);\n            const g = parseInt(hexValue.substr(2, 2), 16);\n            const b = parseInt(hexValue.substr(4, 2), 16);\n            \n            // Íµ¨Ï≤¥ ÏúÑÏπò Ï∞æÍ∏∞ Î∞è Ïù¥Îèô (ÌÜµÌï© ÏÉÅÌÉú ÏÇ¨Ïö©)\n            const position = Mechanics.colorToCoordinate('#' + hexValue.substr(0, 6));\n            if (position) {\n              // ÌÜµÌï© ÏÉâÍµ¨Ï≤¥ ÏÉÅÌÉúÎ°ú ÏßÅÏ†ë ÌöåÏ†Ñ\n              const targetVector = Mechanics.sphericalToCartesian(1, position.theta, position.phi);\n              const currentVector = [0, 0, 1]; // Í∏∞Î≥∏ Ï§ëÏã¨Ï†ê\n              \n              // ÌöåÏ†Ñ Ï∂ïÍ≥º Í∞ÅÎèÑ Í≥ÑÏÇ∞\n              const axis = [\n                currentVector[1] * targetVector[2] - currentVector[2] * targetVector[1],\n                currentVector[2] * targetVector[0] - currentVector[0] * targetVector[2],\n                currentVector[0] * targetVector[1] - currentVector[1] * targetVector[0]\n              ];\n              \n              const dot = currentVector[0] * targetVector[0] + currentVector[1] * targetVector[1] + currentVector[2] * targetVector[2];\n              const angle = Math.acos(Math.max(-1, Math.min(1, dot)));\n              \n                const normalizedAxis = Mechanics.normalize(axis);\n                const targetQ = Mechanics.fromAxisAngle(normalizedAxis, angle);\n                \n              // ÌÜµÌï© ÏÉÅÌÉúÎ°ú ÏßÅÏ†ë Ïï†ÎãàÎ©îÏù¥ÏÖò Ï†ÅÏö©\n                setTimeout(() => {\n                  Mechanics.animateToQuaternion(\n                  Mechanics.UnifiedSphereState, \n                    targetQ, \n                    canvas\n                  );\n                }, index * 100); // Í∞Å Íµ¨Ï≤¥ÎßàÎã§ 100msÏî© ÏßÄÏó∞\n            }\n          }\n        }\n      });\n      \n      // ÌÜµÌï© ÏÉâÍµ¨Ï≤¥ ÏÉÅÌÉúÎèÑ Í∏∞Î≥∏Í∞íÏúºÎ°ú Ï¥àÍ∏∞Ìôî\n      Mechanics.UnifiedSphereState.Q = [1, 0, 0, 0];\n      Mechanics.UnifiedSphereState.selectedColor = Topology.COORDINATE_SYSTEM.POLAR_COLORS.NORTH_POLE;\n    }\n  };\n",
    "/* ==============================\n  üöÄ Ïï†ÌîåÎ¶¨ÏºÄÏù¥ÏÖò ÏßÑÏûÖÏ†ê - ES6 Î™®Îìà\n  ============================== */\n\nconsole.log('üì¶ [index.js] ES6 Î™®Îìà Î°úÎî© ÏãúÏûë');\nconst moduleLoadStart = performance.now();\n\n// ÌïµÏã¨ Î™®Îìà Import\nimport { ColorConverter } from './modules/color/converter.js';\nimport { Topology } from './modules/color/topology.js';\nimport { Mechanics } from './modules/color/mechanics.js';\nimport { SVGLoader } from './modules/utils/svg-loader.js';\nimport { CSSInjector } from './modules/utils/css-injector.js';\nimport { BUTTON_CONSTANTS } from './modules/button/constants.js';\nimport { PaletteManager } from './modules/button/palette-manager.js';\nimport { StyleManager } from './modules/button/style-manager.js';\nimport { ButtonSystem } from './modules/button/button-system.js';\nimport { ThemeManager } from './modules/managers/theme-manager.js';\nimport { LargeTextManager } from './modules/managers/large-mode-manager.js';\nimport { SizeControlManager } from './modules/managers/size-control-manager.js';\nimport { CustomPaletteManager } from './modules/managers/custom-palette-manager.js';\nimport { ColorSphereUI } from './modules/ui/color-sphere-ui.js';\nimport { createIconMap, getIconPath, fallbackIcon } from './assets/icons/index.js';\n\nconst moduleLoadEnd = performance.now();\nconsole.log(`‚úÖ [index.js] Î™®Îì† Î™®Îìà import ÏôÑÎ£å (${(moduleLoadEnd - moduleLoadStart).toFixed(2)}ms)`);\n\n// Ï†ÑÏó≠ Export\nconsole.log('üì§ [index.js] window Í∞ùÏ≤¥Î°ú export ÏãúÏûë...');\nwindow.ColorConverter = ColorConverter;\nwindow.Topology = Topology;\nwindow.Mechanics = Mechanics;\nwindow.AppUtils = { SVGLoader, CSSInjector };\nwindow.ButtonSystem = ButtonSystem;\nwindow.ThemeManager = ThemeManager;\nwindow.LargeTextManager = LargeTextManager;\nwindow.SizeControlManager = SizeControlManager;\nwindow.CustomPaletteManager = CustomPaletteManager;\nwindow.ColorSphereUI = ColorSphereUI;\nwindow.BUTTON_CONSTANTS = BUTTON_CONSTANTS;\n\nconsole.log('‚úÖ [index.js] Ï†ÑÏó≠ export ÏôÑÎ£å');\n\n// Chroma.js Î°úÎìú (CDN Ïö∞ÏÑ† + Î°úÏª¨ Ìè¥Î∞±)\nconsole.log('üì• [index.js] Chroma.js Î°úÎìú ÏãúÏûë...');\n\nconst loadChroma = async () => {\n  const CDN_URL = 'https://cdn.jsdelivr.net/npm/chroma-js@2.4.2/chroma.min.js';\n  const LOCAL_URL = './src/lib/chroma.min.js';\n  \n  return new Promise((resolve, reject) => {\n    const chromaScript = document.createElement('script');\n    \n    chromaScript.src = CDN_URL;\n    console.log('üåê [index.js] CDNÏóêÏÑú Î°úÎìú ÏãúÎèÑ:', CDN_URL);\n    \n    chromaScript.onload = () => {\n      console.log('‚úÖ [index.js] CDNÏóêÏÑú Chroma.js Î°úÎìú ÏÑ±Í≥µ');\n      resolve('cdn');\n    };\n    \n    chromaScript.onerror = () => {\n      console.warn('‚ö†Ô∏è [index.js] CDN Î°úÎìú Ïã§Ìå®, Î°úÏª¨ ÌååÏùº ÏãúÎèÑ...');\n      \n      const fallbackScript = document.createElement('script');\n      fallbackScript.src = LOCAL_URL;\n      console.log('üíæ [index.js] Î°úÏª¨ Ï∫êÏãúÏóêÏÑú Î°úÎìú ÏãúÎèÑ:', LOCAL_URL);\n      \n      fallbackScript.onload = () => {\n        console.log('‚úÖ [index.js] Î°úÏª¨ Ï∫êÏãúÏóêÏÑú Chroma.js Î°úÎìú ÏÑ±Í≥µ');\n        resolve('local');\n      };\n      \n      fallbackScript.onerror = () => {\n        console.error('‚ùå [index.js] Î°úÏª¨ ÌååÏùºÎèÑ Î°úÎìú Ïã§Ìå®');\n        reject(new Error('Chroma.js Î°úÎìú Ïã§Ìå® (CDN & Î°úÏª¨ Î™®Îëê Ïã§Ìå®)'));\n      };\n      \n      document.head.appendChild(fallbackScript);\n    };\n    \n    document.head.appendChild(chromaScript);\n  });\n};\n\nloadChroma().then(async (source) => {\n  const chromaLoadTime = performance.now();\n  console.log(`‚úÖ [index.js] Chroma.js Î°úÎìú ÏôÑÎ£å (${source.toUpperCase()}) (${chromaLoadTime.toFixed(2)}ms)`);\n  console.log('üîç [index.js] chroma Î≤ÑÏ†Ñ:', window.chroma?.version || 'unknown');\n  \n  console.log('üì• [index.js] app.js Î°úÎìú ÏãúÏûë...');\n  const appLoadStart = performance.now();\n  try {\n    await import('./app.js');\n    const appLoadEnd = performance.now();\n    console.log(`‚úÖ [index.js] app.js Î°úÎìú ÏôÑÎ£å (${(appLoadEnd - appLoadStart).toFixed(2)}ms)`);\n    console.log('üéâ [index.js] Ï†ÑÏ≤¥ ÏãúÏä§ÌÖú Î°úÎìú ÏôÑÎ£å');\n  } catch (error) {\n    console.error('‚ùå [index.js] app.js Î°úÎìú Ïã§Ìå®:', error);\n    throw error;\n  }\n}).catch(error => {\n  console.error('‚ùå [index.js] Chroma.js Î°úÎìú Ïã§Ìå®:', error);\n  alert('Chroma.js ÎùºÏù¥Î∏åÎü¨Î¶¨Î•º Î°úÎìúÌï† Ïàò ÏóÜÏäµÎãàÎã§.');\n});\n"
  ],
  "mappings": "kDAGQ,GAAgB,GAAU,GAAW,GAAU,EAAc,GAAc,GAAkB,GAAoB,GAMnH,GAAgB,SAAY,CAIhC,GAFyB,CAAC,eAAgB,gBAAiB,iBAAkB,YAAY,EAChD,OAAO,KAAY,CAAC,SAAS,cAAc,CAAQ,CAAC,EACzE,OAAS,EAAG,CAKhC,IAAM,EAAc,SAAS,cAAc,KAAK,EAChD,SAAS,KAAK,YAAY,CAAW,EACrC,IAAM,EAAgB,iBAAiB,CAAW,EAE5C,EADe,CAAC,sCAAuC,oBAAqB,eAAe,EAChE,OAAO,KAAW,CAAC,EAAc,iBAAiB,CAAO,CAAC,EAE3F,GADA,SAAS,KAAK,YAAY,CAAW,EACjC,EAAY,OAAS,EAAG,CAK5B,GAAI,CACF,GAAa,KAAK,EAClB,GAAiB,KAAK,EACtB,GAAmB,KAAK,EACxB,GAAqB,KAAK,EAC1B,MAAM,EAAa,KAAK,EACxB,MAAO,EAAO,CAEd,MAAM,EAQR,IAAI,EAAkB,GACtB,OAAO,iBAAiB,SAAU,IAAM,CACtC,GAAI,EAAiB,OACrB,EAAkB,GAClB,sBAAsB,IAAM,CAC1B,EAAa,aAAa,mBAAmB,EAC7C,EAAkB,GACnB,EACF,EAGD,SAAS,iBAAiB,QAAS,CAAC,IAAU,CAC5C,IAAM,EAAS,EAAM,QAAQ,UAAU,SAAS,EAChD,GAAI,CAAC,GAAU,EAAO,aAAa,eAAe,IAAM,QACpD,EAAO,QAAQ,iBAAmB,OAAQ,OAE9C,IAAM,EAAa,EAAO,UAAU,SAAS,SAAS,EAChD,EAAc,EAAO,cAAc,uBAAuB,EAEhE,GAAI,EAAY,CACd,GAAI,EAAa,EAAY,MAAM,QAAU,OAC7C,sBAAsB,IAAM,CAG1B,GAFA,EAAO,UAAU,OAAO,SAAS,EACjC,EAAO,aAAa,eAAgB,OAAO,EACvC,EAAa,EAAY,MAAM,eAAe,SAAS,EAC5D,EACI,KACL,GAAI,EAAa,EAAY,MAAM,eAAe,SAAS,EAC3D,EAAO,UAAU,IAAI,SAAS,EAC9B,EAAO,aAAa,eAAgB,MAAM,EAG1C,EAAa,aAAa,uBAAuB,IAElD,EAAK,EAGR,IAAM,EAA4B,CAAC,IAAU,CAE3C,GADuB,EAAM,QAAQ,UAAU,+BAA+B,EAC1D,CAGlB,GAFA,EAAM,eAAe,EACrB,EAAM,gBAAgB,EAClB,OAAO,EAAM,2BAA6B,WAAY,EAAM,yBAAyB,EACzF,MAAO,GAET,MAAO,IAGT,SAAS,iBAAiB,QAAS,EAA2B,EAAI,EAGlE,SAAS,iBAAiB,UAAW,CAAC,IAAU,CAE9C,GADuB,EAAM,QAAQ,UAAU,+BAA+B,IACvD,EAAM,MAAQ,KAAO,EAAM,MAAQ,SAAW,EAAM,MAAQ,eAAgB,CACjG,EAAM,eAAe,EACrB,EAAM,gBAAgB,EACtB,OAGF,IAAM,EAAgB,EAAM,QAAQ,UAAU,SAAS,EACvD,GAAI,GAAiB,EAAc,aAAa,eAAe,IAAM,QACnE,GAAI,EAAM,MAAQ,SAAW,EAAM,MAAQ,eAAiB,EAAM,MAAQ,IAMxE,GALA,EAAM,eAAe,EACrB,EAAM,gBAAgB,EAEC,EAAc,UAAU,SAAS,QAAQ,EAE5C,CAClB,IAAM,EAAa,IAAI,WAAW,QAAS,CACzC,QAAS,GACT,WAAY,GACZ,OAAQ,CACV,CAAC,EACD,EAAc,cAAc,CAAU,EAEtC,OAAc,UAAU,IAAI,SAAS,EACvC,WAAW,IAAM,CACf,EAAc,UAAU,OAAO,SAAS,EACxC,IAAM,EAAa,IAAI,WAAW,QAAS,CACzC,QAAS,GACT,WAAY,GACZ,OAAQ,CACV,CAAC,EACD,EAAc,cAAc,CAAU,GACrC,GAAG,IAIT,EAAI,EAGP,SAAS,iBAAiB,UAAW,CAAC,IAAU,CAC9C,IAAM,EAAgB,SAAS,cACzB,EAAa,CAAC,YAAa,UAAW,aAAc,YAAa,OAAQ,KAAK,EAAE,SAAS,EAAM,GAAG,EAExG,IAAK,CAAC,GAAiB,CAAC,EAAc,UAAU,SAAS,QAAQ,IAAM,EAAY,CACjF,EAAM,eAAe,EACrB,IAAM,EAAc,SAAS,cAAc,SAAS,EACpD,GAAI,EACF,EAAY,MAAM,EAEpB,OAGF,GAAI,CAAC,GAAiB,CAAC,EAAc,UAAU,SAAS,QAAQ,EAC9D,OAGF,IAAI,EAAe,KACb,EAAa,MAAM,KAAK,SAAS,iBAAiB,SAAS,CAAC,EAAE,OAAO,KACzE,EAAI,eAAiB,IACvB,EAEA,OAAQ,EAAM,SACP,aACH,EAAM,eAAe,EAErB,IAAM,GADe,EAAW,QAAQ,CAAa,EACnB,GAAK,EAAW,OAClD,EAAe,EAAW,GAC1B,UAEG,YACH,EAAM,eAAe,EACrB,IAAM,EAAgB,EAAW,QAAQ,CAAa,EAChD,EAAY,IAAkB,EAAI,EAAW,OAAS,EAAI,EAAgB,EAChF,EAAe,EAAW,GAC1B,UAEG,YACD,EAAM,eAAe,EACvB,IAAM,EAAmB,EAAc,QAAQ,WAAW,EACpD,EAAsB,EAAW,QAAQ,CAAa,EAE5D,QAAS,EAAI,EAAG,EAAI,EAAW,OAAQ,IAAK,CAC1C,IAAM,GAAa,EAAsB,GAAK,EAAW,OACnD,EAAa,EAAW,GAG9B,GAFsB,EAAW,QAAQ,WAAW,IAE9B,EAAkB,CACtC,EAAe,EACf,OAGF,UAEC,UACD,EAAM,eAAe,EACvB,IAAM,EAAqB,EAAc,QAAQ,WAAW,EACtD,EAAiB,EAAW,QAAQ,CAAa,EAEvD,QAAS,EAAI,EAAG,EAAI,EAAW,OAAQ,IAAK,CAC1C,IAAM,GAAa,EAAiB,EAAI,EAAW,QAAU,EAAW,OAElE,EADa,EAAW,GACG,QAAQ,WAAW,EAEpD,GAAI,IAAkB,EAAoB,CAExC,EAD+B,EAAW,OAAO,KAAO,EAAI,QAAQ,WAAW,IAAM,CAAa,EAC5D,GACtC,OAGF,UAEC,OACH,EAAM,eAAe,EACrB,EAAe,EAAW,GAC1B,UAEG,MACH,EAAM,eAAe,EACrB,EAAe,EAAW,EAAW,OAAS,GAC9C,MAGJ,GAAI,EACF,EAAa,MAAM,GAEpB,EAAI,EAGP,SAAS,iBAAiB,YAAa,CAAC,IAAU,CAChD,IAAM,EAAS,EAAM,QAAQ,UAAU,SAAS,EAChD,GAAI,GAAU,EAAO,aAAa,eAAe,IAAM,QAAU,CAAC,EAAO,UAAU,SAAS,QAAQ,EAClG,EAAO,UAAU,IAAI,SAAS,GAE/B,EAAI,EAGP,SAAS,iBAAiB,UAAW,CAAC,IAAU,CAC9C,IAAM,EAAS,EAAM,QAAQ,UAAU,SAAS,EAChD,GAAI,GAAU,EAAO,UAAU,SAAS,SAAS,GAAK,CAAC,EAAO,UAAU,SAAS,QAAQ,EACvF,EAAO,UAAU,OAAO,SAAS,EAGjC,EAAa,aAAa,uBAAuB,GAElD,EAAI,EAGP,SAAS,iBAAiB,aAAc,CAAC,IAAU,CACjD,GAAI,EAAM,QAAU,OAAO,EAAM,OAAO,UAAY,WAAY,CAC9D,IAAM,EAAS,EAAM,QAAQ,UAAU,SAAS,EAChD,GAAI,GAAU,EAAO,UAAU,SAAS,SAAS,GAAK,CAAC,EAAO,UAAU,SAAS,QAAQ,EACzF,EAAO,UAAU,OAAO,SAAS,EAGjC,EAAa,aAAa,eAAe,IAG1C,EAAI,EAGP,SAAS,iBAAiB,aAAc,CAAC,IAAU,CACjD,IAAM,EAAS,EAAM,QAAQ,UAAU,SAAS,EAChD,GAAI,GAAU,EAAO,aAAa,eAAe,IAAM,QAAU,CAAC,EAAO,UAAU,SAAS,QAAQ,EAClG,EAAO,UAAU,IAAI,SAAS,GAE/B,CAAE,QAAS,EAAK,CAAC,EAGpB,SAAS,iBAAiB,WAAY,CAAC,IAAU,CAC/C,IAAM,EAAS,EAAM,QAAQ,UAAU,SAAS,EAChD,GAAI,GAAU,EAAO,UAAU,SAAS,SAAS,GAAK,CAAC,EAAO,UAAU,SAAS,QAAQ,EACvF,EAAO,UAAU,OAAO,SAAS,EAGjC,EAAa,aAAa,uBAAuB,GAElD,CAAE,QAAS,EAAK,CAAC,EAGpB,SAAS,iBAAiB,cAAe,CAAC,IAAU,CAClD,IAAM,EAAS,EAAM,QAAQ,UAAU,SAAS,EAChD,GAAI,GAAU,EAAO,UAAU,SAAS,SAAS,GAAK,CAAC,EAAO,UAAU,SAAS,QAAQ,EACvF,EAAO,UAAU,OAAO,SAAS,EAGjC,EAAa,aAAa,uBAAuB,GAElD,CAAE,QAAS,EAAK,CAAC,EAGpB,OAAO,SAAW,GAClB,OAAO,aAAe,EACtB,OAAO,aAAe,GACtB,OAAO,iBAAmB,GAC1B,OAAO,mBAAqB,GAC5B,OAAO,qBAAuB,oBAjS1B,CAAE,kBAAgB,YAAU,aAAW,YAAU,eAAc,gBAAc,oBAAkB,sBAAoB,yBAAyB,QAqSlJ,GAAI,SAAS,aAAe,UAC1B,OAAO,iBAAiB,mBAAoB,EAAa,EAEzD,QAAc,ICvST,IAAM,EAAiB,CAE5B,SAAS,CAAC,EAAG,EAAG,EAAG,EAAI,IAAK,CAC1B,OAAO,OAAO,IAAI,EAAG,EAAG,CAAC,EAAE,MAAM,EAAI,GAAG,EAAE,IAAI,MAAM,EAAE,YAAY,GAGpE,IAAI,CAAC,EAAG,EAAG,EAAG,EAAI,IAAK,CACrB,MAAO,CAAE,IAAG,IAAG,IAAG,GAAE,GAGtB,SAAS,CAAC,EAAK,CACb,IAAM,EAAQ,OAAO,CAAG,EAClB,EAAM,EAAM,IAAI,EACtB,MAAO,CACL,EAAG,EAAI,GACP,EAAG,EAAI,GACP,EAAG,EAAI,GACP,EAAG,KAAK,MAAM,EAAM,MAAM,EAAI,GAAG,CACnC,GAGF,QAAQ,CAAC,EAAG,EAAG,EAAG,CAChB,IAAM,EAAM,OAAO,IAAI,EAAG,EAAG,CAAC,EAAE,IAAI,EACpC,MAAO,CACL,EAAG,EAAI,GACP,EAAG,EAAI,GACP,EAAG,EAAI,EACT,GAGF,QAAQ,CAAC,EAAG,EAAG,EAAG,EAAI,IAAK,CACzB,OAAO,OAAO,IAAI,EAAG,EAAG,CAAC,EAAE,MAAM,EAAI,GAAG,EAAE,IAAI,MAAM,EAAE,YAAY,GAGpE,QAAQ,CAAC,EAAG,EAAG,EAAG,CAChB,IAAM,EAAM,OAAO,IAAI,EAAG,EAAG,CAAC,EAAE,IAAI,EACpC,MAAO,CACL,EAAG,KAAK,MAAM,EAAI,IAAM,CAAC,EACzB,EAAG,KAAK,MAAM,EAAI,GAAK,GAAG,EAC1B,EAAG,KAAK,MAAM,EAAI,GAAK,GAAG,CAC5B,GAGF,QAAQ,CAAC,EAAG,EAAG,EAAG,CAChB,IAAM,EAAM,OAAO,IAAI,EAAG,EAAG,CAAC,EAAE,IAAI,EACpC,MAAO,CACL,EAAG,EAAI,GACP,EAAG,EAAI,GACP,EAAG,EAAI,EACT,GAGF,QAAQ,CAAC,EAAG,EAAG,EAAG,EAAI,IAAK,CACzB,OAAO,OAAO,IAAI,EAAG,EAAG,CAAC,EAAE,MAAM,EAAI,GAAG,EAAE,IAAI,MAAM,EAAE,YAAY,EAEtE,ECvDO,IAAM,EAAW,CAEtB,kBAAmB,CACjB,UAAW,CACT,WAAY,CAAE,MAAO,EAAG,IAAK,CAAE,EAC/B,WAAY,CAAE,MAAO,KAAK,GAAI,IAAK,CAAE,EACrC,QAAS,CAAE,MAAO,KAAK,GAAG,EAAG,IAAK,CAAE,CACtC,EAEA,UAAW,CACT,OAAQ,CAAE,EAAG,EAAG,EAAG,EAAG,EAAG,CAAE,EAC3B,WAAY,CAAE,EAAG,EAAG,EAAG,EAAG,EAAG,CAAE,EAC/B,WAAY,CAAE,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,CAClC,EAEA,aAAc,CACZ,WAAY,CAAE,EAAG,IAAK,EAAG,IAAK,EAAG,GAAI,EACrC,WAAY,CAAE,EAAG,EAAG,EAAG,EAAG,EAAG,CAAE,CACjC,EAEA,OAAQ,CACN,OAAQ,CAAE,EAAG,EAAG,EAAG,CAAE,EACrB,YAAa,CACf,CACF,EAGA,cAAc,CAAC,EAAO,EAAK,CACzB,IAAM,GAAQ,EAAM,KAAK,KAAO,EAAI,KAAK,IAAO,IAC1C,EAAK,KAAK,MAAM,EAAM,EAAE,EAAI,EAC5B,EAAK,EAAM,GAAM,GAEjB,EAAc,IAAM,CACxB,OAAO,OACA,GAAG,MAAO,CAAE,EAAG,IAAK,EAAG,KAAK,MAAM,EAAI,GAAG,EAAG,EAAG,CAAE,MACjD,GAAG,MAAO,CAAE,EAAG,KAAK,OAAO,EAAE,GAAK,GAAG,EAAG,EAAG,IAAK,EAAG,CAAE,MACrD,GAAG,MAAO,CAAE,EAAG,EAAG,EAAG,IAAK,EAAG,KAAK,MAAM,EAAI,GAAG,CAAE,MACjD,GAAG,MAAO,CAAE,EAAG,EAAG,EAAG,KAAK,OAAO,EAAE,GAAK,GAAG,EAAG,EAAG,GAAI,MACrD,GAAG,MAAO,CAAE,EAAG,KAAK,MAAM,EAAI,GAAG,EAAG,EAAG,EAAG,EAAG,GAAI,MACjD,GAAG,MAAO,CAAE,EAAG,IAAK,EAAG,EAAG,EAAG,KAAK,OAAO,EAAE,GAAK,GAAG,CAAE,IAIxD,EAAW,EAAQ,IAAM,KAAK,GAC9B,EAAiB,EAAW,GAAK,GAAQ,EAAW,GAAK,GAAM,IAAM,KAAQ,EAAW,IAAM,GAAM,KAClG,EAAG,EAAO,EAAG,EAAO,EAAG,GAAU,EAAY,EAC/C,EAAkB,KAAK,IAAI,CAAK,EAChC,EAAO,KAAK,MAAM,EAAiB,GAAG,EAE5C,MAAO,CACL,EAAG,KAAK,MAAM,GAAQ,EAAQ,GAAQ,CAAe,EACrD,EAAG,KAAK,MAAM,GAAQ,EAAQ,GAAQ,CAAe,EACrD,EAAG,KAAK,MAAM,GAAQ,EAAQ,GAAQ,CAAe,CACvD,GAIF,eAAe,CAAC,EAAO,EAAK,CAC1B,IAAM,EAAW,EAAQ,IAAM,KAAK,GAC9B,EAAiB,EAAW,GAAK,EAAW,IAC5C,EAAmB,KAAK,IAAI,EAAW,EAAE,EAAI,EAEnD,GAAI,EACF,OAAO,EAAW,EAAI,KAAK,kBAAkB,aAAa,WAAa,KAAK,kBAAkB,aAAa,WAG7G,IAAM,GAAQ,EAAM,KAAK,KAAO,EAAI,KAAK,IAAO,IAC1C,EAAK,KAAK,MAAM,EAAM,EAAE,EAAI,EAC5B,EAAK,EAAM,GAAM,GAEjB,EAAc,IAAM,CACxB,OAAO,OACA,GAAG,MAAO,CAAE,EAAG,IAAK,EAAG,KAAK,MAAM,EAAI,GAAG,EAAG,EAAG,CAAE,MACjD,GAAG,MAAO,CAAE,EAAG,KAAK,OAAO,EAAE,GAAK,GAAG,EAAG,EAAG,IAAK,EAAG,CAAE,MACrD,GAAG,MAAO,CAAE,EAAG,EAAG,EAAG,IAAK,EAAG,KAAK,MAAM,EAAI,GAAG,CAAE,MACjD,GAAG,MAAO,CAAE,EAAG,EAAG,EAAG,KAAK,OAAO,EAAE,GAAK,GAAG,EAAG,EAAG,GAAI,MACrD,GAAG,MAAO,CAAE,EAAG,KAAK,MAAM,EAAI,GAAG,EAAG,EAAG,EAAG,EAAG,GAAI,MACjD,GAAG,MAAO,CAAE,EAAG,IAAK,EAAG,EAAG,EAAG,KAAK,OAAO,EAAE,GAAK,GAAG,CAAE,IAI9D,GAAI,EACF,OAAO,EAAY,EAGrB,IAAM,EAAiB,EAAW,GAAK,GAAQ,EAAW,GAAK,GAAM,IAAM,KAAQ,EAAW,IAAM,GAAM,KAClG,EAAG,EAAO,EAAG,EAAO,EAAG,GAAU,EAAY,EAC/C,EAAkB,KAAK,IAAI,CAAK,EAChC,EAAO,KAAK,MAAM,EAAiB,GAAG,EAE5C,MAAO,CACL,EAAG,KAAK,MAAM,GAAQ,EAAQ,GAAQ,CAAe,EACrD,EAAG,KAAK,MAAM,GAAQ,EAAQ,GAAQ,CAAe,EACrD,EAAG,KAAK,MAAM,GAAQ,EAAQ,GAAQ,CAAe,CACvD,EAEJ,EChGO,IAAM,EAAgB,CAE3B,eAAe,CAAC,EAAa,EAAQ,CACnC,IAAM,EAAa,SAAS,eAAe,aAAa,EAClD,EAAY,SAAS,cAAc,aAAa,EAEtD,GAAI,CAAC,GAAc,CAAC,EAAW,OAE/B,EAAW,iBAAiB,QAAS,CAAC,IAAM,CAC1C,EAAY,KAAO,WAAW,EAAE,OAAO,KAAK,EAE5C,OAAO,UAAU,kBAAkB,EAAO,WAAW,IAAI,EAAG,CAAW,EACvE,EAAU,YAAc,GAAG,KAAK,MAAM,EAAY,KAAO,GAAG,KAC7D,EAED,EAAW,MAAQ,EAAY,KAC/B,EAAU,YAAc,GAAG,KAAK,MAAM,EAAY,KAAO,GAAG,MAI9D,oBAAoB,CAAC,EAAa,EAAQ,CACxC,IAAM,EAAW,SAAS,cAAc,YAAY,EAC9C,EAAW,SAAS,cAAc,YAAY,EAC9C,EAAW,SAAS,cAAc,YAAY,EAEpD,GAAI,CAAC,GAAY,CAAC,GAAY,CAAC,EAAU,OAEzC,IAAM,EAAkB,IAAM,CAC5B,IAAM,EAAM,IAAI,EAAY,cAAc,EAAE,SAAS,EAAE,EAAE,SAAS,EAAG,GAAG,IAAI,EAAY,cAAc,EAAE,SAAS,EAAE,EAAE,SAAS,EAAG,GAAG,IAAI,EAAY,cAAc,EAAE,SAAS,EAAE,EAAE,SAAS,EAAG,GAAG,IAAI,YAAY,EAC1M,EAAM,OAAO,EAAY,cAAc,MAAM,EAAY,cAAc,MAAM,EAAY,cAAc,KACvG,EAAY,OAAO,KAAK,OAAO,EAAY,cAAc,EAAI,EAAY,cAAc,EAAI,EAAY,cAAc,GAAK,EAAI,IAAM,GAAG,eAE7I,EAAS,YAAc,EACvB,EAAS,YAAc,EACvB,EAAS,YAAc,GAGzB,EAAgB,EAEhB,YAAY,IAAM,CAChB,GAAI,EAAY,cACd,EAAgB,GAEjB,GAAG,EAEV,EC1CO,IAAM,EAAY,CAEvB,mBAAoB,CAClB,SAAU,GACV,GAAI,KACJ,EAAG,CAAC,EAAG,EAAG,EAAG,CAAC,EACd,KAAM,CAAC,EAAG,CAAC,EACX,KAAM,EACN,cAAe,CAAE,EAAG,EAAG,EAAG,EAAG,EAAG,CAAE,EAClC,WAAY,EACd,EAGA,qBAAqB,CAAC,EAAW,uBAAwB,EAAW,KAAM,CACxE,IAAM,EAAS,SAAS,cAAc,CAAQ,EAC9C,GAAI,CAAC,EAAQ,OAEb,IAAM,EAAM,EAAO,WAAW,IAAI,EAClC,EAAI,UAAU,EAAG,EAAG,EAAO,MAAO,EAAO,MAAM,EAC/C,KAAK,kBAAkB,EAAK,KAAK,kBAAkB,EAEnD,KAAK,uBAAuB,EAAQ,KAAK,mBAAoB,CAAQ,EACrE,EAAc,gBAAgB,KAAK,mBAAoB,CAAM,EAC7D,EAAc,qBAAqB,KAAK,mBAAoB,CAAM,GAIpE,oBAAoB,CAAC,EAAG,EAAG,EAAG,CAC5B,IAAM,EAAI,KAAK,KAAK,EAAI,EAAI,EAAI,EAAI,EAAI,CAAC,EACzC,MAAO,CAAE,IAAG,MAAO,KAAK,KAAK,KAAK,IAAI,GAAI,KAAK,IAAI,EAAG,EAAI,CAAC,CAAC,CAAC,EAAG,IAAK,KAAK,MAAM,EAAG,CAAC,CAAE,GAIxF,oBAAoB,CAAC,EAAG,EAAO,EAAK,CAClC,MAAO,CAAE,EAAG,EAAI,KAAK,IAAI,CAAK,EAAI,KAAK,IAAI,CAAG,EAAG,EAAG,EAAI,KAAK,IAAI,CAAK,EAAI,KAAK,IAAI,CAAG,EAAG,EAAG,EAAI,KAAK,IAAI,CAAK,CAAE,GAIlH,wBAAwB,CAAC,EAAS,EAAS,EAAQ,CACjD,GAAI,KAAK,KAAK,EAAU,EAAU,EAAU,CAAO,EAAI,EAAQ,OAAO,KACtE,IAAM,EAAY,CAAE,EAAG,EAAQ,EAAQ,EAAG,EAAQ,EAAQ,EAAG,KAAK,KAAK,EAAS,EAAS,EAAU,EAAU,EAAU,CAAO,EAAE,CAAO,EACvI,MAAO,CAAE,OAAQ,CAAE,EAAG,EAAS,EAAG,CAAQ,EAAG,YAAW,UAAW,KAAK,qBAAqB,EAAU,EAAG,EAAU,EAAG,EAAU,CAAC,CAAE,GAItI,gCAAgC,CAAC,EAAS,EAAS,EAAQ,CACzD,IAAM,EAAO,EAAO,sBAAsB,EAC1C,OAAO,KAAK,yBAAyB,EAAU,EAAK,MAAQ,EAAG,EAAU,EAAK,OAAS,EAAG,KAAK,IAAI,EAAK,MAAO,EAAK,MAAM,EAAI,CAAC,GAIjI,iBAAiB,CAAC,EAAU,CAC1B,QAAS,EAAQ,EAAG,GAAS,KAAK,GAAI,GAAS,KAC7C,QAAS,EAAM,CAAC,KAAK,GAAI,GAAO,KAAK,GAAI,GAAO,KAAM,CACpD,IAAM,EAAQ,EAAS,eAAe,EAAO,CAAG,EAChD,GAAI,OAAO,IAAI,EAAM,EAAG,EAAM,EAAG,EAAM,CAAC,EAAE,IAAI,IAAM,OAAO,CAAQ,EAAE,IAAI,EAAG,MAAO,CAAE,QAAO,KAAI,IAMtG,SAAS,CAAC,EAAG,CACX,IAAM,EAAS,KAAK,KAAK,EAAE,OAAO,CAAC,EAAK,IAAQ,EAAM,EAAM,EAAK,CAAC,CAAC,EACnE,GAAI,IAAW,EAAG,MAAU,MAAM,kBAAiB,EACnD,OAAO,EAAE,IAAI,KAAO,EAAM,CAAM,GAIlC,aAAa,CAAC,EAAM,EAAO,CACzB,IAAM,EAAI,KAAK,IAAI,EAAQ,GAAG,EAC9B,MAAO,CAAC,EAAK,GAAK,EAAG,EAAK,GAAK,EAAG,EAAK,GAAK,EAAG,KAAK,IAAI,EAAQ,GAAG,CAAC,GAItE,QAAQ,CAAC,EAAI,EAAI,CACf,MAAO,CACL,EAAG,GAAK,EAAG,GAAK,EAAG,GAAK,EAAG,GAAK,EAAG,GAAK,EAAG,GAAK,EAAG,GAAK,EAAG,GAC3D,EAAG,GAAK,EAAG,GAAK,EAAG,GAAK,EAAG,GAAK,EAAG,GAAK,EAAG,GAAK,EAAG,GAAK,EAAG,GAC3D,EAAG,GAAK,EAAG,GAAK,EAAG,GAAK,EAAG,GAAK,EAAG,GAAK,EAAG,GAAK,EAAG,GAAK,EAAG,GAC3D,EAAG,GAAK,EAAG,GAAK,EAAG,GAAK,EAAG,GAAK,EAAG,GAAK,EAAG,GAAK,EAAG,GAAK,EAAG,EAC7D,GAIF,YAAY,CAAC,EAAG,EAAG,CACjB,OAAO,KAAK,SAAS,KAAK,SAAS,EAAG,CAAC,EAAE,GAAI,EAAE,GAAI,EAAE,GAAI,CAAC,CAAC,EAAG,CAAC,CAAC,EAAE,GAAI,CAAC,EAAE,GAAI,CAAC,EAAE,GAAI,EAAE,EAAE,CAAC,EAAE,MAAM,EAAG,CAAC,GAIvG,KAAK,CAAC,EAAI,EAAI,EAAG,CACf,IAAM,EAAM,EAAG,GAAK,EAAG,GAAK,EAAG,GAAK,EAAG,GAAK,EAAG,GAAK,EAAG,GAAK,EAAG,GAAK,EAAG,GACjE,EAAS,KAAK,KAAK,KAAK,IAAI,CAAG,CAAC,EAChC,EAAQ,EAAS,EACjB,EAAY,KAAK,IAAI,CAAM,EAC3B,EAAK,KAAK,IAAI,CAAK,EAAI,EAAM,KAAK,IAAI,CAAK,EAAI,EAC/C,EAAK,KAAK,IAAI,CAAK,EAAI,EAC7B,MAAO,CAAC,EAAK,EAAG,GAAK,EAAK,EAAG,GAAI,EAAK,EAAG,GAAK,EAAK,EAAG,GAAI,EAAK,EAAG,GAAK,EAAK,EAAG,GAAI,EAAK,EAAG,GAAK,EAAK,EAAG,EAAE,GAI5G,gBAAgB,CAAC,EAAI,EAAI,EAAc,MAAO,CAC5C,OAAO,KAAK,KAAK,EAAK,EAAK,EAAK,CAAE,EAAI,EAAc,SAAO,CAAC,EAAG,EAAG,EAAG,CAAC,EAAI,KAAK,cAAc,KAAK,UAAU,CAAC,EAAI,CAAC,EAAI,CAAC,CAAC,EAAG,KAAK,KAAK,EAAK,EAAK,EAAK,CAAE,EAAI,CAAW,GAIvK,iBAAiB,CAAC,EAAS,EAAS,CAClC,OAAO,KAAK,KAAK,EAAU,EAAU,EAAU,CAAO,EAAI,KAAK,GAAK,IAAM,SAAO,CAAC,EAAG,EAAG,EAAG,CAAC,EAAI,KAAK,cAAc,KAAK,UAAU,CAAC,EAAS,CAAC,EAAS,CAAC,CAAC,EAAG,KAAK,KAAK,EAAU,EAAU,EAAU,CAAO,EAAI,KAAK,GAAK,GAAG,GAI7N,iBAAiB,CAAC,EAAK,EAAa,CAClC,IAAM,EAAQ,EAAI,OAAO,MACnB,EAAS,EAAI,OAAO,OACpB,EAAU,EAAQ,EAClB,EAAU,EAAS,EACnB,GAAU,KAAK,IAAI,EAAO,CAAM,EAAI,EAAI,IAAM,EAAY,KAEhE,EAAI,UAAU,EAAG,EAAG,EAAO,CAAM,EAEjC,IAAM,EAAY,EAAI,gBAAgB,EAAO,CAAM,EAC7C,EAAO,EAAU,KAEvB,QAAS,EAAI,EAAG,EAAI,EAAQ,IAC1B,QAAS,EAAI,EAAG,EAAI,EAAO,IAAK,CAC9B,IAAM,EAAK,EAAI,EACT,EAAK,EAAI,EAEf,GAAI,EAAK,EAAK,EAAK,GAAM,EAAS,EAAQ,CACxC,IAAM,EAAU,EAAK,EACf,EAAU,EAAK,EACf,EAAU,KAAK,KAAK,KAAK,IAAI,EAAG,EAAI,EAAU,EAAU,EAAU,CAAO,CAAC,EAE1E,EAAgB,KAAK,aAAa,EAAY,EAAG,CAAC,EAAS,EAAS,CAAO,CAAC,EAC5E,EAAQ,EAAS,eAAe,KAAK,KAAK,KAAK,IAAI,GAAI,KAAK,IAAI,EAAG,EAAc,EAAE,CAAC,CAAC,EAAG,KAAK,MAAM,EAAc,GAAI,EAAc,EAAE,CAAC,EAEtI,GAAS,EAAI,EAAQ,GAAK,EAChC,EAAK,GAAS,EAAM,EACpB,EAAK,EAAQ,GAAK,EAAM,EACxB,EAAK,EAAQ,GAAK,EAAM,EACxB,EAAK,EAAQ,GAAK,KAOxB,GAFA,EAAI,aAAa,EAAW,EAAG,CAAC,EAE5B,EAAY,cAAe,CAC7B,IAAQ,IAAG,IAAG,KAAM,EAAY,cAChC,EAAI,UAAY,OAAO,MAAM,MAAM,KACnC,EAAI,UAAU,EACd,EAAI,IAAI,EAAS,EAAS,EAAG,EAAG,EAAI,KAAK,EAAE,EAC3C,EAAI,KAAK,EAET,IAAM,EAAc,EAAI,MAAQ,EAAI,MAAQ,EAAI,MAChD,EAAI,YAAc,EAAa,IAAM,kBAAoB,wBACzD,EAAI,UAAY,EAChB,EAAI,OAAO,IAKf,sBAAsB,CAAC,EAAQ,EAAa,EAAU,CACpD,IAAI,EAAe,KACf,EAAa,GACb,EAAM,EAAO,WAAW,IAAI,EAEhC,EAAO,iBAAiB,cAAe,CAAC,IAAM,CAC5C,EAAE,eAAe,EACjB,EAAE,gBAAgB,EAClB,EAAY,SAAW,GACvB,EAAY,KAAO,CAAC,EAAE,QAAS,EAAE,OAAO,EACxC,EAAY,WAAa,GACzB,EAAe,CAAC,EAAE,QAAS,EAAE,OAAO,EACpC,EAAa,GACb,EAAO,kBAAkB,EAAE,SAAS,EACpC,EAAO,MAAM,OAAS,YACrB,CAAE,QAAS,EAAM,CAAC,EAErB,EAAO,iBAAiB,cAAe,CAAC,IAAM,CAC5C,GAAI,CAAC,EAAY,SAAU,OAE3B,EAAE,eAAe,EACjB,EAAE,gBAAgB,EAClB,IAAM,EAAK,EAAE,QAAU,EAAY,KAAK,GAClC,EAAK,EAAE,QAAU,EAAY,KAAK,GAGxC,GAFA,EAAY,KAAO,CAAC,EAAE,QAAS,EAAE,OAAO,EAEpC,CAAC,GAAc,GACjB,GAAI,KAAK,MAAM,EAAE,QAAU,EAAa,GAAI,EAAE,QAAU,EAAa,EAAE,EAAI,EAAG,EAAa,GAG7F,IAAM,EAAK,KAAK,iBAAiB,EAAI,EAAI,GAAK,KAAO,KAAK,IAAI,EAAO,YAAa,EAAO,YAAY,EAAE,EAEvG,GAAI,EAAG,KAAO,EACZ,EAAY,EAAI,KAAK,SAAS,EAAY,EAAG,CAAE,EAGjD,GAAI,EAAU,EAAS,CAAM,EAE7B,KAAK,kBAAkB,EAAK,CAAW,EACxC,EAED,EAAO,iBAAiB,YAAa,CAAC,IAAM,CAC1C,EAAE,eAAe,EACjB,EAAE,gBAAgB,EAClB,EAAY,SAAW,GACvB,EAAY,WAAa,GACzB,EAAO,sBAAsB,EAAE,SAAS,EACxC,EAAO,MAAM,OAAS,OAEtB,sBAAsB,IAAM,CAC1B,KAAK,kBAAkB,EAAK,CAAW,EACxC,EACF,EAED,EAAO,iBAAiB,QAAS,CAAC,IAAM,CAGtC,GAFA,EAAE,eAAe,EACjB,EAAE,gBAAgB,EACd,CAAC,EAAY,CACf,IAAM,EAAO,EAAO,sBAAsB,EACpC,EAAI,EAAE,QAAU,EAAK,KACrB,EAAI,EAAE,QAAU,EAAK,IAErB,EAAc,KAAK,iCAAiC,EAAG,EAAG,CAAM,EACtE,GAAI,EAAa,CACf,IAAM,EAAe,CAAC,EAAY,UAAU,EAAG,EAAY,UAAU,EAAG,EAAY,UAAU,CAAC,EACzF,EAAgB,CAAC,EAAG,EAAG,CAAC,EAExB,EAAO,CACX,EAAc,GAAK,EAAa,GAAK,EAAc,GAAK,EAAa,GACrE,EAAc,GAAK,EAAa,GAAK,EAAc,GAAK,EAAa,GACrE,EAAc,GAAK,EAAa,GAAK,EAAc,GAAK,EAAa,EACvE,EAEM,EAAQ,KAAK,KAAK,KAAK,IAAI,GAAI,KAAK,IAAI,EAAG,EAAc,GAAK,EAAa,GAAK,EAAc,GAAK,EAAa,GAAK,EAAc,GAAK,EAAa,EAAE,CAAC,CAAC,EAE/J,GAAI,EAAQ,KACV,KAAK,oBAAoB,EAAa,KAAK,cAAc,KAAK,UAAU,CAAI,EAAG,CAAK,EAAG,CAAM,GAKnG,EAAa,GACb,EAAe,KAChB,EAED,EAAO,iBAAiB,QAAS,CAAC,IAAM,CACtC,EAAE,eAAe,EACjB,EAAE,gBAAgB,EAElB,IAAM,EAAS,EAAO,QAAQ,sBAAsB,EACpD,GAAI,CAAC,EAAQ,OAEb,IAAM,EAAgB,EAAO,cAAc,kBAAkB,EAC7D,GAAI,CAAC,EAAe,OAEpB,IAAM,EAAa,EAAc,MAAM,QAAQ,IAAK,EAAE,EACtD,GAAI,EAAW,QAAU,EAAG,CAC1B,IAAI,EAAQ,EAAW,SAAW,EAAI,SAAS,EAAW,OAAO,EAAG,CAAC,EAAG,EAAE,EAAI,IAExE,EAAc,EAAE,OAAS,EAAI,GAAK,EACxC,EAAQ,KAAK,IAAI,EAAG,KAAK,IAAI,IAAK,EAAQ,CAAW,CAAC,EAEtD,IAAM,EAAS,EAAW,OAAO,EAAG,CAAC,EAAI,EAAM,SAAS,EAAE,EAAE,SAAS,EAAG,GAAG,EAAE,YAAY,EACzF,EAAc,MAAQ,IAAM,EAE5B,EAAc,cAAc,IAAI,MAAM,QAAS,CAAE,QAAS,EAAK,CAAC,CAAC,EAEjE,WAAW,IAAM,CACf,GAAI,OAAO,cAAgB,OAAO,aAAa,aAC7C,OAAO,aAAa,aAAa,eAAe,GAEjD,GAAG,GAET,GAIH,mBAAmB,CAAC,EAAa,EAAS,EAAQ,CAChD,IAAM,EAAS,CAAC,GAAG,EAAY,CAAC,EAC1B,EAAY,YAAY,IAAI,EAC5B,EAAM,EAAO,WAAW,IAAI,EAE5B,EAAU,CAAC,IAAgB,CAC/B,IAAM,EAAW,KAAK,KAAK,EAAc,GAAa,KAAM,CAAC,EAG7D,GAFA,EAAY,EAAI,KAAK,MAAM,EAAQ,EAAS,EAAI,KAAK,IAAI,EAAI,EAAU,CAAC,CAAC,EACzE,KAAK,kBAAkB,EAAK,CAAW,EACnC,EAAW,EAAG,sBAAsB,CAAO,GAEjD,sBAAsB,CAAO,EAEjC,ECnSO,IAAM,EAAY,CACvB,IAAO,UACP,aAAc,iBACd,cAAe,kBACf,OAAU,aACV,SAAY,eACZ,OAAU,aACV,KAAQ,WACR,KAAQ,WACR,UAAa,gBACb,QAAW,cACX,KAAQ,WACR,KAAQ,WACR,KAAQ,WACR,MAAS,YACT,OAAU,aACV,MAAS,YACT,GAAM,SACN,MAAS,YACT,IAAO,UACP,YAAe,kBACf,KAAQ,WACR,MAAS,YACT,MAAS,YACT,QAAW,cACX,gBAAiB,oBACjB,gBAAiB,oBACjB,KAAQ,WACR,OAAU,aACV,QAAW,cACX,KAAQ,WACR,OAAU,aACV,OAAU,aACV,QAAW,aACb,EAGa,GAAgB,CAC3B,QAAS,8BACT,OAAQ,wBACR,SAAU,yBACV,MAAO,qBACT,EAGO,SAAS,EAAW,CAAC,EAAS,CACnC,OAAO,GAAc,IAAY,eAAe,MAI3C,SAAS,CAAW,CAAC,EAAS,CACnC,IAAM,EAAW,EAAU,GAC3B,GAAI,CAAC,EAEH,OADA,QAAQ,KAAK,YAAW,8CAAoD,EACrE,mCAET,MAAO,oBAAoB,IAItB,SAAS,CAAa,EAAG,CAC9B,IAAM,EAAM,CAAC,EAEb,QAAY,EAAK,KAAa,OAAO,QAAQ,CAAS,EAAG,CAEvD,GAAI,IAAQ,eAAiB,EAAI,QAAY,SAE7C,EAAI,GAAO,CACT,KAAM,EAAY,CAAG,EACrB,SAAU,GAAY,CAAG,CAC3B,EAGF,OAAO,EAIF,IAAM,EAAe,cC9ErB,IAAM,EAAY,CACvB,MAAO,IAAI,OAEP,QAAO,EAAG,CACZ,OAAO,EAAc,GAGvB,qBAAqB,CAAC,EAAW,CAC/B,OAAO,EACJ,QAAQ,qCAAsC,qBAAqB,EACnE,QAAQ,uCAAwC,uBAAuB,EACvE,QAAQ,qCAAsC,qBAAqB,EACnE,QAAQ,uCAAwC,uBAAuB,EACvE,QAAQ,yCAA0C,oBAAoB,EACtE,QAAQ,2CAA4C,sBAAsB,QAGzE,gBAAe,EAAG,CACtB,IAAM,EAAe,OAAO,QAAQ,KAAK,OAAO,EAAE,IAAI,OAAQ,EAAK,KAAY,CAC7E,GAAI,CACF,IAAM,EAAW,MAAM,MAAM,EAAO,IAAI,EACxC,GAAI,CAAC,EAAS,GAAI,MAAU,MAAM,kBAAkB,EAAO,MAAM,EACjE,IAAM,EAAY,MAAM,EAAS,KAAK,EACtC,KAAK,MAAM,IAAI,EAAK,CAAS,EAC7B,QAAQ,IAAI,YAAW,QAAU,EACjC,MAAO,EAAO,CACd,QAAQ,KAAK,qBAAoB,eAAiB,EAAO,sBAAsB,EAC/E,GAAI,CACF,IAAM,EAAe,EAAY,CAAY,EACvC,EAAW,MAAM,MAAM,CAAY,EACzC,GAAI,EAAS,GACX,KAAK,MAAM,IAAI,EAAK,MAAM,EAAS,KAAK,CAAC,EAEzC,UAAK,MAAM,IAAI,EAAK,EAAE,EAExB,MAAO,EAAe,CACtB,QAAQ,MAAM,8BAA6B,GAAK,EAChD,KAAK,MAAM,IAAI,EAAK,EAAE,IAG3B,EAED,MAAM,QAAQ,IAAI,CAAY,GAGhC,cAAc,EAAG,CACf,OAAO,QAAQ,KAAK,OAAO,EAAE,QAAQ,EAAE,EAAK,KAAY,CACtD,IAAM,EAAY,KAAK,MAAM,IAAI,CAAG,EACpC,GAAI,CAAC,EAAW,CACd,QAAQ,KAAK,wBAAuB,GAAK,EACzC,OAGF,IAAM,EAAe,KAAK,sBAAsB,CAAS,EAEnD,EAAU,SAAS,iBAAiB,EAAO,QAAQ,EACzD,GAAI,EAAQ,SAAW,EACrB,QAAQ,IAAI,sCAAqC,EAAO,UAAU,EAGpE,EAAQ,QAAQ,KAAM,CACpB,EAAG,UAAY,EAChB,EACF,EAED,QAAQ,IAAI,yDAAwD,QAGhE,cAAa,EAAG,CACpB,MAAM,KAAK,gBAAgB,EAC3B,KAAK,eAAe,GAGtB,SAAS,CAAC,EAAK,EAAe,GAAM,CAClC,IAAM,EAAM,KAAK,MAAM,IAAI,CAAG,GAAK,GACnC,OAAO,EAAe,KAAK,sBAAsB,CAAG,EAAI,EAE5D,EC/EO,IAAM,EAAc,CACzB,MAAM,CAAC,EAAI,EAAS,EAAc,GAAI,CACpC,IAAM,EAAgB,SAAS,eAAe,CAAE,EAChD,GAAI,EAAe,EAAc,OAAO,EAExC,IAAM,EAAe,SAAS,cAAc,OAAO,EACnD,EAAa,GAAK,EAClB,EAAa,YAAc,EAC3B,SAAS,KAAK,YAAY,CAAY,EAE1C,ECVO,IAAM,EAAmB,CAC9B,KAAM,WACF,yBAAwB,EAAG,CAAE,OAAO,KAAK,SACzC,qBAAoB,EAAG,CAAE,MAAO,GAAI,KAAK,6BACzC,yBAAwB,EAAG,CAAE,OAAO,KAAK,SACzC,eAAc,EAAG,CAAE,OAAO,KAAK,6BAC/B,qBAAoB,EAAG,CAAE,MAAO,GAAI,KAAK,6BACzC,sBAAqB,EAAG,CAAE,MAAO,GAAK,KAAK,6BAC3C,mBAAkB,EAAG,CAAE,MAAO,GAAI,KAAK,KAC7C,ECTO,IAAM,EAAiB,CAC5B,WAAW,EAAG,CACZ,IAAM,EAAU,SAAS,iBAAiB,SAAS,EAC7C,EAAqB,IAAI,IAE/B,EAAQ,QAAQ,KAAU,CAExB,IAAM,EADY,MAAM,KAAK,EAAO,SAAS,EACnB,KAAK,KAAO,CAAC,CAAC,SAAU,UAAW,SAAU,SAAS,EAAE,SAAS,CAAG,CAAC,EAC/F,GAAI,EAAS,EAAmB,IAAI,CAAO,EAC5C,EAED,IAAI,EAAgB,GAAI,EAAe,GAAI,EAAe,GAE1D,EAAmB,QAAQ,KAAW,CACpC,IAAM,EAAa,CAAC,WAAY,WAAY,WAAY,aAAc,aAAc,aAAc,QAAQ,EAAE,SAAS,CAAO,EAgD5H,GA9CA,CACE,CAAE,KAAM,UAAW,SAAU,GAAI,SAAU,EAAM,EACjD,CAAE,KAAM,UAAW,SAAU,wBAAyB,SAAU,EAAM,EACtE,CAAE,KAAM,UAAW,SAAU,kBAAmB,SAAU,EAAM,EAChE,CAAE,KAAM,WAAY,SAAU,yBAA0B,SAAU,EAAK,CACzE,EAAE,QAAQ,EAAE,KAAM,EAAO,SAAU,EAAe,cAAc,CAC9D,IAAM,EAAe,IAAY,YAAc,IAAU,WAAa,CAAC,EAAW,IAAI,IAAkB,KAClG,EAAkB,KAAK,IAAU,IAEvC,GAAI,EACF,GAAgB;AAAA,MACpB;AAAA;AAAA,4BAEsB,sBAA4B;AAAA,+BACzB,kBAAwB;AAAA;AAAA;AAAA;AAAA,yBAI9B,mBAAyB;AAAA;AAAA;AAAA,OAM1C,IAAM,EAAsB,IAAY,YAAc,IAAY,aAC9D,SAAS,uBAA6B,KACtC,SAAS,sBAA4B,KAEzC,GAAgB;AAAA,MAClB;AAAA;AAAA,sBAEgB;AAAA,+BACS,kBAAwB;AAAA,UAC7C,IAAU,UAAY,8CAAgD;AAAA,UACtE,IAAU,UAAY,0FAA4F;AAAA,UAClH,IAAU,WAAa,+CAAiD;AAAA;AAAA;AAAA,yBAGzD,mBAAyB;AAAA;AAAA;AAAA,QAG1C,IAAU,UAAY,gGAAkG;AAAA,QACxH,EAAW,yCAA2C;AAAA,OAEvD,EAEG,CAAC,EACsB,CACvB,wBAAyB,wBAAyB,yBAClD,2BAA4B,2BAA4B,4BACxD,uBAAwB,uBAAwB,uBAClD,EAEiB,QAAQ,KAAY,CACnC,GAAiB,OAAO,KAAW,mBAA0B;AAAA,EAC7D,GAAgB,OAAO,KAAW,mBAA0B;AAAA,EAC7D,EAEJ,EAED,IAAM,EAAa;AAAA;AAAA,EAErB,EAAgB;AAAA,EAAY,KAAmB;AAAA;AAAA,EAE/C,EAAe;AAAA,EAAY,KAAkB;AAAA;AAAA;AAAA,aAGlC;AAAA;AAAA;AAAA,EAMT,OADA,OAAO,SAAS,YAAY,OAAO,wBAAyB,EAAY,SAAQ,EACzE,EAEX,EC3FO,IAAM,EAAe,CAC1B,cAAc,EAAG,CACf,KAAK,wBAAwB,EAAE,KAAK,IAAM,CACxC,KAAK,mBAAmB,EACzB,QAGG,wBAAuB,EAAG,CAC9B,OAAO,IAAI,QAAQ,CAAC,IAAY,CAC9B,sBAAsB,IAAM,CAC1B,sBAAsB,IAAM,CAC1B,WAAW,IAAM,CACf,EAAQ,GACP,EAAE,EACN,EACF,EACF,GAGH,kBAAkB,EAAG,CACnB,IAAM,EAAW,IAAI,iBAAiB,CAAC,IAAc,CACnD,IAAI,EAAc,GAkBlB,GAhBA,EAAU,QAAQ,KAAY,CAC5B,IAAM,EAAS,EAAS,OAExB,GAAI,EAAS,OAAS,cAAgB,EAAS,gBAAkB,SAC/D,GAAI,EAAO,UAAU,SAAS,QAAQ,EACpC,EAAc,GAIlB,GAAI,EAAS,OAAS,cAAgB,EAAS,gBAAkB,SAC/D,GAAI,IAAW,SAAS,gBACtB,EAAc,IAGnB,EAEG,EACF,KAAK,eAAe,EAEvB,EAaD,OAXA,SAAS,iBAAiB,SAAS,EAAE,QAAQ,KAAU,CACrD,EAAS,QAAQ,EAAQ,CACvB,WAAY,GACZ,gBAAiB,CAAC,OAAO,CAC3B,CAAC,EACF,EAED,EAAS,QAAQ,SAAS,gBAAiB,CACzC,WAAY,GACZ,gBAAiB,CAAC,OAAO,CAC3B,CAAC,EACM,GAGT,qBAAqB,CAAC,EAAI,EAAI,EAAI,EAAI,EAAI,EAAI,CAC5C,IAAM,EAAe,CAAC,EAAG,EAAG,IAAM,CAChC,IAAO,EAAI,EAAI,GAAM,CAAC,EAAG,EAAG,CAAC,EAAE,IAAI,KAAK,CAEtC,OADA,EAAI,EAAI,IACD,GAAK,QAAU,EAAI,MAAQ,KAAK,KAAK,EAAI,OAAS,MAAO,GAAG,EACpE,EACD,MAAO,QAAS,EAAK,OAAS,EAAK,OAAS,GAGxC,EAAO,EAAa,EAAI,EAAI,CAAE,EAC9B,EAAO,EAAa,EAAI,EAAI,CAAE,EAE9B,EAAY,KAAK,IAAI,EAAM,CAAI,EAC/B,EAAU,KAAK,IAAI,EAAM,CAAI,EAGnC,OAFuB,EAAY,OAAS,EAAU,OAKxD,iBAAiB,CAAC,EAAQ,EAAQ,CAChC,IAAM,EAAS,CAAC,IAAU,CACxB,GAAI,CAAC,GAAS,IAAU,cACtB,MAAU,MAAM,iBAAgB,EAGlC,IAAM,EAAY,EAAM,MAAM,uEAAuE,EACrG,GAAI,EACF,MAAO,CACL,KAAK,MAAM,WAAW,EAAU,EAAE,CAAC,EACnC,KAAK,MAAM,WAAW,EAAU,EAAE,CAAC,EACnC,KAAK,MAAM,WAAW,EAAU,EAAE,CAAC,CACrC,EAGF,GAAI,EAAM,WAAW,GAAG,EAAG,CACzB,IAAM,EAAM,EAAM,QAAQ,IAAK,EAAE,EACjC,GAAI,EAAI,QAAU,EAChB,MAAO,CACL,SAAS,EAAI,OAAO,EAAG,CAAC,EAAG,EAAE,EAC7B,SAAS,EAAI,OAAO,EAAG,CAAC,EAAG,EAAE,EAC7B,SAAS,EAAI,OAAO,EAAG,CAAC,EAAG,EAAE,CAC/B,EAIJ,MAAU,MAAM,aAAY,GAAO,IAG9B,EAAI,EAAI,GAAM,EAAO,CAAM,GAC3B,EAAI,EAAI,GAAM,EAAO,CAAM,EAElC,OAAO,KAAK,sBAAsB,EAAI,EAAI,EAAI,EAAI,EAAI,CAAE,GAG1D,kBAAkB,EAAG,CACA,SAAS,iBAAiB,SAAS,EAE3C,QAAQ,KAAU,CAC3B,IAAM,EAAa,EAAO,cAAc,qBAAqB,EACvD,EAAU,EAAO,cAAc,UAAU,EACzC,EAAQ,EAAO,cAAc,gBAAgB,EAEnD,GAAI,GAAc,GAAW,EAAO,CAClC,EAAW,aACX,EAAQ,aAER,IAAM,EAAkB,iBAAiB,CAAU,EAC7C,EAAe,iBAAiB,CAAO,EACvC,EAAkB,EAAgB,gBAClC,EAAY,EAAa,MAGzB,EADW,KAAK,kBAAkB,EAAW,CAAe,EACnC,QAAQ,CAAC,EAEpC,EAAY,EAAM,UAAU,MAAM,MAAM,EAAE,GAC9C,EAAM,UAAY,GAAG,QAAgB,KAExC,GAGH,kBAAkB,EAAG,CACnB,IAAM,EAAa,SAAS,iBAAiB,SAAS,EACtD,GAAI,EAAW,SAAW,EAAG,OAE7B,IAAI,EAAiB,EAErB,QAAW,KAAU,EAAY,CAC/B,IAAM,EAAa,EAAO,cAAc,aAAa,EACrD,GAAI,CAAC,EAAY,SAEjB,IAAM,EAAO,EAAO,sBAAsB,EACpC,EAAU,KAAK,IAAI,EAAK,MAAO,EAAK,MAAM,EAE1C,EAAgB,EAAU,OAAO,aAAa,UAAU,eACxD,EAAqB,EAAU,OAAO,aAAa,UAAU,qBAC7D,EAAqB,EAAU,OAAO,aAAa,UAAU,qBAC7D,EAAsB,EAAU,OAAO,aAAa,UAAU,sBAC9D,EAAyB,EAAU,OAAO,aAAa,UAAU,yBACjE,EAAyB,EAAU,OAAO,aAAa,UAAU,yBACjE,EAAmB,EAAU,OAAO,aAAa,UAAU,mBAE3D,EAAS,OAAO,aAAa,MAAM,WAAW,IAAI,CAAM,GAAK,CAAC,EAQpE,GAAI,GAND,EAAO,SAAW,KAAO,IAAY,EAAO,eAAiB,KAAO,IACpE,EAAO,oBAAsB,KAAO,IAAuB,EAAO,oBAAsB,KAAO,IAC/F,EAAO,qBAAuB,KAAO,IAAwB,EAAO,wBAA0B,KAAO,IACrG,EAAO,wBAA0B,KAAO,IAA2B,EAAO,kBAAoB,KAAO,GAGtF,SAElB,EAAO,MAAM,QAAU,GAAG,MAC1B,EAAO,MAAM,aAAe,GAAG,MAC/B,EAAO,MAAM,aAAe,GAAG,MAC/B,EAAO,MAAM,cAAgB,GAAG,MAEhC,EAAW,MAAM,aAAe,GAAG,MACnC,EAAW,MAAM,aAAe,GAAG,MAEnC,IAAM,EAAc,EAAO,cAAc,uBAAuB,EAChE,GAAI,EACF,EAAY,MAAM,MAAQ,GAAG,MAC7B,EAAY,MAAM,OAAS,GAAG,MAC9B,EAAY,MAAM,IAAM,GAAG,MAC3B,EAAY,MAAM,MAAQ,GAAG,MAG/B,OAAO,aAAa,MAAM,WAAW,IAAI,EAAQ,CAC/C,UAAS,gBAAe,qBAAoB,qBAAoB,sBAChE,yBAAwB,yBAAwB,kBAClD,CAAC,EAED,IAGF,KAAK,mBAAmB,QAGpB,mBAAkB,EAAG,CACzB,MAAM,KAAK,wBAAwB,EAEnC,IAAM,EAAa,SAAS,iBAAiB,SAAS,EAEtD,QAAW,KAAU,EAAY,CAC/B,IAAM,EAAa,EAAO,cAAc,aAAa,EACrD,GAAI,CAAC,EAAY,SAIjB,GAFuB,EAAO,UAAU,SAAS,QAAQ,EAErC,CAClB,IAAI,EAAkB,EAAW,cAAc,uBAAuB,EAEtE,GAAI,CAAC,EAAiB,CACpB,EAAkB,SAAS,cAAc,MAAM,EAC/C,EAAgB,UAAY,uBAE5B,IAAM,EAAS,EAAW,cAAc,6BAA6B,EACrE,GAAI,GAAU,EAAO,WACnB,EAAW,aAAa,EAAiB,CAAM,EAE/C,OAAW,aAAa,EAAiB,EAAW,UAAU,IAMtE,QAAW,KAAU,EAAY,CAC/B,IAAM,EAAiB,EAAO,UAAU,SAAS,QAAQ,EACnD,EAAqB,EAAO,UAAU,SAAS,SAAS,EAE9D,GAAI,EACF,EAAO,QAAQ,eAAiB,OAChC,EAAO,aAAa,eAAgB,EAAqB,OAAS,OAAO,IAK/E,sBAAsB,EAAG,CACvB,KAAK,eAAe,EAExB,EC1OO,IAAM,EAAe,CAC1B,UAAW,EAEX,MAAO,CACL,WAAY,IAAI,OAClB,EAEA,iBACA,oBAEM,KAAI,EAAG,CACX,QAAQ,IAAI,oCAAyB,EACrC,IAAM,EAAY,YAAY,IAAI,EAGlC,QAAQ,IAAI,2BAA0B,EACtC,IAAM,EAAW,YAAY,IAAI,EACjC,MAAM,OAAO,SAAS,UAAU,cAAc,EAC9C,QAAQ,IAAI,mBAAkB,YAAY,IAAI,EAAI,GAAU,QAAQ,CAAC,MAAM,EAG3E,QAAQ,IAAI,uBAAsB,EAClC,MAAM,KAAK,aAAa,mBAAmB,EAC3C,QAAQ,IAAI,iBAAgB,EAG5B,QAAQ,IAAI,sBAAqB,EACjC,KAAK,eAAe,YAAY,EAChC,QAAQ,IAAI,mBAAkB,EAG9B,QAAQ,IAAI,qBAAoB,EAChC,KAAK,aAAa,mBAAmB,EACrC,QAAQ,IAAI,kBAAiB,EAG7B,QAAQ,IAAI,0BAAyB,EACrC,KAAK,aAAa,mBAAmB,EACrC,QAAQ,IAAI,oBAAmB,EAE/B,IAAM,EAAU,YAAY,IAAI,EAChC,QAAQ,IAAI,0CAA+B,EAAU,GAAW,QAAQ,CAAC,MAAM,EAEnF,EC/CO,IAAM,EAAe,CAC1B,OAAQ,CAAE,MAAO,QAAS,KAAM,MAAO,EACvC,YAAa,aACb,gBAAiB,oBACjB,UAAW,CAAE,KAAM,KAAM,aAAc,KAAM,YAAa,KAAM,WAAY,IAAK,EACjF,aAAc,QACd,aAAc,GAEd,IAAI,EAAG,CACL,QAAQ,IAAI,oCAAyB,EACrC,KAAK,cAAc,EACnB,KAAK,aAAa,EAClB,QAAQ,IAAI,cAAc,KAAK,aAAc,WAAY,KAAK,YAAY,EAC1E,KAAK,oBAAoB,EACzB,KAAK,kBAAkB,EACvB,KAAK,iBAAiB,EACtB,QAAQ,IAAI,yBAAwB,GAGtC,aAAa,EAAG,CAKd,GAJA,KAAK,UAAU,KAAO,SAAS,gBAC/B,KAAK,UAAU,KAAK,UAAU,OAAO,OAAO,EAC5C,KAAK,UAAU,KAAK,UAAU,IAAI,IAAI,EACtC,KAAK,UAAU,aAAe,SAAS,cAAc,eAAe,EAChE,KAAK,UAAU,aACjB,KAAK,UAAU,YAAc,KAAK,UAAU,aAAa,cAAc,QAAQ,EAEjF,KAAK,UAAU,WAAa,SAAS,eAAe,iBAAiB,GAGvE,YAAY,EAAG,CACb,IAAM,EAAa,aAAa,QAAQ,KAAK,WAAW,EAClD,EAAkB,aAAa,QAAQ,KAAK,eAAe,EAEjE,GADA,KAAK,aAAe,IAAoB,OACpC,KAAK,aACP,KAAK,aAAe,IAAe,KAAK,OAAO,KAAO,KAAK,OAAO,KAAO,KAAK,OAAO,MAErF,UAAK,aAAe,KAAK,OAAO,OAIpC,iBAAiB,EAAG,CAClB,IAAM,EAAO,KAAK,UAAU,KAC5B,GAAI,KAAK,eAAiB,KAAK,OAAO,KACpC,EAAK,UAAU,IAAI,MAAM,EAEzB,OAAK,UAAU,OAAO,MAAM,EAE9B,GAAI,KAAK,aACP,EAAK,UAAU,IAAI,mBAAmB,EAEtC,OAAK,UAAU,OAAO,mBAAmB,GAI7C,YAAY,EAAG,CACb,aAAa,QAAQ,KAAK,YAAa,KAAK,YAAY,EACxD,aAAa,QAAQ,KAAK,gBAAiB,KAAK,aAAa,SAAS,CAAC,GAGzE,gBAAgB,EAAG,CACjB,IAAM,EAAe,KAAK,UAAU,aACpC,GAAI,EAAc,CAChB,IAAM,EAAc,KAAK,eAAiB,KAAK,OAAO,KACtD,EAAa,aAAa,eAAgB,EAAY,SAAS,CAAC,EAChE,IAAM,EAAQ,KAAK,UAAU,YAC7B,GAAI,EACF,EAAM,UAAY,EAAc,cAAe,eAKrD,MAAM,EAAG,CACP,KAAK,aAAe,KAAK,eAAiB,KAAK,OAAO,MAAQ,KAAK,OAAO,KAAO,KAAK,OAAO,MAC7F,KAAK,aAAe,GACpB,KAAK,kBAAkB,EACvB,KAAK,aAAa,EAClB,KAAK,iBAAiB,EACtB,KAAK,eAAe,GAGtB,cAAc,EAAG,CAEf,IAAM,EAAU,GADG,KAAK,eAAiB,KAAK,OAAO,KAAO,UAAW,uBAEnE,EAAa,KAAK,UAAU,WAChC,GAAI,CAAC,EACH,EAAa,SAAS,cAAc,KAAK,EACzC,EAAW,GAAK,kBAChB,EAAW,aAAa,YAAa,QAAQ,EAC7C,EAAW,aAAa,cAAe,MAAM,EAC7C,EAAW,MAAM,SAAW,WAC5B,EAAW,MAAM,KAAO,WACxB,EAAW,MAAM,MAAQ,MACzB,EAAW,MAAM,OAAS,MAC1B,EAAW,MAAM,SAAW,SAC5B,SAAS,KAAK,YAAY,CAAU,EACpC,KAAK,UAAU,WAAa,EAE9B,EAAW,YAAc,GAG3B,mBAAmB,EAAG,CACpB,IAAM,EAAe,SAAS,cAAc,eAAe,EAC3D,GAAI,EACF,EAAa,iBAAiB,QAAS,IAAM,KAAK,OAAO,CAAC,EAE5D,SAAS,iBAAiB,UAAW,CAAC,IAAM,CAC1C,GAAI,EAAE,SAAW,EAAE,QAAU,EAAE,IAAI,YAAY,IAAM,IACnD,EAAE,eAAe,EACjB,KAAK,OAAO,EAEf,EAEL,ECjHO,IAAM,EAAmB,CAC9B,MAAO,CAAE,QAAS,UAAW,MAAO,OAAQ,EAC5C,YAAa,aACb,UAAW,CAAE,KAAM,KAAM,aAAc,KAAM,YAAa,KAAM,WAAY,IAAK,EACjF,YAAa,UAEb,IAAI,EAAG,CACL,QAAQ,IAAI,wCAA6B,EACzC,KAAK,cAAc,EACnB,KAAK,aAAa,EAClB,QAAQ,IAAI,cAAc,KAAK,WAAW,EAC1C,KAAK,oBAAoB,EACzB,KAAK,kBAAkB,EACvB,KAAK,iBAAiB,EACtB,QAAQ,IAAI,6BAA4B,GAG1C,aAAa,EAAG,CAGd,GAFA,KAAK,UAAU,KAAO,SAAS,gBAC/B,KAAK,UAAU,aAAe,SAAS,cAAc,eAAe,EAChE,KAAK,UAAU,aACjB,KAAK,UAAU,YAAc,KAAK,UAAU,aAAa,cAAc,QAAQ,EAEjF,KAAK,UAAU,WAAa,SAAS,eAAe,iBAAiB,GAGvE,YAAY,EAAG,CACb,IAAM,EAAY,aAAa,QAAQ,KAAK,WAAW,EACvD,KAAK,YAAc,IAAc,KAAK,MAAM,MAAQ,KAAK,MAAM,MAAQ,KAAK,MAAM,SAGpF,iBAAiB,EAAG,CAClB,IAAM,EAAO,KAAK,UAAU,KAC5B,GAAI,KAAK,cAAgB,KAAK,MAAM,MAClC,EAAK,UAAU,IAAI,OAAO,EAE1B,OAAK,UAAU,OAAO,OAAO,GAIjC,YAAY,EAAG,CACb,aAAa,QAAQ,KAAK,YAAa,KAAK,WAAW,GAGzD,gBAAgB,EAAG,CACjB,IAAM,EAAe,KAAK,UAAU,aACpC,GAAI,EAAc,CAChB,IAAM,EAAc,KAAK,cAAgB,KAAK,MAAM,MACpD,EAAa,aAAa,eAAgB,EAAY,SAAS,CAAC,EAChE,IAAM,EAAQ,KAAK,UAAU,YAC7B,GAAI,EACF,EAAM,UAAY,EAAc,WAAY,cAKlD,MAAM,EAAG,CACP,KAAK,YAAc,KAAK,cAAgB,KAAK,MAAM,QAAU,KAAK,MAAM,MAAQ,KAAK,MAAM,QAC3F,KAAK,kBAAkB,EACvB,KAAK,aAAa,EAClB,KAAK,iBAAiB,EACtB,KAAK,eAAe,GAGtB,cAAc,EAAG,CAEf,IAAM,EAAU,GADE,KAAK,cAAgB,KAAK,MAAM,MAAQ,SAAU,uBAEhE,EAAa,KAAK,UAAU,WAChC,GAAI,CAAC,EACH,EAAa,SAAS,cAAc,KAAK,EACzC,EAAW,GAAK,kBAChB,EAAW,aAAa,YAAa,QAAQ,EAC7C,EAAW,aAAa,cAAe,MAAM,EAC7C,EAAW,MAAM,SAAW,WAC5B,EAAW,MAAM,KAAO,WACxB,EAAW,MAAM,MAAQ,MACzB,EAAW,MAAM,OAAS,MAC1B,EAAW,MAAM,SAAW,SAC5B,SAAS,KAAK,YAAY,CAAU,EACpC,KAAK,UAAU,WAAa,EAE9B,EAAW,YAAc,GAG3B,mBAAmB,EAAG,CACpB,IAAM,EAAe,SAAS,cAAc,eAAe,EAC3D,GAAI,EACF,EAAa,iBAAiB,QAAS,IAAM,KAAK,OAAO,CAAC,EAE5D,SAAS,iBAAiB,UAAW,CAAC,IAAM,CAC1C,GAAI,EAAE,SAAW,EAAE,QAAU,EAAE,IAAI,YAAY,IAAM,IACnD,EAAE,eAAe,EACjB,KAAK,OAAO,EAEf,EAEL,EChGO,IAAM,EAAqB,CAChC,cAAe,IACf,eAAgB,IAChB,UAAW,CAAE,YAAa,KAAM,aAAc,KAAM,WAAY,KAAM,YAAa,KAAM,YAAa,KAAM,WAAY,IAAK,EAC7H,aAAc,IACd,cAAe,IAEf,IAAI,EAAG,CACL,QAAQ,IAAI,0CAA+B,EAC3C,KAAK,cAAc,EACnB,KAAK,oBAAoB,EACzB,KAAK,cAAc,EACnB,QAAQ,IAAI,cAAc,GAAG,KAAK,gBAAgB,KAAK,iBAAiB,EACxE,QAAQ,IAAI,+BAA8B,GAG5C,aAAa,EAAG,CACd,KAAK,UAAU,YAAc,SAAS,cAAc,eAAe,EACnE,KAAK,UAAU,aAAe,SAAS,cAAc,gBAAgB,EACrE,KAAK,UAAU,WAAa,SAAS,cAAc,cAAc,EACjE,KAAK,UAAU,YAAc,SAAS,cAAc,eAAe,EACnE,KAAK,UAAU,YAAc,SAAS,cAAc,gBAAgB,EACpE,KAAK,UAAU,WAAa,SAAS,iBAAiB,SAAS,GAGjE,mBAAmB,EAAG,CACpB,GAAI,KAAK,UAAU,YACjB,KAAK,UAAU,YAAY,iBAAiB,QAAS,CAAC,IAAM,CAC1D,KAAK,aAAe,SAAS,EAAE,OAAO,KAAK,EAC3C,KAAK,kBAAkB,EACvB,KAAK,cAAc,EACpB,EAEH,GAAI,KAAK,UAAU,aACjB,KAAK,UAAU,aAAa,iBAAiB,QAAS,CAAC,IAAM,CAC3D,KAAK,cAAgB,SAAS,EAAE,OAAO,KAAK,EAC5C,KAAK,kBAAkB,EACvB,KAAK,cAAc,EACpB,EAEH,GAAI,KAAK,UAAU,YACjB,KAAK,UAAU,YAAY,iBAAiB,QAAS,IAAM,CACzD,KAAK,eAAe,EACrB,GAIL,iBAAiB,EAAG,CAKlB,GAJA,KAAK,UAAU,WAAW,QAAQ,KAAU,CAC1C,EAAO,MAAM,MAAQ,GAAG,KAAK,iBAC7B,EAAO,MAAM,OAAS,GAAG,KAAK,kBAC/B,EACG,OAAO,aAAiB,KAAe,aAAa,aACtD,sBAAsB,IAAM,CAC1B,aAAa,aAAa,mBAAmB,EAC9C,GAIL,aAAa,EAAG,CACd,GAAI,KAAK,UAAU,WACjB,KAAK,UAAU,WAAW,YAAc,GAAG,KAAK,iBAElD,GAAI,KAAK,UAAU,YACjB,KAAK,UAAU,YAAY,YAAc,GAAG,KAAK,mBAIrD,cAAc,EAAG,CAGf,GAFA,KAAK,aAAe,KAAK,cACzB,KAAK,cAAgB,KAAK,eACtB,KAAK,UAAU,YACjB,KAAK,UAAU,YAAY,MAAQ,KAAK,aAE1C,GAAI,KAAK,UAAU,aACjB,KAAK,UAAU,aAAa,MAAQ,KAAK,cAE3C,KAAK,kBAAkB,EACvB,KAAK,cAAc,EAEvB,EC/EE,IAAM,EAAuB,CAC3B,oBAAqB,SACrB,UAAW,CAAE,YAAa,CAAC,EAAG,WAAY,CAAC,EAAG,SAAU,KAAM,YAAa,IAAK,EAChF,eAAgB,CAAE,KAAM,QAAS,EAM/B,kBAAmB,IAEf,YAAW,EAAG,CAChB,OAAO,UAAU,oBAOnB,IAAI,EAAG,CACL,QAAQ,IAAI,iCAAgC,EAC5C,KAAK,0BAA0B,EAC/B,QAAQ,IAAI,sBAAqB,EACjC,KAAK,yBAAyB,EAC9B,QAAQ,IAAI,qBAAoB,EAChC,KAAK,mBAAmB,EACxB,QAAQ,IAAI,mBAAkB,EAC9B,KAAK,yBAAyB,EAC9B,QAAQ,IAAI,sBAAqB,EACjC,KAAK,eAAe,EACpB,QAAQ,IAAI,iBAAgB,GAO9B,yBAAyB,EAAG,CAC1B,IAAM,EAAiB,SAAS,eAAe,qBAAqB,EACpE,GAAI,CAAC,EAAgB,CACnB,QAAQ,KAAK,wDAAuD,EACpE,OAEF,QAAQ,IAAI,iCAAiC,CAAc,EAEtC,CACnB,CAAE,GAAI,wBAAyB,MAAO,UAAU,MAAO,yBAA0B,IAAK,YAAa,IAAK,EAAG,MAAO,GAAI,EACtH,CAAE,GAAI,wBAAyB,MAAO,UAAU,MAAO,uBAAwB,IAAK,YAAa,IAAK,GAAI,MAAO,GAAI,EACrH,CAAE,GAAI,yBAA0B,MAAO,WAAW,MAAO,uBAAwB,IAAK,YAAa,IAAK,GAAI,MAAO,GAAI,EACvH,CAAE,GAAI,2BAA4B,MAAO,SAAS,MAAO,wBAAyB,IAAK,YAAa,IAAK,GAAI,MAAO,GAAI,EACxH,CAAE,GAAI,2BAA4B,MAAO,SAAS,MAAO,yBAA0B,IAAK,YAAa,IAAK,GAAI,MAAO,GAAI,EACzH,CAAE,GAAI,4BAA6B,MAAO,UAAU,MAAO,cAAe,IAAK,YAAa,IAAK,EAAG,MAAO,CAAE,EAC7G,CAAE,GAAI,uBAAwB,MAAO,UAAU,MAAO,wBAAyB,IAAK,YAAa,IAAK,GAAI,MAAO,GAAI,EACrH,CAAE,GAAI,uBAAwB,MAAO,UAAU,MAAO,uBAAwB,IAAK,YAAa,IAAK,GAAI,MAAO,GAAI,EACpH,CAAE,GAAI,wBAAyB,MAAO,WAAW,MAAO,uBAAwB,IAAK,YAAa,IAAK,GAAI,MAAO,GAAI,CACxH,EAEa,QAAQ,KAAU,CAC7B,IAAM,EAAO;AAAA;AAAA,4BAEK,EAAO,OAAO,EAAO;AAAA,8DACa,EAAO;AAAA,gEACL,EAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wEAwCC,EAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4DAUnB,EAAO;AAAA;AAAA,YAGzD,EAAe,WAAa,EACnB,GAGb,wBAAwB,EAAG,CACzB,IAAM,EAAgB,SAAS,eAAe,oBAAoB,EAClE,GAAI,CAAC,EAAe,OAEA,CAClB,CAAE,GAAI,uBAAwB,MAAO,UAAU,MAAO,mBAAoB,IAAK,YAAa,IAAK,EAAG,MAAO,GAAI,EAC/G,CAAE,GAAI,uBAAwB,MAAO,UAAU,MAAO,yBAA0B,IAAK,YAAa,IAAK,GAAI,MAAO,GAAI,EACtH,CAAE,GAAI,wBAAyB,MAAO,WAAW,MAAO,uBAAwB,IAAK,YAAa,IAAK,GAAI,MAAO,GAAI,EACtH,CAAE,GAAI,0BAA2B,MAAO,SAAS,MAAO,uBAAwB,IAAK,YAAa,IAAK,GAAI,MAAO,GAAI,EACtH,CAAE,GAAI,0BAA2B,MAAO,SAAS,MAAO,qBAAsB,IAAK,YAAa,IAAK,GAAI,MAAO,GAAI,EACpH,CAAE,GAAI,2BAA4B,MAAO,UAAU,MAAO,cAAe,IAAK,YAAa,IAAK,EAAG,MAAO,CAAE,EAC5G,CAAE,GAAI,sBAAuB,MAAO,UAAU,MAAO,uBAAwB,IAAK,YAAa,IAAK,GAAI,MAAO,GAAI,EACnH,CAAE,GAAI,sBAAuB,MAAO,UAAU,MAAO,yBAA0B,IAAK,YAAa,IAAK,GAAI,MAAO,GAAI,EACrH,CAAE,GAAI,uBAAwB,MAAO,WAAW,MAAO,uBAAwB,IAAK,YAAa,IAAK,GAAI,MAAO,GAAI,CACvH,EAEY,QAAQ,KAAU,CAC5B,IAAM,EAAO;AAAA;AAAA,4BAEK,EAAO,OAAO,EAAO;AAAA,8DACa,EAAO;AAAA,gEACL,EAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wEAwCC,EAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4DAUnB,EAAO;AAAA;AAAA,YAGzD,EAAc,WAAa,EAClB,GAOb,kBAAkB,EAAG,CACnB,SAAS,iBAAiB,gBAAgB,EAAE,QAAQ,KAAW,CAC7D,EAAQ,iBAAiB,QAAS,CAAC,IAAM,CACvC,IAAM,EAAS,EAAE,OAAO,QAAQ,sBAAsB,EAChD,EAAQ,EAAO,cAAc,qBAAqB,EAQxD,GALA,SAAS,iBAAiB,qBAAqB,EAAE,QAAQ,KAAK,EAAE,UAAU,OAAO,QAAQ,CAAC,EAG1F,EAAM,UAAU,OAAO,QAAQ,EAE3B,EAAM,UAAU,SAAS,QAAQ,EAAG,CAEtC,KAAK,mBAAmB,CAAM,EAG9B,IAAM,EAAW,EAAO,cAAc,cAAc,YAAY,EAChE,GAAI,GAAY,EAAS,MAAO,CAC9B,IAAM,EAAW,EAAS,MAAM,QAAQ,IAAK,EAAE,EAAE,YAAY,EAG7D,GAAI,EAAS,SAAW,GAAK,gBAAgB,KAAK,CAAQ,EAAG,CAE3D,IAAM,EAAI,SAAS,EAAS,OAAO,EAAG,CAAC,EAAG,EAAE,EACtC,EAAI,SAAS,EAAS,OAAO,EAAG,CAAC,EAAG,EAAE,EACtC,EAAI,SAAS,EAAS,OAAO,EAAG,CAAC,EAAG,EAAE,KAOnD,EACF,EAGD,SAAS,iBAAiB,QAAS,CAAC,IAAM,CACxC,GAAI,CAAC,EAAE,OAAO,QAAQ,sBAAsB,EAC1C,SAAS,iBAAiB,qBAAqB,EAAE,QAAQ,KAAS,CAChE,EAAM,UAAU,OAAO,QAAQ,EAChC,EAEJ,GAGH,kBAAkB,CAAC,EAAQ,CACzB,IAAM,EAAW,EAAO,cAAc,kBAAkB,EACxD,GAAI,EAAU,CAEZ,IAAM,EAAM,EAAS,WAAW,IAAI,EACpC,EAAI,UAAU,EAAG,EAAG,EAAS,MAAO,EAAS,MAAM,EAGnD,UAAU,kBAAkB,EAAK,UAAU,kBAAkB,EAG7D,UAAU,uBACR,EACA,UAAU,mBACV,CAAC,IAAW,KAAK,0BAA0B,CAAM,CACnD,IAIJ,wBAAwB,EAAG,CAEzB,IAAM,EAAoB,CAAC,IAAW,CACpC,UAAU,uBACR,EACA,UAAU,mBACV,CAAC,IAAW,KAAK,0BAA0B,CAAM,CACnD,GAII,EAAkB,CAAC,EAAG,IAAW,CACrC,IAAM,EAAO,EAAO,sBAAsB,EACpC,EAAI,EAAE,QAAU,EAAK,KACrB,EAAI,EAAE,QAAU,EAAK,IACrB,EAAU,EAAK,MAAQ,EACvB,EAAU,EAAK,OAAS,EACxB,GAAU,KAAK,IAAI,EAAK,MAAO,EAAK,MAAM,EAAI,EAAI,IAAM,KAAK,YAAY,KAEzE,EAAK,EAAI,EACT,EAAK,EAAI,EACT,EAAW,KAAK,KAAK,EAAK,EAAK,EAAK,CAAE,EAE5C,GAAI,GAAY,EAAQ,CAEtB,IAAM,EAAU,EAAK,EACf,EAAU,EAAK,EACf,EAAU,KAAK,KAAK,KAAK,IAAI,EAAG,EAAI,EAAU,EAAU,EAAU,CAAO,CAAC,EAG1E,EAAgB,UAAU,aAAa,UAAU,mBAAmB,EAAG,CAAC,EAAS,EAAS,CAAO,CAAC,GACjG,EAAU,EAAU,GAAY,EAGjC,EAAM,KAAK,MAAM,EAAU,CAAQ,EACnC,EAAQ,KAAK,KAAK,KAAK,IAAI,GAAI,KAAK,IAAI,EAAG,CAAQ,CAAC,CAAC,EAGvD,GAAQ,EAAM,KAAK,KAAO,EAAI,KAAK,IAAO,IAC9C,GAAI,GAAO,IAAK,EAAM,EAEtB,IAAM,EAAe,EAAW,EAC1B,IAAmB,KAAK,GAAK,GAAS,KAAK,GAE7C,EAAQ,SAAS,eAAe,EAAO,CAAG,GACxC,IAAG,IAAG,KAAM,EAGlB,UAAU,mBAAmB,cAAgB,CAAE,IAAG,IAAG,IAAG,KAAI,EAE5D,IAAM,EAAS,EAAO,QAAQ,sBAAsB,EAC9C,GAAW,EAAO,QAAQ,OAC1B,EAAgB,EAAO,cAAc,kBAAkB,EAGzD,EAAQ,IACZ,GAAI,GAAiB,EAAc,MAAO,CACxC,IAAM,EAAa,EAAc,MAAM,QAAQ,IAAK,EAAE,EACtD,GAAI,EAAW,SAAW,EACxB,EAAQ,SAAS,EAAW,OAAO,EAAG,CAAC,EAAG,EAAE,EAIhD,IAAM,EAAM,CAAE,IAAG,IAAG,GAAE,EAChB,EAAW,eAAe,UAAU,EAAG,EAAG,EAAG,CAAK,EAExD,KAAK,kBAAkB,GAAU,EAAK,EAAO,CAAQ,EACvD,KAAK,wBAAwB,EAAK,EAAO,CAAQ,EAC/C,KAAK,wBAAwB,EAAK,EAAO,CAAQ,IAMrD,KAAK,gBAAkB,EAKvB,KAAK,0BAA4B,CAAC,IAAW,CAO3C,IAAM,EAAgB,UAAU,aAAa,UAAU,mBAAmB,EAAG,CAL7D,EACA,EACA,CAGuF,CAAC,GACjG,EAAU,EAAU,GAAY,EAGjC,EAAM,KAAK,MAAM,EAAU,CAAQ,EACnC,EAAQ,KAAK,KAAK,KAAK,IAAI,GAAI,KAAK,IAAI,EAAG,CAAQ,CAAC,CAAC,EAGrD,EAAQ,SAAS,eAAe,EAAO,CAAG,GACxC,IAAG,IAAG,KAAM,EAGpB,UAAU,mBAAmB,cAAgB,CAAE,IAAG,IAAG,GAAE,EAIvD,IAAM,EAAS,EAAO,QAAQ,sBAAsB,EACpD,GAAI,CAAC,EAAQ,OAEb,IAAM,EAAW,EAAO,QAAQ,OAC1B,EAAgB,EAAO,cAAc,kBAAkB,EAGzD,EAAQ,IACZ,GAAI,GAAiB,EAAc,MAAO,CACxC,IAAM,EAAa,EAAc,MAAM,QAAQ,IAAK,EAAE,EACtD,GAAI,EAAW,SAAW,EACxB,EAAQ,SAAS,EAAW,OAAO,EAAG,CAAC,EAAG,EAAE,EAIhD,IAAM,EAAM,CAAE,IAAG,IAAG,GAAE,EAChB,EAAW,eAAe,UAAU,EAAG,EAAG,EAAG,CAAK,EAGxD,sBAAsB,IAAM,CAC1B,KAAK,kBAAkB,EAAU,EAAK,EAAO,CAAQ,EACvD,KAAK,wBAAwB,EAAK,EAAO,CAAQ,EAC/C,KAAK,wBAAwB,EAAK,EAAO,CAAQ,EAClD,GAIH,IAAM,EAAsB,CAAC,EAAG,IAAW,CACzC,IAAM,EAAO,EAAO,sBAAsB,EACpC,EAAI,EAAE,QAAU,EAAK,KACrB,EAAI,EAAE,QAAU,EAAK,IACrB,EAAa,KAAK,IAAI,EAAG,KAAK,IAAI,IAAM,EAAI,EAAK,MAAS,GAAG,CAAC,EAC9D,EAAQ,KAAK,IAAI,EAAG,KAAK,IAAI,KAAM,EAAI,EAAI,EAAK,QAAU,GAAG,CAAC,EAE9D,EAAS,EAAO,QAAQ,sBAAsB,EAC9C,EAAY,EAAO,cAAc,aAAa,EAC9C,EAAc,EAAO,cAAc,eAAe,EAClD,EAAW,EAAO,QAAQ,OAE1B,EAAM,SAAS,GAAW,OAAS,CAAC,EACpC,EAAQ,SAAS,GAAa,OAAS,GAAG,EAC1C,EAAM,eAAe,SAAS,EAAK,EAAY,CAAK,EACpD,EAAW,eAAe,UAAU,EAAI,EAAG,EAAI,EAAG,EAAI,EAAG,CAAK,EAEpE,KAAK,kBAAkB,EAAU,EAAK,EAAO,CAAQ,EACrD,KAAK,wBAAwB,EAAK,EAAO,CAAQ,GAGnD,SAAS,iBAAiB,kBAAkB,EAAE,QAAQ,KAAU,CAC9D,EAAkB,CAAM,EAGxB,EAAO,iBAAiB,QAAS,CAAC,IAAM,CACtC,EAAE,eAAe,EACjB,EAAE,gBAAgB,EAElB,IAAM,EAAS,EAAO,QAAQ,sBAAsB,EAC9C,EAAgB,EAAO,cAAc,kBAAkB,EAE7D,GAAI,EAAe,CACjB,IAAM,EAAa,EAAc,MAAM,QAAQ,IAAK,EAAE,EAClD,EAAe,IAGnB,GAAI,CAAC,GAAc,EAAW,OAAS,EACrC,MAAU,MAAM,kBAAiB,EAInC,GAAI,EAAW,SAAW,EACxB,EAAe,SAAS,EAAW,OAAO,EAAG,CAAC,EAAG,EAAE,EAC9C,QAAI,EAAW,SAAW,EAC/B,EAAe,IAIjB,IAAM,EAAc,EAAE,OAAS,EAAI,GAAK,EAClC,EAAW,KAAK,IAAI,EAAG,KAAK,IAAI,IAAK,EAAe,CAAW,CAAC,EAGtE,GAAI,EAAW,QAAU,EAAG,CAC1B,IAAM,EAAM,EAAW,OAAO,EAAG,CAAC,EAC5B,EAAS,IAAM,EAAM,EAAS,SAAS,EAAE,EAAE,SAAS,EAAG,GAAG,EAAE,YAAY,EAExE,EAAW,EAAO,QAAQ,OAC1B,EAAI,SAAS,EAAI,OAAO,EAAG,CAAC,EAAG,EAAE,EACjC,EAAI,SAAS,EAAI,OAAO,EAAG,CAAC,EAAG,EAAE,EACjC,EAAI,SAAS,EAAI,OAAO,EAAG,CAAC,EAAG,EAAE,EAEvC,KAAK,kBAAkB,EAAU,CAAC,IAAG,IAAG,GAAC,EAAG,EAAU,CAAM,EAG5D,WAAW,IAAM,CACf,GAAI,OAAO,cAAgB,OAAO,aAAa,aAC7C,OAAO,aAAa,aAAa,eAAe,GAEjD,GAAG,IAGX,EACF,GAOH,cAAc,EAAG,CAEf,SAAS,iBAAiB,kBAAkB,EAAE,QAAQ,KAAY,CAChE,EAAS,iBAAiB,QAAS,CAAC,IAAM,CACxC,IAAM,EAAW,EAAE,OAAO,MAAM,QAAQ,IAAK,EAAE,EAAE,YAAY,EAG7D,GAAI,EAAS,SAAW,GAAK,gBAAgB,KAAK,CAAQ,EAAG,CAE3D,IAAM,EAAI,SAAS,EAAS,OAAO,EAAG,CAAC,EAAG,EAAE,EACtC,EAAI,SAAS,EAAS,OAAO,EAAG,CAAC,EAAG,EAAE,EACtC,EAAI,SAAS,EAAS,OAAO,EAAG,CAAC,EAAG,EAAE,EACtC,EAAI,SAAS,EAAS,OAAO,EAAG,CAAC,EAAG,EAAE,EAEtC,EAAS,EAAE,OAAO,QAAQ,sBAAsB,EAChD,EAAW,EAAO,QAAQ,OAC1B,EAAU,IAAM,EAKhB,EAAW,EAAO,cAAc,kBAAkB,EACxD,GAAI,EAAU,CACZ,IAAM,EAAQ,EAAS,WAAW,IAAI,EACtC,UAAU,kBAAkB,EAAO,EAAS,SAAS,EAIvD,KAAK,kBAAkB,EAAU,CAAC,IAAG,IAAG,GAAC,EAAG,EAAG,CAAO,EAGtD,KAAK,wBAAwB,CAAC,IAAG,IAAG,GAAC,EAAG,EAAG,CAAO,GAGrD,EACF,GAOH,uBAAuB,CAAC,EAAK,EAAO,EAAU,CAE5C,SAAS,iBAAiB,2CAA2C,EAAE,QAAQ,KAAW,CACxF,EAAQ,MAAM,WAAa,EAC5B,EAGD,IAAM,EAAe,SAAS,eAAe,wBAAwB,EACrE,GAAI,EACF,EAAa,MAAM,WAAa,EAIlC,SAAS,iBAAiB,yCAAyC,EAAE,QAAQ,KAAO,CAClF,EAAI,YAAc,EACnB,EACD,SAAS,iBAAiB,yCAAyC,EAAE,QAAQ,KAAS,CACpF,EAAM,YAAc,OAAO,EAAI,MAAM,EAAI,MAAM,EAAI,KACpD,EACD,SAAS,iBAAiB,yCAAyC,EAAE,QAAQ,KAAS,CACpF,IAAM,EAAW,eAAe,SAAS,EAAI,EAAG,EAAI,EAAG,EAAI,CAAC,EAC5D,EAAM,YAAc,OAAO,KAAK,MAAM,EAAS,CAAC,MAAM,KAAK,MAAM,EAAS,CAAC,OAAO,KAAK,MAAM,EAAS,CAAC,MACxG,EAGD,IAAM,EAAW,SAAS,eAAe,oBAAoB,EACvD,EAAW,SAAS,eAAe,oBAAoB,EACvD,EAAW,SAAS,eAAe,oBAAoB,EAE7D,GAAI,EAAU,EAAS,YAAc,EACrC,GAAI,EAAU,EAAS,YAAc,OAAO,EAAI,MAAM,EAAI,MAAM,EAAI,KACpE,GAAI,EAAU,CACZ,IAAM,EAAM,eAAe,SAAS,EAAI,EAAG,EAAI,EAAG,EAAI,CAAC,EACvD,EAAS,YAAc,OAAO,KAAK,MAAM,EAAI,CAAC,MAAM,KAAK,MAAM,EAAI,CAAC,OAAO,KAAK,MAAM,EAAI,CAAC,QAI/F,iBAAiB,CAAC,EAAU,EAAK,EAAO,EAAU,CAChD,IAAM,EAAS,SAAS,cAAc,iBAAiB,KAAY,EAC7D,EAAW,GAAQ,eAAe,cAAc,YAAY,EAC5D,EAAgB,GAAQ,cAAc,kBAAkB,EACxD,EAAU,GAAQ,cAAc,gBAAgB,EAGtD,GAAI,EAAU,EAAS,MAAQ,EAG/B,GAAI,EAAe,EAAc,MAAQ,EAKzC,GAAI,EAAS,EAAQ,MAAM,WAAa,EAMxC,GAHA,KAAK,kBAAkB,EAAU,CAAQ,EAGrC,OAAO,EAAyB,IAClC,EAAqB,wBAAwB,GAIjD,iBAAiB,CAAC,EAAS,EAAU,CACnC,IAAM,EAAO,SAAS,gBA0BhB,EAvBc,CAElB,wBAAyB,iCACzB,wBAAyB,iCACzB,yBAA0B,kCAC1B,2BAA4B,oCAC5B,2BAA4B,oCAC5B,4BAA6B,qCAC7B,uBAAwB,gCACxB,uBAAwB,gCACxB,wBAAyB,iCAEzB,uBAAwB,iCACxB,uBAAwB,iCACxB,wBAAyB,kCACzB,0BAA2B,oCAC3B,0BAA2B,oCAC3B,2BAA4B,qCAC5B,sBAAuB,gCACvB,sBAAuB,gCACvB,uBAAwB,gCAC1B,EAEgC,GAChC,GAAI,EAAa,CACf,GAAI,EAAQ,WAAW,QAAQ,EAE7B,EAAK,MAAM,YAAY,EAAa,CAAQ,EACvC,QAAI,EAAQ,WAAW,OAAO,EAEnC,SAAS,YAAY,OAAO,uBAAwB,WAAW,MAAgB,OAAe,aAAY,EAI5G,WAAW,IAAM,CACf,GAAI,OAAO,cAAgB,OAAO,aAAa,aAC7C,OAAO,aAAa,aAAa,eAAe,GAEjD,GAAG,GAGZ,EAEA,IAAI,EAAG,CACL,QAAQ,IAAI,4CAAiC,EAC7C,KAAK,cAAc,EAGnB,QAAQ,IAAI,iCAAgC,EAC5C,KAAK,kBAAkB,KAAK,EAC5B,QAAQ,IAAI,8BAA6B,EAGzC,WAAW,IAAM,CACf,KAAK,uBAAuB,EAC5B,KAAK,oBAAoB,EACzB,KAAK,wBAAwB,GAC5B,GAAG,GAGR,aAAa,EAAG,CAEd,KAAK,UAAU,SAAW,SAAS,cAAc,oBAAoB,EACrE,KAAK,UAAU,YAAc,SAAS,iBAAiB,gBAAgB,EAGvE,KAAK,UAAU,YAAc,CAAC,EAC9B,KAAK,UAAU,WAAa,CAAC,GAI/B,sBAAsB,EAAG,CACvB,KAAK,UAAU,YAAc,CAC3B,eAAgB,SAAS,cAAc,uCAAuC,GAAG,eAAe,cAAc,YAAY,EAC1H,eAAgB,SAAS,cAAc,uCAAuC,GAAG,eAAe,cAAc,YAAY,EAC1H,gBAAiB,SAAS,cAAc,wCAAwC,GAAG,eAAe,cAAc,YAAY,EAC5H,kBAAmB,SAAS,cAAc,0CAA0C,GAAG,eAAe,cAAc,YAAY,EAChI,kBAAmB,SAAS,cAAc,0CAA0C,GAAG,eAAe,cAAc,YAAY,EAChI,mBAAoB,SAAS,cAAc,2CAA2C,GAAG,eAAe,cAAc,YAAY,EAClI,cAAe,SAAS,cAAc,sCAAsC,GAAG,eAAe,cAAc,YAAY,EACxH,cAAe,SAAS,cAAc,sCAAsC,GAAG,eAAe,cAAc,YAAY,EACxH,eAAgB,SAAS,cAAc,uCAAuC,GAAG,eAAe,cAAc,YAAY,CAC5H,EACA,KAAK,UAAU,WAAa,CAC1B,eAAgB,SAAS,cAAc,sCAAsC,GAAG,eAAe,cAAc,YAAY,EACzH,eAAgB,SAAS,cAAc,sCAAsC,GAAG,eAAe,cAAc,YAAY,EACzH,gBAAiB,SAAS,cAAc,uCAAuC,GAAG,eAAe,cAAc,YAAY,EAC3H,kBAAmB,SAAS,cAAc,yCAAyC,GAAG,eAAe,cAAc,YAAY,EAC/H,kBAAmB,SAAS,cAAc,yCAAyC,GAAG,eAAe,cAAc,YAAY,EAC/H,mBAAoB,SAAS,cAAc,0CAA0C,GAAG,eAAe,cAAc,YAAY,EACjI,cAAe,SAAS,cAAc,qCAAqC,GAAG,eAAe,cAAc,YAAY,EACvH,cAAe,SAAS,cAAc,qCAAqC,GAAG,eAAe,cAAc,YAAY,EACvH,eAAgB,SAAS,cAAc,sCAAsC,GAAG,eAAe,cAAc,YAAY,CAC3H,GAGF,mBAAmB,EAAG,CAsCpB,GArCA,OAAO,QAAQ,KAAK,UAAU,WAAW,EAAE,QAAQ,EAAE,EAAK,KAAW,CACnE,GAAI,EACF,EAAM,iBAAiB,QAAS,IAAM,CACpC,KAAK,wBAAwB,EAC9B,EAEJ,EACD,OAAO,QAAQ,KAAK,UAAU,UAAU,EAAE,QAAQ,EAAE,EAAK,KAAW,CAClE,GAAI,EACF,EAAM,iBAAiB,QAAS,IAAM,CACpC,KAAK,wBAAwB,EAC9B,EAEJ,EACD,SAAS,iBAAiB,YAAY,EAAE,QAAQ,KAAY,CAC1D,EAAS,iBAAiB,QAAS,CAAC,IAAM,CACxC,IAAM,EAAa,EAAE,OAAO,uBAC5B,GAAI,GAAc,EAAW,OAAS,QAAS,CAC7C,IAAM,EAAW,EAAE,OAAO,MAAM,QAAQ,IAAK,EAAE,EAAE,UAAU,EAAG,CAAC,EAC/D,GAAI,EAAS,SAAW,EACtB,EAAW,MAAQ,IAAM,EACzB,KAAK,cAAc,EACnB,KAAK,wBAAwB,GAGlC,EACF,EACD,SAAS,iBAAiB,qBAAqB,EAAE,QAAQ,KAAc,CACrE,EAAW,iBAAiB,QAAS,CAAC,IAAM,CAC1C,IAAM,EAAW,EAAE,OAAO,mBAC1B,GAAI,GAAY,EAAS,UAAU,SAAS,WAAW,EAAG,CACxD,IAAM,EAAQ,EAAE,OAAO,GAAG,SAAS,UAAU,GAAK,EAAE,OAAO,GAAG,SAAS,YAAY,EAAI,KAAO,KAC9F,EAAS,MAAQ,EAAE,OAAO,MAAQ,EAClC,KAAK,wBAAwB,GAEhC,EACF,EACG,KAAK,UAAU,SACjB,KAAK,UAAU,SAAS,iBAAiB,QAAS,IAAM,CACtD,KAAK,gBAAgB,EACtB,GAKL,uBAAuB,EAAG,CACxB,IAAM,EAAO,SAAS,gBAetB,OAAO,QAZe,CACpB,eAAkB,iCAClB,eAAkB,iCAClB,gBAAmB,kCACnB,kBAAqB,oCACrB,kBAAqB,oCACrB,mBAAsB,qCACtB,cAAiB,gCACjB,cAAiB,gCACjB,eAAkB,gCACpB,CAE4B,EAAE,QAAQ,EAAE,EAAU,KAAY,CAC5D,IAAM,EAAQ,KAAK,UAAU,YAAY,GACzC,GAAI,GAAO,oBAAoB,MAC7B,EAAK,MAAM,YAAY,EAAQ,EAAM,mBAAmB,KAAK,EAEhE,EAGD,IAAM,EAAe,CACnB,eAAkB,iCAClB,eAAkB,iCAClB,gBAAmB,kCACnB,kBAAqB,oCACrB,kBAAqB,oCACrB,mBAAsB,qCACtB,cAAiB,gCACjB,cAAiB,gCACjB,eAAkB,gCACpB,EAEI,EAAU,GAQd,GAPA,OAAO,QAAQ,CAAY,EAAE,QAAQ,EAAE,EAAU,KAAY,CAC3D,IAAM,EAAQ,KAAK,UAAU,WAAW,GACxC,GAAI,GAAO,oBAAoB,MAC7B,GAAW,KAAK,MAAW,EAAM,mBAAmB;AAAA,EAEvD,EAEG,EACF,SAAS,YAAY,OAAO,oBAAqB;AAAA,EAAY,KAAY,gBAAe,EAG1F,KAAK,mBAAmB,EAGxB,WAAW,IAAM,CACf,GAAI,OAAO,cAAgB,OAAO,aAAa,aAC7C,OAAO,aAAa,aAAa,eAAe,GAEjD,GAAG,GAGR,kBAAkB,EAAG,CACnB,IAAM,EAAc,KAAK,oBACzB,KAAK,UAAU,YAAY,QAAQ,KAAU,CAC3C,IAAM,EAAY,MAAM,KAAK,EAAO,SAAS,EACvC,EAAkB,CAAC,SAAU,UAAW,SAAU,SAAS,EAC3D,EAAa,EAAU,KAAK,KAAO,CAAC,EAAgB,SAAS,CAAG,CAAC,EACvE,GAAI,GAAc,IAAe,EAC/B,EAAO,UAAU,OAAO,CAAU,EAEpC,GAAI,CAAC,EAAO,UAAU,SAAS,CAAW,EACxC,EAAO,UAAU,IAAI,CAAW,EAEnC,GAGH,eAAe,EAAG,CAEhB,KAAK,uBAAuB,EAG5B,IAAM,EAAc,SAAS,gBAAgB,UAAU,SAAS,MAAM,EA6BhE,EAAkB,EAbH,CACnB,eAAgB,CAAC,mBAAoB,WAAW,EAChD,eAAgB,CAAC,yBAA0B,WAAW,EACtD,gBAAiB,CAAC,uBAAwB,WAAW,EACrD,kBAAmB,CAAC,uBAAwB,WAAW,EACvD,kBAAmB,CAAC,qBAAsB,WAAW,EACrD,mBAAoB,CAAC,cAAe,aAAa,EACjD,cAAe,CAAC,uBAAwB,WAAW,EACnD,cAAe,CAAC,yBAA0B,WAAW,EACrD,eAAgB,CAAC,uBAAwB,WAAW,CACtD,EAvBsB,CACpB,eAAgB,CAAC,yBAA0B,WAAW,EACtD,eAAgB,CAAC,uBAAwB,WAAW,EACpD,gBAAiB,CAAC,uBAAwB,WAAW,EACrD,kBAAmB,CAAC,wBAAyB,WAAW,EACxD,kBAAmB,CAAC,yBAA0B,WAAW,EACzD,mBAAoB,CAAC,cAAe,aAAa,EACjD,cAAe,CAAC,wBAAyB,WAAW,EACpD,cAAe,CAAC,uBAAwB,WAAW,EACnD,eAAgB,CAAC,uBAAwB,WAAW,CACtD,EAiBM,EAAa,EAAc,KAAK,UAAU,WAAa,KAAK,UAAU,YACtE,EAAc,EAAc,OAAS,QAgC3C,GA9BA,OAAO,QAAQ,CAAe,EAAE,QAAQ,EAAE,GAAM,EAAY,MAAe,CACzE,IAAM,EAAQ,EAAW,GACzB,GAAI,EAAO,CACT,EAAM,MAAQ,EAGd,IAAM,EAAW,GAAG,KAAe,EAAI,QAAQ,WAAY,KAAK,EAAE,YAAY,IACxE,EAAS,SAAS,cAAc,iBAAiB,KAAY,EACnE,GAAI,EAAQ,CACV,IAAM,EAAe,EAAO,cAAc,gBAAgB,EACpD,EAAgB,EAAO,cAAc,kBAAkB,EAC7D,GAAI,EAAc,EAAa,MAAM,WAAa,EAClD,GAAI,EAAe,EAAc,MAAQ,EAI3C,KAAK,kBAAkB,kBAAkB,EAAU,CAAQ,EAG3D,EAAM,cAAc,IAAI,MAAM,QAAS,CAAE,QAAS,EAAK,CAAC,CAAC,GAE5D,EAGD,KAAK,yBAAyB,EAG9B,KAAK,wBAAwB,EAGzB,OAAO,aAAiB,KAAe,aAAa,aACtD,aAAa,aAAa,eAAe,EAI3C,sBAAsB,IAAM,CACJ,SAAS,iBAAiB,gBAAgB,EAClD,QAAQ,KAAU,CAE9B,EAAO,aACP,IAAM,EAAa,EAAO,cAAc,qBAAqB,EAC7D,GAAI,EACF,EAAW,aAEd,EACF,GAIH,wBAAwB,EAAG,CAEzB,SAAS,iBAAiB,kBAAkB,EAAE,QAAQ,CAAC,EAAQ,IAAU,CACvE,IAAM,EAAS,EAAO,QAAQ,sBAAsB,EACpD,GAAI,CAAC,EAAQ,OAEb,IAAM,EAAW,EAAO,QAAQ,OAC1B,EAAgB,EAAO,cAAc,kBAAkB,EAE7D,GAAI,GAAiB,EAAc,MAAO,CACxC,IAAM,EAAW,EAAc,MAAM,QAAQ,IAAK,EAAE,EAAE,YAAY,EAGlE,GAAI,EAAS,SAAW,GAAK,gBAAgB,KAAK,CAAQ,EAAG,CAE3D,IAAM,EAAI,SAAS,EAAS,OAAO,EAAG,CAAC,EAAG,EAAE,EACtC,EAAI,SAAS,EAAS,OAAO,EAAG,CAAC,EAAG,EAAE,EACtC,EAAI,SAAS,EAAS,OAAO,EAAG,CAAC,EAAG,EAAE,EAGtC,EAAW,UAAU,kBAAkB,IAAM,EAAS,OAAO,EAAG,CAAC,CAAC,EACxE,GAAI,EAAU,CAEZ,IAAM,EAAe,UAAU,qBAAqB,EAAG,EAAS,MAAO,EAAS,GAAG,EAC7E,EAAgB,CAAC,EAAG,EAAG,CAAC,EAGxB,EAAO,CACX,EAAc,GAAK,EAAa,GAAK,EAAc,GAAK,EAAa,GACrE,EAAc,GAAK,EAAa,GAAK,EAAc,GAAK,EAAa,GACrE,EAAc,GAAK,EAAa,GAAK,EAAc,GAAK,EAAa,EACvE,EAEM,EAAM,EAAc,GAAK,EAAa,GAAK,EAAc,GAAK,EAAa,GAAK,EAAc,GAAK,EAAa,GAChH,EAAQ,KAAK,KAAK,KAAK,IAAI,GAAI,KAAK,IAAI,EAAG,CAAG,CAAC,CAAC,EAE9C,EAAiB,UAAU,UAAU,CAAI,EACzC,EAAU,UAAU,cAAc,EAAgB,CAAK,EAG7D,WAAW,IAAM,CACf,UAAU,oBACV,UAAU,mBACR,EACA,CACF,GACC,EAAQ,GAAG,KAIvB,EAGD,UAAU,mBAAmB,EAAI,CAAC,EAAG,EAAG,EAAG,CAAC,EAC5C,UAAU,mBAAmB,cAAgB,SAAS,kBAAkB,aAAa,WAEzF,EC/6BF,QAAQ,IAAI,sCAA2B,EACvC,IAAM,GAAkB,YAAY,IAAI,EAmBlC,GAAgB,YAAY,IAAI,EACtC,QAAQ,IAAI,kCAAiC,GAAgB,IAAiB,QAAQ,CAAC,MAAM,EAG7F,QAAQ,IAAI,iDAAsC,EAClD,OAAO,eAAiB,EACxB,OAAO,SAAW,EAClB,OAAO,UAAY,EACnB,OAAO,SAAW,CAAE,YAAW,aAAY,EAC3C,OAAO,aAAe,EACtB,OAAO,aAAe,EACtB,OAAO,iBAAmB,EAC1B,OAAO,mBAAqB,EAC5B,OAAO,qBAAuB,EAC9B,OAAO,cAAgB,EACvB,OAAO,iBAAmB,EAE1B,QAAQ,IAAI,2BAA0B,EAGtC,QAAQ,IAAI,4CAAiC,EAE7C,IAAM,GAAa,SAAY,CAI7B,OAAO,IAAI,QAAQ,CAAC,EAAS,IAAW,CACtC,IAAM,EAAe,SAAS,cAAc,QAAQ,EAEpD,EAAa,IANC,6DAOd,QAAQ,IAAI,uCAPE,4DAOkC,EAEhD,EAAa,OAAS,IAAM,CAC1B,QAAQ,IAAI,oCAAmC,EAC/C,EAAQ,KAAK,GAGf,EAAa,QAAU,IAAM,CAC3B,QAAQ,KAAK,sCAAqC,EAElD,IAAM,EAAiB,SAAS,cAAc,QAAQ,EACtD,EAAe,IAjBD,0BAkBd,QAAQ,IAAI,yCAlBE,yBAkBsC,EAEpD,EAAe,OAAS,IAAM,CAC5B,QAAQ,IAAI,sCAAqC,EACjD,EAAQ,OAAO,GAGjB,EAAe,QAAU,IAAM,CAC7B,QAAQ,MAAM,2BAA0B,EACxC,EAAW,MAAM,kCAAiC,CAAC,GAGrD,SAAS,KAAK,YAAY,CAAc,GAG1C,SAAS,KAAK,YAAY,CAAY,EACvC,GAGH,GAAW,EAAE,KAAK,MAAO,IAAW,CAClC,IAAM,EAAiB,YAAY,IAAI,EACvC,QAAQ,IAAI,iCAAgC,EAAO,YAAY,OAAO,EAAe,QAAQ,CAAC,MAAM,EACpG,QAAQ,IAAI,qCAA2B,OAAO,QAAQ,SAAW,SAAS,EAE1E,QAAQ,IAAI,yCAA8B,EAC1C,IAAM,EAAe,YAAY,IAAI,EACrC,GAAI,CACF,8CACA,IAAM,EAAa,YAAY,IAAI,EACnC,QAAQ,IAAI,+BAA8B,EAAa,GAAc,QAAQ,CAAC,MAAM,EACpF,QAAQ,IAAI,sCAA2B,EACvC,MAAO,EAAO,CAEd,MADA,QAAQ,MAAM,6BAA6B,CAAK,EAC1C,GAET,EAAE,MAAM,KAAS,CAChB,QAAQ,MAAM,gCAAgC,CAAK,EACnD,MAAM,8BAA6B,EACpC",
  "debugId": "20D28334F4C07AD964756E2164756E21",
  "names": []
}