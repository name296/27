/* ==============================
   현대 CSS 계층 구조 정의
   ============================== */
@layer reset, tokens, components, states, utilities;

/* ==============================
   CSS Reset - 브라우저 기본 스타일 제거
   ============================== */
@layer reset {
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

*::before,
*::after {
  box-sizing: border-box;
}

html {
  /* 반응형 기준 폰트 사이즈 설정 */
  font-size: clamp(14px, 2.5vw, 18px); /* 모바일 14px ~ 데스크톱 18px */
  line-height: 1.15; /* iOS에서 줄 높이 정규화 */
  -webkit-text-size-adjust: 100%; /* iOS Safari에서 텍스트 크기 조정 방지 */
  
  /* 접근성: 사용자가 브라우저에서 폰트 크기를 조정한 경우 반영 */
  @media (prefers-reduced-motion: no-preference) {
    scroll-behavior: smooth;
  }
}

button {
  all: unset;
}

} /* @layer reset 끝 */

/* ==============================
   디자인 토큰 (CSS 변수)
   ============================== */
@layer tokens {

:root {
  /* ==============================
     rem 기반 디자인 시스템
     ============================== */
  /* 기준값 정의 (1rem = 16px) */
  --base-unit: 1rem; /* 16px */
  --scale-factor: 0.25; /* 4px 단위 */
  
  /* 스케일링 단위들 */
  --unit-xs: calc(var(--base-unit) * 0.25); /* 4px = 0.25rem */
  --unit-sm: calc(var(--base-unit) * 0.5);  /* 8px = 0.5rem */
  --unit-md: var(--base-unit);              /* 16px = 1rem */
  --unit-lg: calc(var(--base-unit) * 1.5);  /* 24px = 1.5rem */
  --unit-xl: calc(var(--base-unit) * 2);    /* 32px = 2rem */
  --unit-2xl: calc(var(--base-unit) * 3);   /* 48px = 3rem */
  --unit-3xl: calc(var(--base-unit) * 4);   /* 64px = 4rem */
  
  /* ==============================
     기본 치수 (rem 기반)
     ============================== */
  --button-width: 16rem;  /* 256px → 16rem */
  --button-height: 16rem; /* 256px → 16rem */

  /* ==============================
   테마 기반 색상 시스템 🎨
   ============================== */
  
  /* ☀️ Light 테마 색상 */
  --color-light-50: #EEDCD2;     /* 가장 밝음 */
  --color-light-100: #EB9B63;    
  --color-light-200: #C4895F;    
  --color-light-300: #A4693F;    /* 메인 색상 */
  --color-light-400: #8C532C;    
  --color-light-500: #4C3F37;    /* 가장 어두움 */
  
  /* 🌙 Dark 테마 색상 (고대비) */
  --color-dark-50: #FFEF80;      /* 가장 밝음 */
  --color-dark-100: #FFE100;     /* 메인 색상 */
  --color-dark-200: #807000;     
  --color-dark-300: #241F00;     /* 가장 어두움 */
  
  /* ⚪ Neutral 색상 (테마 독립적 그레이스케일) */
  --color-neutral-0: #FFFFFF;    /* 순백 */
  --color-neutral-50: #FAFAFA;   
  --color-neutral-100: #F2F2F2;  
  --color-neutral-200: #E8E8E8;  
  --color-neutral-300: #DBDBDB;  
  --color-neutral-400: #BFBFBF;  
  --color-neutral-500: #8C8C8C;  
  --color-neutral-600: #757575;  /* 중간 그레이 */
  --color-neutral-700: #737373;  
  --color-neutral-800: #606060;  
  --color-neutral-850: #4C4C4C;  
  --color-neutral-900: #252525;  
  --color-neutral-950: #1F1F1F;  
  --color-neutral-1000: #000000; /* 순흑 */
  
  /* 🎯 Static 색상 (테마에 독립적) */
  --color-static-focus: #FF00E1;     /* 포커스 핑크 */
  --color-static-hover: #FF00E1;     /* 호버 핑크 */
  --color-static-error: #CC1D00;     /* 에러 빨강 */
  --color-static-warning: #FF4800;   /* 경고 오렌지 */
  --color-static-success: #00A86B;   /* 성공 녹색 */
  
  /* ==============================
   테마별 의미적 토큰 🎯
   ============================== */
   
  /* ☀️ Light 테마 토큰 */
  --theme-light-bg-primary: var(--color-light-300);      /* 메인 배경 */
  --theme-light-bg-hover: var(--color-light-50);         /* 호버 배경 */
  --theme-light-bg-active: var(--color-light-50);        /* 활성 배경 */
  --theme-light-bg-surface: var(--color-neutral-0);      /* 표면 배경 */
  --theme-light-bg-body: var(--color-neutral-1000);      /* 바디 배경 */
  
  --theme-light-text-primary: var(--color-neutral-0);    /* 주요 텍스트 */
  --theme-light-text-secondary: var(--color-neutral-400);/* 보조 텍스트 */
  --theme-light-text-on-primary: var(--color-neutral-0); /* 프라이머리 위 텍스트 */
  --theme-light-text-on-surface: var(--color-neutral-1000); /* 표면 위 텍스트 */
  
  --theme-light-border-primary: var(--color-light-300);  /* 메인 테두리 */
  --theme-light-border-subtle: var(--color-neutral-400); /* 서브틀 테두리 */
  
  /* 🌙 Dark 테마 토큰 (고대비) */
  --theme-dark-bg-primary: var(--color-dark-300);        /* 메인 배경 */
  --theme-dark-bg-hover: var(--color-dark-100);          /* 호버 배경 */
  --theme-dark-bg-active: var(--color-dark-100);         /* 활성 배경 */
  --theme-dark-bg-surface: var(--color-neutral-1000);    /* 표면 배경 */
  --theme-dark-bg-body: var(--color-neutral-1000);       /* 바디 배경 */
  
  --theme-dark-text-primary: var(--color-dark-100);      /* 주요 텍스트 */
  --theme-dark-text-secondary: var(--color-neutral-500); /* 보조 텍스트 */
  --theme-dark-text-on-primary: var(--color-dark-100);   /* 프라이머리 위 텍스트 */
  --theme-dark-text-on-surface: var(--color-dark-100);   /* 표면 위 텍스트 */
  
  --theme-dark-border-primary: var(--color-dark-100);    /* 메인 테두리 */
  --theme-dark-border-subtle: var(--color-neutral-600);  /* 서브틀 테두리 */
  
  /* 🎯 Static 토큰 (테마 독립적) */
  --static-focus: var(--color-static-focus);             /* 포커스 */
  --static-hover: var(--color-static-hover);             /* 호버 */
  --static-error: var(--color-static-error);             /* 에러 */
  --static-warning: var(--color-static-warning);         /* 경고 */
  --static-success: var(--color-static-success);         /* 성공 */
  
  /* ==============================
   현재 활성 테마 토큰 🎨
   ============================== */
  /* 기본값은 Light 테마 */
  --current-bg-primary: var(--theme-light-bg-primary);
  --current-bg-hover: var(--theme-light-bg-hover);
  --current-bg-active: var(--theme-light-bg-active);
  --current-bg-surface: var(--theme-light-bg-surface);
  --current-bg-body: var(--theme-light-bg-body);
  
  --current-text-primary: var(--theme-light-text-primary);
  --current-text-secondary: var(--theme-light-text-secondary);
  --current-text-on-primary: var(--theme-light-text-on-primary);
  --current-text-on-surface: var(--theme-light-text-on-surface);
  
  --current-border-primary: var(--theme-light-border-primary);
  --current-border-subtle: var(--theme-light-border-subtle);
  
  /* ==============================
   🔘 컴포넌트 토큰 (계층적 의존성 설계)
   ============================== */
   
  /* === 기본 버튼 토큰 그룹 === */
  --btn-primary-bg: var(--current-bg-primary);
  --btn-primary-bg-hover: var(--current-bg-hover);
  --btn-primary-bg-active: var(--current-bg-active);
  --btn-primary-text: var(--current-text-on-primary);
  --btn-primary-text-active: var(--color-light-400);
  --btn-primary-border: var(--current-border-primary);
  
  /* === Secondary 버튼 토큰 그룹 === */
  --btn-secondary-bg: var(--current-bg-surface);
  --btn-secondary-text: var(--current-text-on-surface);
  --btn-secondary-border: var(--current-border-subtle);
  
  /* === 특수 상태 토큰 그룹 === */
  --btn-disabled-bg: transparent;
  --btn-disabled-text: var(--current-text-secondary);
  --btn-disabled-border: var(--current-border-subtle);
  
  --btn-focus-border: var(--static-focus);
  --btn-hover-border: var(--static-hover);
  --btn-error-border: var(--static-error);

} /* :root 끝 */

/* ==============================
   테마 전환 시스템 🔄
   ============================== */

/* 🌙 Dark 테마 (고대비 접근성 최적화) 활성화 */
.high-contrast {
  /* 현재 활성 테마를 Dark로 전환 */
  --current-bg-primary: var(--theme-dark-bg-primary);
  --current-bg-hover: var(--theme-dark-bg-hover);
  --current-bg-active: var(--theme-dark-bg-active);
  --current-bg-surface: var(--theme-dark-bg-surface);
  --current-bg-body: var(--theme-dark-bg-body);
  
  --current-text-primary: var(--theme-dark-text-primary);
  --current-text-secondary: var(--theme-dark-text-secondary);
  --current-text-on-primary: var(--theme-dark-text-on-primary);
  --current-text-on-surface: var(--theme-dark-text-on-surface);
  
  --current-border-primary: var(--theme-dark-border-primary);
  --current-border-subtle: var(--theme-dark-border-subtle);
  
  /* 컴포넌트 토큰 업데이트 (Dark 테마 특수값) */
  --btn-primary-text-active: var(--color-dark-200);



  /* ==============================
     🔘 컴포넌트 토큰 - 버튼별 색상 정의
     ============================== */
  
  /* 기본 버튼 (Primary-1) */
  --btn-primary-bg: var(--color-light-300);
  --btn-primary-bg-hover: color-mix(in srgb, var(--color-light-300) 85%, white);
  --btn-primary-bg-active: var(--color-light-50);
  --btn-primary-text: var(--color-neutral-0);
  --btn-primary-text-active: var(--color-light-200);
  --btn-primary-border: var(--color-light-300);
  
  /* 포커스 & 호버 (Static) */
  --btn-focus-border: var(--color-static-focus);
  --btn-hover-border: var(--color-static-focus);
  
  /* 비활성 상태 */
  --btn-disabled-bg: var(--color-neutral-200);
  --btn-disabled-text: var(--color-neutral-500);
  --btn-disabled-border: var(--color-neutral-500);

  /* Primary-2 버튼 (Light 테마 변형) */
  --btn-primary2-bg: var(--color-neutral-0);
  --btn-primary2-bg-hover: color-mix(in srgb, var(--color-neutral-0) 90%, var(--color-neutral-900));
  --btn-primary2-bg-active: var(--color-light-300);
  --btn-primary2-text: var(--color-neutral-900);
  --btn-primary2-text-active: var(--color-neutral-0);
  --btn-primary2-border: var(--color-neutral-500);

  /* Secondary-1 버튼 (Neutral 기반) */
  --btn-secondary1-bg: var(--color-neutral-400);
  --btn-secondary1-bg-hover: color-mix(in srgb, var(--color-neutral-400) 85%, white);
  --btn-secondary1-bg-active: var(--color-neutral-100);
  --btn-secondary1-text: var(--color-neutral-0);
  --btn-secondary1-text-active: var(--color-neutral-900);
  --btn-secondary1-border: var(--color-neutral-400);

  /* Secondary-2 버튼 (Neutral 변형) */
  --btn-secondary2-bg: var(--color-neutral-100);
  --btn-secondary2-bg-hover: color-mix(in srgb, var(--color-neutral-100) 90%, var(--color-neutral-900));
  --btn-secondary2-bg-active: var(--color-neutral-400);
  --btn-secondary2-text: var(--color-neutral-900);
  --btn-secondary2-text-active: var(--color-neutral-0);
  --btn-secondary2-border: var(--color-neutral-300);











  /* ==============================
     테두리 스타일
     ============================== */
  --border-style: solid;
  --border-style-active: solid;
  --border-style-disabled: dashed;
  --border-style-hover: var(--border-style-focus);
  --border-style-focus: dashed;

  /* ==============================
     타이포그래피 (rem 기반)
     ============================== */
  --font-family: 'Pretendard GOV', sans-serif;
  --font-size: var(--unit-2xl);    /* 48px → 3rem */
  --font-weight: 600;
  --line-height-label: 1;

  /* ==============================
     아이콘 크기 (rem 기반)
     ============================== */
  --icon-size: var(--font-size);   /* 폰트 사이즈와 동일 */

  /* ==============================
     레이어 순서
     ============================== */
  --z-index-button: 0;
  --z-index-background: -1;
  --z-index-selected-icon: 1;
} /* @layer tokens 끝 */

/* ==============================
   컴포넌트 스타일
   ============================== */
@layer components {

/* ==============================
   레이아웃 기본 설정
   ============================== */
/* ==============================
   🏠 페이지 레이아웃 그룹
   ============================== */
body {
  margin: 0;
  padding: var(--unit-md);
  gap: var(--unit-md);
  background: var(--current-bg-body);
  color: var(--current-text-primary);
  font-family: var(--font-family);
  line-height: 1.0;
}

header {
  text-align: center;
  background: var(--current-bg-body);
  border-bottom: var(--unit-xs) solid var(--current-border-subtle);
  
  & h1 {
    font-size: 2.5rem;
    font-weight: 600;
    color: var(--color-neutral-0);
  }
  
  & p {
    width: fit-content;
    color: var(--color-neutral-0);
  }
}

main {
  margin: 0;
  padding: 1rem;
  display: flex;
  flex-flow: row nowrap;
  align-items: center;
}

/* ==============================
   🎨 쇼케이스 컨테이너 그룹
   ============================== */
.button-showcase {
  background: #FFFFFF05;
  border-radius: calc(var(--unit-xs) * 3);
  border: var(--unit-xs) solid #FFFFFF1A;
  
  & h2 {
    font-size: 1.8rem;
    font-weight: 600;
    color: #FFFFFF;
  }
  
  & p {
    color: #FFFFFFB3;
    font-size: 1rem;
  }
}

.table {
  display: flex;
  flex-flow: column nowrap;
  width: fit-content;
  height: fit-content;
  align-items: center;
  gap: var(--unit-md);
}

.plain-text {
  text-align: center;
  color: #FFFFFF;
  font-weight: 500;
  font-size: 1.1rem;
}

.button-description {
  text-align: center;
  color: #FFFFFF99;
  font-size: 0.9rem;
  max-width: 300px;
}

.palette-showcase {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(12.5rem, 1fr));
  gap: var(--unit-md);
  width: 100%;
  max-width: 75rem;
  justify-items: center;
  
  &-box {
    display: flex;
    flex-flow: column nowrap;
    align-items: center;
    gap: var(--unit-xs);
    min-width: 12.5rem;
    flex: 0 0 auto;
    container-type: inline-size;
    container-name: button-container;
  }
}

.palette-label {
  width: fit-content;
  height: fit-content;
  text-align: center;
  color: #FFFFFF;
  font-weight: 500;
  font-size: 1rem;
}

/* ==============================
   사용법 안내
   ============================== */
.usage-guide {
  background: #FFFFFF05;
  border-radius: calc(var(--unit-xs) * 3); /* 12px → 0.75rem */
  border: var(--unit-xs) solid #FFFFFF1A; /* 1px → 0.25rem */
}

.usage-guide h2 {
  font-size: 1.8rem;
  font-weight: 600;
  color: #FFFFFF;
}

.usage-guide h3 {
  font-size: 1.3rem;
  font-weight: 500;
  color: #FFFFFF;
}

.usage-guide ul {
  color: #FFFFFFB3; /* rgba(255, 255, 255, 0.7) → HEX */
}

.usage-guide li {
  /* li 스타일은 상위 ul에서 상속받습니다 */
}

.usage-guide kbd {
  background: #FFFFFF1A; /* rgba(255, 255, 255, 0.1) → HEX */
  border: var(--unit-xs) solid #FFFFFF33; /* 1px → 0.25rem */
  border-radius: var(--unit-xs); /* 4px → 0.25rem */
  font-family: monospace;
  font-size: 0.9rem;
}

.usage-guide strong {
  color: #FFFFFF;
  font-weight: 600;
}

/* ==============================
   푸터
   ============================== */
footer {
  text-align: center;
  background: #FFFFFF0D; /* rgba(255, 255, 255, 0.05) → HEX */
  border-top: var(--unit-xs) solid #FFFFFF1A; /* 1px → 0.25rem */
  border-bottom: var(--unit-xs) solid #FFFFFF1A; /* 1px → 0.25rem */
  color: #FFFFFF99; /* rgba(255, 255, 255, 0.6) → HEX */
  font-size: 0.9rem;
  padding: var(--unit-sm); /* 0.5rem = 8px */
}

/* 중복 제거됨 - @layer reset에서 이미 정의 */

/* ==============================
   상호작용 상태 (기본, 눌림, 선택, 비활성, 포커스, 호버)
   ============================== */

/* ==============================
   버튼 컴포넌트 (CSS 중첩 구조)
   ============================== */
/**
 * 🔘 메인 버튼 컴포넌트
 * HTML 구조: <button class="button [상태클래스]">
 *   └── <div class="button-background">
 *       ├── <span class="selected-icon"> (토글 버튼만)
 *       ├── <span class="icon">
 *       └── <span class="label">
 */
.button {
  position: relative;
  z-index: var(--z-index-button);
  display: flex;
  justify-content: center;
  align-items: center;
  box-sizing: border-box;
  width: var(--button-width);
  height: var(--button-height);
  color: var(--btn-primary-text);
  cursor: pointer;
  will-change: transform;
  contain: layout style;
  
  /* 🎨 버튼 배경 컨테이너 (.button-background) */
  & .button-background {
    position: relative;
    z-index: var(--z-index-background);
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
    box-sizing: border-box;
  width: 100%;
  height: 100%;
    background-color: var(--btn-primary-bg);
  outline-style: var(--border-style);
    outline-color: var(--btn-primary-border);
    will-change: background-color, outline;
    contain: layout style;
    
    /* 아이콘 */
    & .icon {
      width: var(--icon-size);
      height: var(--icon-size);
      display: flex;
      align-items: center;
      justify-content: center;
      
      & svg {
        width: 100%;                
        height: 100%;
        fill: currentColor;
      }
    }
    
    /* 라벨 */
    & .label {
      width: fit-content;
      height: fit-content;
      font-size: var(--font-size);
      font-weight: var(--font-weight);
      line-height: var(--line-height-label);
      display: flex;
      align-items: center;
      justify-content: center;
    }
  }
  
  /* 상태별 스타일 통합 */
  &:not([aria-disabled="true"]) {
    /* 눌림 상태 (클릭/키보드) */
    &:active,
    &.key-active {
      color: var(--btn-primary-text-active); /* 테마 기반 활성 텍스트 */
      
      & .button-background {
  outline-style: var(--border-style-active);
        outline-color: var(--btn-primary-border); /* 테마 기반 테두리 */
        background-color: var(--btn-primary-bg-active); /* 테마 기반 활성 배경 */
      }
    }
    
    /* 호버 상태 */
    &:hover {
      outline-style: var(--border-style-hover);
      outline-color: var(--btn-hover-border); /* Static 테마 호버 */
      
      & .button-background {
        /* 테마 기반 호버 색상 + color-mix() 동적 계산 */
        background-color: var(--btn-primary-bg-hover);
      }
    }
  }
  
  /* 포커스 상태 (모든 버튼에 적용) */
  &:focus-visible {
    outline-style: var(--border-style-focus);
    outline-color: var(--btn-focus-border); /* Static 테마 포커스 */
  }
  
  /* 선택 상태 아이콘 */
  & .selected-icon {
    position: absolute;
    z-index: var(--z-index-selected-icon);
  display: none;
  width: fit-content;
  height: fit-content;
    
    & svg {
      width: var(--icon-size);
      height: var(--icon-size);
  fill: currentColor;
}
  }
  
  /* 🎯 버튼 상태별 스타일 그룹 */
  
  /* 선택 상태 (토글 버튼) */
  &:not([aria-disabled="true"]).selected {
    color: var(--btn-primary-text-active);
    
    & .button-background {
      outline-style: var(--border-style-active);
      outline-color: var(--btn-primary-border);
      background-color: var(--btn-primary-bg-active);
    }
    
    & .selected-icon {
      display: flex;
    }
  }
  
  /* 호버 상태 */
  &:not([aria-disabled="true"]):hover {
    & .button-background {
      background-color: var(--btn-primary-bg-hover);
      outline-color: var(--btn-hover-border);
    }
  }
  
  /* 포커스 상태 (접근성) */
  &:focus-visible {
    & .button-background {
      outline: 0.125rem solid var(--btn-focus-border);
      outline-offset: 0.125rem;
    }
  }
  
  /* 비활성 상태 */
  &[aria-disabled="true"] {
  cursor: not-allowed;
  pointer-events: none;
    color: var(--btn-disabled-text);

    & * {
  pointer-events: none;
}

    & .button-background {
      background-color: var(--btn-disabled-bg);
      outline-style: var(--border-style-disabled);
      outline-color: var(--btn-disabled-border);
    }
    
    /* 비활성 상태에서의 상호작용 시각 효과 */
    &:hover,
    &:active,
    &:focus-visible {
  outline-style: var(--border-style-focus);
      outline-color: var(--static-focus-color);
      
      & .button-background {
        outline-style: var(--border-style-disabled);
        outline-color: var(--primary-1-border-color-disabled);
      }
    }
    
    /* 비활성화된 버튼의 선택 상태 */
    &.selected {
      color: var(--btn-disabled-text);
      
      & .button-background {
  outline-style: var(--border-style-disabled);
        outline-color: var(--btn-disabled-border);
        background-color: var(--btn-disabled-bg);
      }
    }
  }
  
  /* 🎨 Secondary 버튼 타입별 스타일 */
  
  /* Secondary-1 버튼 (Neutral 기반) */
  &.secondary-1 {
    color: var(--btn-secondary1-text);
    
    & .button-background {
      background-color: var(--btn-secondary1-bg);
      outline-color: var(--btn-secondary1-border);
    }
    
    /* 상태별 스타일 */
    &:not([aria-disabled="true"]):hover {
      & .button-background {
        background-color: var(--btn-secondary1-bg-hover);
      }
    }
    
    &:not([aria-disabled="true"]) {
      &:active,
      &.selected {
        color: var(--btn-secondary1-text-active);
        
        & .button-background {
          background-color: var(--btn-secondary1-bg-active);
          outline-color: var(--btn-secondary1-border);
        }
      }
    }
    
    /* 비활성 상태 */
    &[aria-disabled="true"] {
      color: var(--btn-disabled-text);
      
      & .button-background {
        background-color: var(--btn-disabled-bg);
        outline-color: var(--btn-disabled-border);
      }
    }
  }
  
  /* Secondary-2 버튼 (Neutral 변형) */
  &.secondary-2 {
    color: var(--btn-secondary2-text);
    
    & .button-background {
      background-color: var(--btn-secondary2-bg);
      outline-color: var(--btn-secondary2-border);
    }
    
    /* 상태별 스타일 */
    &:not([aria-disabled="true"]):hover {
      & .button-background {
        background-color: var(--btn-secondary2-bg-hover);
      }
    }
    
    &:not([aria-disabled="true"]) {
      &:active,
      &.selected {
        color: var(--btn-secondary2-text-active);
        
        & .button-background {
          background-color: var(--btn-secondary2-bg-active);
          outline-color: var(--btn-secondary2-border);
        }
      }
    }
    
    /* 비활성 상태 */
    &[aria-disabled="true"] {
      color: var(--btn-disabled-text);
      
      & .button-background {
        background-color: var(--btn-disabled-bg);
        outline-color: var(--btn-disabled-border);
      }
    }
  }
  
  /* Primary-2 버튼 (Light 테마 변형) */
  &.primary-2 {
    color: var(--btn-primary2-text);
    
    & .button-background {
      background-color: var(--btn-primary2-bg);
      outline-color: var(--btn-primary2-border);
    }
    
    /* 상태별 스타일 */
    &:not([aria-disabled="true"]):hover {
      & .button-background {
        background-color: var(--btn-primary2-bg-hover);
      }
    }
    
    &:not([aria-disabled="true"]) {
      &:active,
      &.selected {
        color: var(--btn-primary2-text-active);
        
        & .button-background {
          background-color: var(--btn-primary2-bg-active);
          outline-color: var(--btn-primary2-border);
        }
      }
      
      &:hover {
        outline-color: var(--primary-2-border-color-active);
        
        & .button-background {
          background-color: color-mix(in srgb, var(--primary-2-background-color-default) 90%, var(--primary-2-background-color-active));
        }
      }
      
      &.selected {
        color: var(--primary-2-contents-pre-sel);
        
        & .button-background {
          background-color: var(--primary-2-background-color-active);
          outline-color: var(--primary-2-border-color-active);
        }
      }
    }
    
    &[aria-disabled="true"] {
      color: var(--primary-2-contents-color-disabled);
      
      & .button-background {
        background-color: var(--primary-2-background-color-disabled);
        outline-color: var(--primary-2-border-color-disabled);
      }
      
      &.selected {
        color: var(--primary-2-contents-color-disabled-2);
        
        & .button-background {
          background-color: var(--primary-2-background-color-disabled-2);
          outline-color: var(--primary-2-border-color-disabled-2);
        }
      }
    }
  }
}

} /* @layer components 끝 */

/* ==============================
   Dark 테마 상태 오버라이드 🌙
   ============================== */
@layer states {

/* Dark 테마에서는 --current-* 토큰들을 Dark 테마로 재정의 */
.high-contrast {
  --current-bg-primary: var(--theme-dark-bg-primary);
  --current-bg-hover: var(--theme-dark-bg-hover);
  --current-bg-active: var(--theme-dark-bg-active);
  --current-bg-surface: var(--theme-dark-bg-surface);
  --current-bg-body: var(--theme-dark-bg-body);
  
  --current-text-primary: var(--theme-dark-text-primary);
  --current-text-secondary: var(--theme-dark-text-secondary);
  --current-text-on-primary: var(--theme-dark-text-on-primary);
  --current-text-on-surface: var(--theme-dark-text-on-surface);
  
  --current-border-primary: var(--theme-dark-border-primary);
  --current-border-subtle: var(--theme-dark-border-subtle);
  
  /* 컴포넌트 토큰 업데이트 (Dark 테마 특수값) */
  --btn-primary-text-active: var(--color-dark-200);
}

} /* @layer states 끝 */

/* ==============================
   유틸리티 클래스
   ============================== */
@layer utilities {

/* 레이아웃 유틸리티 */
.sr-only {
  position: absolute;
  width: var(--unit-xs);  /* 1px → 0.25rem */
  height: var(--unit-xs); /* 1px → 0.25rem */
  padding: 0;
  margin: calc(var(--unit-xs) * -1); /* -1px → -0.25rem */
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}

} /* @layer utilities 끝 */

/* ==============================
   📱 반응형 컨테이너 쿼리 그룹
   ============================== */

@container button-container (width < 25rem) { /* 400px → 25rem */
  .button {
    --button-width: clamp(9.375rem, 40vw, 12.5rem);  /* 150px-200px → 9.375rem-12.5rem */
    --button-height: clamp(9.375rem, 40vw, 12.5rem); /* 150px-200px → 9.375rem-12.5rem */
    --font-size: clamp(1.75rem, 8vw, 2.25rem);       /* 28px-36px → 1.75rem-2.25rem */
  }
}

@container button-container (width < 18.75rem) { /* 300px → 18.75rem */
  .button {
    --button-width: clamp(7.5rem, 35vw, 9.375rem);   /* 120px-150px → 7.5rem-9.375rem */
    --button-height: clamp(7.5rem, 35vw, 9.375rem);  /* 120px-150px → 7.5rem-9.375rem */
    --font-size: clamp(1.5rem, 6vw, 1.75rem);        /* 24px-28px → 1.5rem-1.75rem */
  }
}

/* ==============================
   남은 기존 스타일들...
   ============================== */
.button.secondary-1 {
  color: var(--secondary-1-contents-def);
}

.button.secondary-1 .button-background {
  background-color: var(--secondary-1-background-color-default);
  outline-color: var(--secondary-1-border-color-default);
}

/* Secondary-1 눌림 상태 */
.button.secondary-1:not([aria-disabled="true"]):active,
.button.secondary-1:not([aria-disabled="true"]).key-active {
  color: var(--secondary-1-contents-pre-sel);
}

.button.secondary-1:not([aria-disabled="true"]):active .button-background,
.button.secondary-1:not([aria-disabled="true"]).key-active .button-background {
  background-color: var(--secondary-1-background-color-active);
  outline-color: var(--secondary-1-border-color-active);
}

/* Secondary-1 호버 상태 */
.button.secondary-1:not([aria-disabled="true"]):hover {
  outline-color: var(--secondary-1-border-color-active);
}

/* Secondary-1 선택 상태 */
.button.secondary-1:not([aria-disabled="true"]).selected {
  color: var(--secondary-1-contents-pre-sel);
}

.button.secondary-1:not([aria-disabled="true"]).selected .button-background {
  background-color: var(--secondary-1-background-color-active);
  outline-color: var(--secondary-1-border-color-active);
}

/* Secondary-1 비활성 상태 */
.button.secondary-1[aria-disabled="true"] {
  color: var(--secondary-1-contents-color-disabled);
}

.button.secondary-1[aria-disabled="true"] .button-background {
  background-color: var(--secondary-1-background-color-disabled);
  outline-color: var(--secondary-1-border-color-disabled);
}

/* Secondary-1 비활성 선택 상태 */
.button.secondary-1[aria-disabled="true"].selected {
  color: var(--secondary-1-contents-color-disabled-2);
}

.button.secondary-1[aria-disabled="true"].selected .button-background {
  background-color: var(--secondary-1-background-color-disabled-2);
  outline-color: var(--secondary-1-border-color-disabled-2);
}

/* ==============================
   Secondary-2 버튼 스타일
   ============================== */
.button.secondary-2 {
  color: var(--secondary-2-contents-def);
}

.button.secondary-2 .button-background {
  background-color: var(--secondary-2-background-color-default);
  outline-color: var(--secondary-2-border-color-default);
}

/* Secondary-2 눌림 상태 */
.button.secondary-2:not([aria-disabled="true"]):active,
.button.secondary-2:not([aria-disabled="true"]).key-active {
  color: var(--secondary-2-contents-pre-sel);
}

.button.secondary-2:not([aria-disabled="true"]):active .button-background,
.button.secondary-2:not([aria-disabled="true"]).key-active .button-background {
  background-color: var(--secondary-2-background-color-active);
  outline-color: var(--secondary-2-border-color-active);
}

/* Secondary-2 호버 상태 */
.button.secondary-2:not([aria-disabled="true"]):hover {
  outline-color: var(--secondary-2-border-color-active);
}

/* Secondary-2 선택 상태 */
.button.secondary-2:not([aria-disabled="true"]).selected {
  color: var(--secondary-2-contents-pre-sel);
}

.button.secondary-2:not([aria-disabled="true"]).selected .button-background {
  background-color: var(--secondary-2-background-color-active);
  outline-color: var(--secondary-2-border-color-active);
}

/* Secondary-2 비활성 상태 */
.button.secondary-2[aria-disabled="true"] {
  color: var(--secondary-2-contents-color-disabled);
}

.button.secondary-2[aria-disabled="true"] .button-background {
  background-color: var(--secondary-2-background-color-disabled);
  outline-color: var(--secondary-2-border-color-disabled);
}

/* Secondary-2 비활성 선택 상태 */
.button.secondary-2[aria-disabled="true"].selected {
  color: var(--secondary-2-contents-color-disabled-2);
}

.button.secondary-2[aria-disabled="true"].selected .button-background {
  background-color: var(--secondary-2-background-color-disabled-2);
  outline-color: var(--secondary-2-border-color-disabled-2);
}

/* ==============================
   Dark 테마 - 팔래트별 1:1 대응
   ============================== */

/* Primary-1 팔레트 Dark 테마 */
.high-contrast .button:not(.primary-2):not(.secondary-1):not(.secondary-2) {
  --primary-1-background-color-default: var(--primary-1-high-contrast-background-color-default);
  --primary-1-background-color-default-2: var(--primary-1-high-contrast-background-color-default-2);
  --primary-1-background-color-active: var(--primary-1-high-contrast-background-color-active);
  --primary-1-background-color-active-2: var(--primary-1-high-contrast-background-color-active-2);
  --primary-1-background-color-disabled: var(--primary-1-high-contrast-background-color-disabled);
  --primary-1-background-color-disabled-2: var(--primary-1-high-contrast-background-color-disabled-2);
  
  --primary-1-border-color-default: var(--primary-1-high-contrast-border-color-default);
  --primary-1-border-color-default-2: var(--primary-1-high-contrast-border-color-default-2);
  --primary-1-border-color-active: var(--primary-1-high-contrast-border-color-active);
  --primary-1-border-color-active-2: var(--primary-1-high-contrast-border-color-active-2);
  --primary-1-border-color-disabled: var(--primary-1-high-contrast-border-color-disabled);
  --primary-1-border-color-disabled-2: var(--primary-1-high-contrast-border-color-disabled-2);
  
  --primary-1-contents-color-default: var(--primary-1-high-contrast-contents-color-default);
  --primary-1-contents-color-default-2: var(--primary-1-high-contrast-contents-color-default-2);
  --primary-1-contents-color-active: var(--primary-1-high-contrast-contents-color-active);
  --primary-1-contents-color-active-2: var(--primary-1-high-contrast-contents-color-active-2);
  --primary-1-contents-color-disabled: var(--primary-1-high-contrast-contents-color-disabled);
  --primary-1-contents-color-disabled-2: var(--primary-1-high-contrast-contents-color-disabled-2);
}

/* Primary-2 팔레트 Dark 테마 */
.high-contrast .button.primary-2 {
  --primary-2-background-color-default: var(--primary-2-high-contrast-background-color-default);
  --primary-2-background-color-default-2: var(--primary-2-high-contrast-background-color-default-2);
  --primary-2-background-color-active: var(--primary-2-high-contrast-background-color-active);
  --primary-2-background-color-active-2: var(--primary-2-high-contrast-background-color-active-2);
  --primary-2-background-color-disabled: var(--primary-2-high-contrast-background-color-disabled);
  --primary-2-background-color-disabled-2: var(--primary-2-high-contrast-background-color-disabled-2);
  
  --primary-2-border-color-default: var(--primary-2-high-contrast-border-color-default);
  --primary-2-border-color-default-2: var(--primary-2-high-contrast-border-color-default-2);
  --primary-2-border-color-active: var(--primary-2-high-contrast-border-color-active);
  --primary-2-border-color-active-2: var(--primary-2-high-contrast-border-color-active-2);
  --primary-2-border-color-disabled: var(--primary-2-high-contrast-border-color-disabled);
  --primary-2-border-color-disabled-2: var(--primary-2-high-contrast-border-color-disabled-2);
  
  --primary-2-contents-color-default: var(--primary-2-high-contrast-contents-color-default);
  --primary-2-contents-color-default-2: var(--primary-2-high-contrast-contents-color-default-2);
  --primary-2-contents-color-active: var(--primary-2-high-contrast-contents-color-active);
  --primary-2-contents-color-active-2: var(--primary-2-high-contrast-contents-color-active-2);
  --primary-2-contents-color-disabled: var(--primary-2-high-contrast-contents-color-disabled);
  --primary-2-contents-color-disabled-2: var(--primary-2-high-contrast-contents-color-disabled-2);
}

/* Secondary-1 팔레트 Dark 테마 */
.high-contrast .button.secondary-1 {
  --secondary-1-background-color-default: var(--secondary-1-high-contrast-background-color-default);
  --secondary-1-background-color-default-2: var(--secondary-1-high-contrast-background-color-default-2);
  --secondary-1-background-color-active: var(--secondary-1-high-contrast-background-color-active);
  --secondary-1-background-color-active-2: var(--secondary-1-high-contrast-background-color-active-2);
  --secondary-1-background-color-disabled: var(--secondary-1-high-contrast-background-color-disabled);
  --secondary-1-background-color-disabled-2: var(--secondary-1-high-contrast-background-color-disabled-2);
  
  --secondary-1-border-color-default: var(--secondary-1-high-contrast-border-color-default);
  --secondary-1-border-color-default-2: var(--secondary-1-high-contrast-border-color-default-2);
  --secondary-1-border-color-active: var(--secondary-1-high-contrast-border-color-active);
  --secondary-1-border-color-active-2: var(--secondary-1-high-contrast-border-color-active-2);
  --secondary-1-border-color-disabled: var(--secondary-1-high-contrast-border-color-disabled);
  --secondary-1-border-color-disabled-2: var(--secondary-1-high-contrast-border-color-disabled-2);
  
  --secondary-1-contents-color-default: var(--secondary-1-high-contrast-contents-color-default);
  --secondary-1-contents-color-default-2: var(--secondary-1-high-contrast-contents-color-default-2);
  --secondary-1-contents-color-active: var(--secondary-1-high-contrast-contents-color-active);
  --secondary-1-contents-color-active-2: var(--secondary-1-high-contrast-contents-color-active-2);
  --secondary-1-contents-color-disabled: var(--secondary-1-high-contrast-contents-color-disabled);
  --secondary-1-contents-color-disabled-2: var(--secondary-1-high-contrast-contents-color-disabled-2);
}

/* Secondary-2 팔레트 Dark 테마 */
.high-contrast .button.secondary-2 {
  --secondary-2-background-color-default: var(--secondary-2-high-contrast-background-color-default);
  --secondary-2-background-color-default-2: var(--secondary-2-high-contrast-background-color-default-2);
  --secondary-2-background-color-active: var(--secondary-2-high-contrast-background-color-active);
  --secondary-2-background-color-active-2: var(--secondary-2-high-contrast-background-color-active-2);
  --secondary-2-background-color-disabled: var(--secondary-2-high-contrast-background-color-disabled);
  --secondary-2-background-color-disabled-2: var(--secondary-2-high-contrast-background-color-disabled-2);
  
  --secondary-2-border-color-default: var(--secondary-2-high-contrast-border-color-default);
  --secondary-2-border-color-default-2: var(--secondary-2-high-contrast-border-color-default-2);
  --secondary-2-border-color-active: var(--secondary-2-high-contrast-border-color-active);
  --secondary-2-border-color-active-2: var(--secondary-2-high-contrast-border-color-active-2);
  --secondary-2-border-color-disabled: var(--secondary-2-high-contrast-border-color-disabled);
  --secondary-2-border-color-disabled-2: var(--secondary-2-high-contrast-border-color-disabled-2);
  
  --secondary-2-contents-color-default: var(--secondary-2-high-contrast-contents-color-default);
  --secondary-2-contents-color-default-2: var(--secondary-2-high-contrast-contents-color-default-2);
  --secondary-2-contents-color-active: var(--secondary-2-high-contrast-contents-color-active);
  --secondary-2-contents-color-active-2: var(--secondary-2-high-contrast-contents-color-active-2);
  --secondary-2-contents-color-disabled: var(--secondary-2-high-contrast-contents-color-disabled);
  --secondary-2-contents-color-disabled-2: var(--secondary-2-high-contrast-contents-color-disabled-2);
}

/* 공통 초점/호버 상태 Static 요소 */
.high-contrast .button {
  --static-focus-color: var(--high-contrast-focus-color);
  --static-hover-color: var(--high-contrast-hover-color);
}

/* Dark 테마에서 페이지 배경과 텍스트 색상 조정 */
.high-contrast body {
  background: var(--color-neutral-1000); /* body/page bg: 000000 (Dark 테마) */
  color: var(--primitive-color-gray-14); /* body/text sec: FFFFFF (Dark 테마) */
}

.high-contrast header {
  background: var(--color-neutral-1000); /* body/page bg: 000000 */
  border-bottom-color: var(--primitive-color-gray-14); /* body/page bor: FFFFFF */
}

.high-contrast .button-showcase {
  background: #FFFFFF1A; /* rgba(255, 255, 255, 0.1) → HEX */
  border-color: #FFFFFF;
}

.high-contrast .button-showcase h2 {
  color: #FFFFFF;
}

.high-contrast .button-showcase p {
  color: #FFFFFF;
}

.high-contrast .plain-text {
  color: #FFFFFF;
}

.high-contrast .button-description {
  color: #FFFFFF;
}

.high-contrast .usage-guide {
  background: #FFFFFF1A; /* rgba(255, 255, 255, 0.1) → HEX */
  border-color: #FFFFFF;
}

.high-contrast .usage-guide h2,
.high-contrast .usage-guide h3 {
  color: #FFFFFF;
}

.high-contrast .usage-guide ul {
  color: #FFFFFF;
}

.high-contrast .usage-guide kbd {
  background: #FFFFFF;
  border-color: #000000;
  color: #000000;
}

/* ==============================
   Dark 테마 토글 버튼
   ============================== */
.high-contrast-toggle {
  /* 테마 토글 버튼 스타일은 기본 .button 스타일을 상속합니다 */
}

/* ==============================
   🖥️ 시스템 접근성 미디어 쿼리 그룹
   ============================== */

/* 시스템 고대비 설정 자동 감지 → Dark 테마 적용 */
@media (prefers-contrast: high) {
  html:not(.manual-theme-mode) {
    --current-bg-primary: var(--theme-dark-bg-primary);
    --current-bg-hover: var(--theme-dark-bg-hover);
    --current-bg-active: var(--theme-dark-bg-active);
    --current-bg-surface: var(--theme-dark-bg-surface);
    --current-bg-body: var(--theme-dark-bg-body);
    
    --current-text-primary: var(--theme-dark-text-primary);
    --current-text-secondary: var(--theme-dark-text-secondary);
    --current-text-on-primary: var(--theme-dark-text-on-primary);
    --current-text-on-surface: var(--theme-dark-text-on-surface);
    
    --current-border-primary: var(--theme-dark-border-primary);
    --current-border-subtle: var(--theme-dark-border-subtle);
    
    --btn-primary-text-active: var(--color-dark-200);
  }
}

/* 더 강한 대비를 요구하는 시스템 설정 */
@media (prefers-contrast: more) {
  html:not(.manual-theme-mode) {
    /* 매우 강한 대비 (순흑백 기준) */
    --current-bg-primary: var(--color-neutral-1000);
    --current-text-primary: var(--color-dark-100);
    --current-bg-surface: var(--color-neutral-0);
    --current-text-on-surface: var(--color-neutral-1000);
  }
} /* 미디어 쿼리 그룹 끝 */

/* ===============================================
   🎨 버튼 컴포넌트 시스템 CSS - 완료
   =============================================== */